var Ju=Object.defineProperty;var Yu=(e,t,r)=>t in e?Ju(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var re=(e,t,r)=>(Yu(e,typeof t!="symbol"?t+"":t,r),r);import{r as x,j as C,b as pe,a as H,F as jt,aa as Hr,R as Xu}from"./titleword.6ee9a680.js";import{a as Je,g as yt,s as Ee,_ as G,D as Ke,u as lt,b as $e,e as Se,M as ce,f as _t,c as Mr,V as Zu,R as Io,N as fi,a2 as Do,J as pi,Q as hi,a4 as Oa,h as ke,a0 as Qu,X as el,Z as Sa,Y as Un,a5 as tl,W as rl,a6 as nl,a7 as ol,a8 as al,a9 as sl,j as il,B as _e,a3 as Lo,I as Ir}from"./Link.ba7ebf9c.js";import{e as ul,o as qn,u as vi,h as gi,T as ll,i as cl,j as dl,g as ka,M as fl,P as fn,k as Di,L as Dr,l as pl,n as Pa,q as hl,s as vl,c as gl,t as Dl,v as Cl,F as ml,w as Bl,x as bl,a as Ra,y as El,B as jo,z as Ci}from"./overlayscrollbars.eb4d91b5.js";import{S as mi}from"./SwitchBase.fe2c5a52.js";function yl(e){return yt("MuiButtonGroup",e)}const _l=Je("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var $t=_l;const Al=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Fl=(e,t)=>{const{ownerState:r}=e;return[{[`& .${$t.grouped}`]:t.grouped},{[`& .${$t.grouped}`]:t[`grouped${ce(r.orientation)}`]},{[`& .${$t.grouped}`]:t[`grouped${ce(r.variant)}`]},{[`& .${$t.grouped}`]:t[`grouped${ce(r.variant)}${ce(r.orientation)}`]},{[`& .${$t.grouped}`]:t[`grouped${ce(r.variant)}${ce(r.color)}`]},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},wl=e=>{const{classes:t,color:r,disabled:n,disableElevation:o,fullWidth:a,orientation:s,variant:i}=e,u={root:["root",i,s==="vertical"&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${ce(s)}`,`grouped${ce(i)}`,`grouped${ce(i)}${ce(s)}`,`grouped${ce(i)}${ce(r)}`,n&&"disabled"]};return _t(u,yl,t)},xl=Ee("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Fl})(({theme:e,ownerState:t})=>G({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${$t.grouped}`]:G({minWidth:40,"&:not(:first-of-type)":G({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":G({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Ke(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${$t.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${$t.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":G({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":G({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),Ol=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiButtonGroup"}),{children:o,className:a,color:s="primary",component:i="div",disabled:u=!1,disableElevation:c=!1,disableFocusRipple:h=!1,disableRipple:p=!1,fullWidth:l=!1,orientation:d="horizontal",size:v="medium",variant:D="outlined"}=n,B=$e(n,Al),y=G({},n,{color:s,component:i,disabled:u,disableElevation:c,disableFocusRipple:h,disableRipple:p,fullWidth:l,orientation:d,size:v,variant:D}),_=wl(y),F=x.exports.useMemo(()=>({className:_.grouped,color:s,disabled:u,disableElevation:c,disableFocusRipple:h,disableRipple:p,fullWidth:l,size:v,variant:D}),[s,u,c,h,p,l,v,D,_.grouped]);return C(xl,G({as:i,role:"group",className:Se(_.root,a),ref:r,ownerState:y},B,{children:C(ul.Provider,{value:F,children:o})}))});var Sl=Ol;function Na(e){return e.substring(2).toLowerCase()}function kl(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Pl(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=x.exports.useRef(!1),i=x.exports.useRef(null),u=x.exports.useRef(!1),c=x.exports.useRef(!1);x.exports.useEffect(()=>(setTimeout(()=>{u.current=!0},0),()=>{u.current=!1}),[]);const h=Mr(t.ref,i),p=Zu(v=>{const D=c.current;c.current=!1;const B=qn(i.current);if(!u.current||!i.current||"clientX"in v&&kl(v,B))return;if(s.current){s.current=!1;return}let y;v.composedPath?y=v.composedPath().indexOf(i.current)>-1:y=!B.documentElement.contains(v.target)||i.current.contains(v.target),!y&&(r||!D)&&o(v)}),l=v=>D=>{c.current=!0;const B=t.props[v];B&&B(D)},d={ref:h};return a!==!1&&(d[a]=l(a)),x.exports.useEffect(()=>{if(a!==!1){const v=Na(a),D=qn(i.current),B=()=>{s.current=!0};return D.addEventListener(v,p),D.addEventListener("touchmove",B),()=>{D.removeEventListener(v,p),D.removeEventListener("touchmove",B)}}},[p,a]),n!==!1&&(d[n]=l(n)),x.exports.useEffect(()=>{if(n!==!1){const v=Na(n),D=qn(i.current);return D.addEventListener(v,p),()=>{D.removeEventListener(v,p)}}},[p,n]),C(x.exports.Fragment,{children:x.exports.cloneElement(t,d)})}const Rl=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Nl(e,t,r){const n=t.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),a=gi(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const c=a.getComputedStyle(t);s=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let i=0,u=0;if(s&&s!=="none"&&typeof s=="string"){const c=s.split("(")[1].split(")")[0].split(",");i=parseInt(c[4],10),u=parseInt(c[5],10)}return e==="left"?o?`translateX(${o.right+i-n.left}px)`:`translateX(${a.innerWidth+i-n.left}px)`:e==="right"?o?`translateX(-${n.right-o.left-i}px)`:`translateX(-${n.left+n.width-i}px)`:e==="up"?o?`translateY(${o.bottom+u-n.top}px)`:`translateY(${a.innerHeight+u-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-u}px)`:`translateY(-${n.top+n.height-u}px)`}function $l(e){return typeof e=="function"?e():e}function Ur(e,t,r){const n=$l(r),o=Nl(e,t,n);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Tl=x.exports.forwardRef(function(t,r){const n=vi(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:u,container:c,direction:h="down",easing:p=o,in:l,onEnter:d,onEntered:v,onEntering:D,onExit:B,onExited:y,onExiting:_,style:F,timeout:w=a,TransitionComponent:T=ll}=t,S=$e(t,Rl),L=x.exports.useRef(null),g=Mr(u.ref,L,r),m=M=>W=>{M&&(W===void 0?M(L.current):M(L.current,W))},E=m((M,W)=>{Ur(h,M,c),dl(M),d&&d(M,W)}),A=m((M,W)=>{const q=ka({timeout:w,style:F,easing:p},{mode:"enter"});M.style.webkitTransition=n.transitions.create("-webkit-transform",G({},q)),M.style.transition=n.transitions.create("transform",G({},q)),M.style.webkitTransform="none",M.style.transform="none",D&&D(M,W)}),$=m(v),P=m(_),j=m(M=>{const W=ka({timeout:w,style:F,easing:p},{mode:"exit"});M.style.webkitTransition=n.transitions.create("-webkit-transform",W),M.style.transition=n.transitions.create("transform",W),Ur(h,M,c),B&&B(M)}),N=m(M=>{M.style.webkitTransition="",M.style.transition="",y&&y(M)}),R=M=>{s&&s(L.current,M)},z=x.exports.useCallback(()=>{L.current&&Ur(h,L.current,c)},[h,c]);return x.exports.useEffect(()=>{if(l||h==="down"||h==="right")return;const M=cl(()=>{L.current&&Ur(h,L.current,c)}),W=gi(L.current);return W.addEventListener("resize",M),()=>{M.clear(),W.removeEventListener("resize",M)}},[h,l,c]),x.exports.useEffect(()=>{l||z()},[l,z]),C(T,G({nodeRef:L,onEnter:E,onEntered:$,onEntering:A,onExit:j,onExited:N,onExiting:P,addEndListener:R,appear:i,in:l,timeout:w},S,{children:(M,W)=>x.exports.cloneElement(u,G({ref:g,style:G({visibility:M==="exited"&&!l?"hidden":void 0},F,u.props.style)},W))}))});var Ml=Tl;function Il(e){return yt("MuiDrawer",e)}Je("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ll=["BackdropProps"],jl=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Bi=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},zl=e=>{const{classes:t,anchor:r,variant:n}=e,o={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ce(r)}`,n!=="temporary"&&`paperAnchorDocked${ce(r)}`]};return _t(o,Il,t)},Wl=Ee(fl,{name:"MuiDrawer",slot:"Root",overridesResolver:Bi})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),$a=Ee("div",{shouldForwardProp:Io,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Bi})({flex:"0 0 auto"}),Vl=Ee(fn,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${ce(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${ce(r.anchor)}`]]}})(({theme:e,ownerState:t})=>G({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),bi={left:"right",right:"left",top:"down",bottom:"up"};function Hl(e){return["left","right"].indexOf(e)!==-1}function Ul(e,t){return e.direction==="rtl"&&Hl(t)?bi[t]:t}const ql=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiDrawer"}),o=vi(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:i,children:u,className:c,elevation:h=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:l}={},onClose:d,open:v=!1,PaperProps:D={},SlideProps:B,TransitionComponent:y=Ml,transitionDuration:_=a,variant:F="temporary"}=n,w=$e(n.ModalProps,Ll),T=$e(n,jl),S=x.exports.useRef(!1);x.exports.useEffect(()=>{S.current=!0},[]);const L=Ul(o,s),m=G({},n,{anchor:s,elevation:h,open:v,variant:F},T),E=zl(m),A=C(Vl,G({elevation:F==="temporary"?h:0,square:!0},D,{className:Se(E.paper,D.className),ownerState:m,children:u}));if(F==="permanent")return C($a,G({className:Se(E.root,E.docked,c),ownerState:m,ref:r},T,{children:A}));const $=C(y,G({in:v,direction:bi[L],timeout:_,appear:S.current},B,{children:A}));return F==="persistent"?C($a,G({className:Se(E.root,E.docked,c),ownerState:m,ref:r},T,{children:$})):C(Wl,G({BackdropProps:G({},i,l,{transitionDuration:_}),className:Se(E.root,E.modal,c),open:v,ownerState:m,onClose:d,hideBackdrop:p,ref:r},T,w,{children:$}))});var zo=ql;function Kl(e){return yt("MuiFormControlLabel",e)}const Gl=Je("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var qr=Gl;const Jl=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],Yl=e=>{const{classes:t,disabled:r,labelPlacement:n,error:o}=e,a={root:["root",r&&"disabled",`labelPlacement${ce(n)}`,o&&"error"],label:["label",r&&"disabled"]};return _t(a,Kl,t)},Xl=Ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${qr.label}`]:t.label},t.root,t[`labelPlacement${ce(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>G({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${qr.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${qr.label}`]:{[`&.${qr.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Zl=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:s,disabled:i,disableTypography:u,label:c,labelPlacement:h="end"}=n,p=$e(n,Jl),l=fi();let d=i;typeof d=="undefined"&&typeof s.props.disabled!="undefined"&&(d=s.props.disabled),typeof d=="undefined"&&l&&(d=l.disabled);const v={disabled:d};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof s.props[F]=="undefined"&&typeof n[F]!="undefined"&&(v[F]=n[F])});const D=Di({props:n,muiFormControl:l,states:["error"]}),B=G({},n,{disabled:d,labelPlacement:h,error:D.error}),y=Yl(B);let _=c;return _!=null&&_.type!==Do&&!u&&(_=C(Do,G({component:"span",className:y.label},a.typography,{children:_}))),pe(Xl,G({className:Se(y.root,o),ownerState:B,ref:r},p,{children:[x.exports.cloneElement(s,v),_]}))});var Ta=Zl;function Ql(e){return yt("MuiFormGroup",e)}Je("MuiFormGroup",["root","row","error"]);const ec=["className","row"],tc=e=>{const{classes:t,row:r,error:n}=e;return _t({root:["root",r&&"row",n&&"error"]},Ql,t)},rc=Ee("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>G({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),nc=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiFormGroup"}),{className:o,row:a=!1}=n,s=$e(n,ec),i=fi(),u=Di({props:n,muiFormControl:i,states:["error"]}),c=G({},n,{row:a,error:u.error}),h=tc(c);return C(rc,G({className:Se(h.root,o),ownerState:c,ref:r},s))});var oc=nc;function ac(e){return yt("MuiListItem",e)}const sc=Je("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var dr=sc;const ic=Je("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var uc=ic;function lc(e){return yt("MuiListItemSecondaryAction",e)}Je("MuiListItemSecondaryAction",["root","disableGutters"]);const cc=["className"],dc=e=>{const{disableGutters:t,classes:r}=e;return _t({root:["root",t&&"disableGutters"]},lc,r)},fc=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>G({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Ei=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=n,a=$e(n,cc),s=x.exports.useContext(Dr),i=G({},n,{disableGutters:s.disableGutters}),u=dc(i);return C(fc,G({className:Se(u.root,o),ownerState:i,ref:r},a))});Ei.muiName="ListItemSecondaryAction";var pc=Ei;const hc=["className"],vc=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],gc=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},Dc=e=>{const{alignItems:t,button:r,classes:n,dense:o,disabled:a,disableGutters:s,disablePadding:i,divider:u,hasSecondaryAction:c,selected:h}=e;return _t({root:["root",o&&"dense",!s&&"gutters",!i&&"padding",u&&"divider",a&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",h&&"selected"],container:["container"]},ac,n)},Cc=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:gc})(({theme:e,ownerState:t})=>G({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&G({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${uc.root}`]:{paddingRight:48}},{[`&.${dr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${dr.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${dr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${dr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${dr.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),mc=Ee("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Bc=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:a=!1,button:s=!1,children:i,className:u,component:c,components:h={},componentsProps:p={},ContainerComponent:l="li",ContainerProps:{className:d}={},dense:v=!1,disabled:D=!1,disableGutters:B=!1,disablePadding:y=!1,divider:_=!1,focusVisibleClassName:F,secondaryAction:w,selected:T=!1}=n,S=$e(n.ContainerProps,hc),L=$e(n,vc),g=x.exports.useContext(Dr),m=x.exports.useMemo(()=>({dense:v||g.dense||!1,alignItems:o,disableGutters:B}),[o,g.dense,v,B]),E=x.exports.useRef(null);pi(()=>{a&&E.current&&E.current.focus()},[a]);const A=x.exports.Children.toArray(i),$=A.length&&pl(A[A.length-1],["ListItemSecondaryAction"]),P=G({},n,{alignItems:o,autoFocus:a,button:s,dense:m.dense,disabled:D,disableGutters:B,disablePadding:y,divider:_,hasSecondaryAction:$,selected:T}),j=Dc(P),N=Mr(E,r),R=h.Root||Cc,z=p.root||{},M=G({className:Se(j.root,z.className,u),disabled:D},L);let W=c||"li";return s&&(M.component=c||"div",M.focusVisibleClassName=Se(dr.focusVisible,F),W=hi),$?(W=!M.component&&!c?"div":W,l==="li"&&(W==="li"?W="div":M.component==="li"&&(M.component="div")),C(Dr.Provider,{value:m,children:pe(mc,G({as:l,className:Se(j.container,d),ref:N,ownerState:P},S,{children:[C(R,G({},z,!Pa(R)&&{as:W,ownerState:G({},P,z.ownerState)},M,{children:A})),A.pop()]}))})):C(Dr.Provider,{value:m,children:pe(R,G({},z,{as:W,ref:N,ownerState:P},!Pa(R)&&{ownerState:G({},P,z.ownerState)},M,{children:[A,w&&C(pc,{children:w})]}))})});var bc=Bc;const Ec=Je("MuiListItemIcon",["root","alignItemsFlexStart"]);var Ma=Ec;const yc=Je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var Ia=yc;function _c(e){return yt("MuiMenuItem",e)}const Ac=Je("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var yr=Ac;const Fc=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],wc=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},xc=e=>{const{disabled:t,dense:r,divider:n,disableGutters:o,selected:a,classes:s}=e,u=_t({root:["root",r&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",a&&"selected"]},_c,s);return G({},s,u)},Oc=Ee(hi,{shouldForwardProp:e=>Io(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:wc})(({theme:e,ownerState:t})=>G({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yr.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${yr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${yr.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ke(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${yr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${yr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Oa.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Oa.inset}`]:{marginLeft:52},[`& .${Ia.root}`]:{marginTop:0,marginBottom:0},[`& .${Ia.inset}`]:{paddingLeft:36},[`& .${Ma.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&G({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Ma.root} svg`]:{fontSize:"1.25rem"}}))),Sc=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:s=!1,divider:i=!1,disableGutters:u=!1,focusVisibleClassName:c,role:h="menuitem",tabIndex:p,className:l}=n,d=$e(n,Fc),v=x.exports.useContext(Dr),D=x.exports.useMemo(()=>({dense:s||v.dense||!1,disableGutters:u}),[v.dense,s,u]),B=x.exports.useRef(null);pi(()=>{o&&B.current&&B.current.focus()},[o]);const y=G({},n,{dense:D.dense,divider:i,disableGutters:u}),_=xc(n),F=Mr(B,r);let w;return n.disabled||(w=p!==void 0?p:-1),C(Dr.Provider,{value:D,children:C(Oc,G({ref:F,role:h,tabIndex:w,component:a,focusVisibleClassName:Se(_.focusVisible,c),className:Se(_.root,l)},d,{ownerState:y,classes:_}))})});var pn=Sc,kc=ke(C("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Pc=ke(C("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");const Rc=Ee("span")({position:"relative",display:"flex"}),Nc=Ee(kc)({transform:"scale(1)"}),$c=Ee(Pc)(({theme:e,ownerState:t})=>G({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function yi(e){const{checked:t=!1,classes:r={},fontSize:n}=e,o=G({},e,{checked:t});return pe(Rc,{className:r.root,ownerState:o,children:[C(Nc,{fontSize:n,className:r.background,ownerState:o}),C($c,{fontSize:n,className:r.dot,ownerState:o})]})}const Tc=x.exports.createContext(void 0);var _i=Tc;function Mc(){return x.exports.useContext(_i)}function Ic(e){return yt("MuiRadio",e)}const Lc=Je("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]);var La=Lc;const jc=["checked","checkedIcon","color","icon","name","onChange","size","className"],zc=e=>{const{classes:t,color:r}=e,n={root:["root",`color${ce(r)}`]};return G({},t,_t(n,Ic,t))},Wc=Ee(mi,{shouldForwardProp:e=>Io(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ce(r.color)}`]]}})(({theme:e,ownerState:t})=>G({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${La.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${La.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function Vc(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const ja=C(yi,{checked:!0}),za=C(yi,{}),Hc=x.exports.forwardRef(function(t,r){var n,o;const a=lt({props:t,name:"MuiRadio"}),{checked:s,checkedIcon:i=ja,color:u="primary",icon:c=za,name:h,onChange:p,size:l="medium",className:d}=a,v=$e(a,jc),D=G({},a,{color:u,size:l}),B=zc(D),y=Mc();let _=s;const F=hl(p,y&&y.onChange);let w=h;return y&&(typeof _=="undefined"&&(_=Vc(y.value,a.value)),typeof w=="undefined"&&(w=y.name)),C(Wc,G({type:"radio",icon:x.exports.cloneElement(c,{fontSize:(n=za.props.fontSize)!=null?n:l}),checkedIcon:x.exports.cloneElement(i,{fontSize:(o=ja.props.fontSize)!=null?o:l}),ownerState:D,classes:B,name:w,checked:_,onChange:F,ref:r,className:Se(B.root,d)},v))});var Uc=Hc;const qc=["actions","children","defaultValue","name","onChange","value"],Kc=x.exports.forwardRef(function(t,r){const{actions:n,children:o,defaultValue:a,name:s,onChange:i,value:u}=t,c=$e(t,qc),h=x.exports.useRef(null),[p,l]=Qu({controlled:u,default:a,name:"RadioGroup"});x.exports.useImperativeHandle(n,()=>({focus:()=>{let B=h.current.querySelector("input:not(:disabled):checked");B||(B=h.current.querySelector("input:not(:disabled)")),B&&B.focus()}}),[]);const d=Mr(r,h),v=vl(s),D=x.exports.useMemo(()=>({name:v,onChange(B){l(B.target.value),i&&i(B,B.target.value)},value:p}),[v,i,l,p]);return C(_i.Provider,{value:D,children:C(oc,G({role:"radiogroup",ref:d},c,{children:o}))})});var Gc=Kc;const Jc=["component","direction","spacing","divider","children"];function Yc(e,t){const r=x.exports.Children.toArray(e).filter(Boolean);return r.reduce((n,o,a)=>(n.push(o),a<r.length-1&&n.push(x.exports.cloneElement(t,{key:`separator-${a}`})),n),[])}const Xc=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Zc=({ownerState:e,theme:t})=>{let r=G({display:"flex",flexDirection:"column"},Sa({theme:t},Un({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=tl(t),o=Object.keys(t.breakpoints.values).reduce((u,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(u[c]=!0),u),{}),a=Un({values:e.direction,base:o}),s=Un({values:e.spacing,base:o});typeof a=="object"&&Object.keys(a).forEach((u,c,h)=>{if(!a[u]){const l=c>0?a[h[c-1]]:"column";a[u]=l}}),r=rl(r,Sa({theme:t},s,(u,c)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${Xc(c?a[c]:e.direction)}`]:ol(n,u)}})))}return r=nl(t.breakpoints,r),r},Qc=Ee("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})(Zc),ed=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiStack"}),o=el(n),{component:a="div",direction:s="column",spacing:i=0,divider:u,children:c}=o,h=$e(o,Jc);return C(Qc,G({as:a,ownerState:{direction:s,spacing:i},ref:r},h,{children:u?Yc(c,u):c}))});var td=ed;function rd(e){return yt("MuiSwitch",e)}const nd=Je("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var xe=nd;const od=["className","color","edge","size","sx"],ad=e=>{const{classes:t,edge:r,size:n,color:o,checked:a,disabled:s}=e,i={root:["root",r&&`edge${ce(r)}`,`size${ce(n)}`],switchBase:["switchBase",`color${ce(o)}`,a&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=_t(i,rd,t);return G({},t,u)},sd=Ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${ce(r.edge)}`],t[`size${ce(r.size)}`]]}})(({ownerState:e})=>G({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${xe.thumb}`]:{width:16,height:16},[`& .${xe.switchBase}`]:{padding:4,[`&.${xe.checked}`]:{transform:"translateX(16px)"}}})),id=Ee(mi,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${xe.input}`]:t.input},r.color!=="default"&&t[`color${ce(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${xe.checked}`]:{transform:"translateX(20px)"},[`&.${xe.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${xe.checked} + .${xe.track}`]:{opacity:.5},[`&.${xe.disabled} + .${xe.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${xe.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>G({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${xe.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ke(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xe.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?al(e.palette[t.color].main,.62):sl(e.palette[t.color].main,.55)}`}},[`&.${xe.checked} + .${xe.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),ud=Ee("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),ld=Ee("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),cd=x.exports.forwardRef(function(t,r){const n=lt({props:t,name:"MuiSwitch"}),{className:o,color:a="primary",edge:s=!1,size:i="medium",sx:u}=n,c=$e(n,od),h=G({},n,{color:a,edge:s,size:i}),p=ad(h),l=C(ld,{className:p.thumb,ownerState:h});return pe(sd,{className:Se(p.root,o),sx:u,ownerState:h,children:[C(id,G({type:"checkbox",icon:l,checkedIcon:l,ref:r,ownerState:h},c,{classes:G({},p,{root:p.switchBase})})),C(ud,{className:p.track,ownerState:h})]})});var Ai=cd,dd=ke(C("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox"),fd=ke(C("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt"),pd=ke(C("path",{d:"M3 17h18v2H3zm0-7h18v5H3zm0-4h18v2H3z"}),"CalendarViewDay"),hd=ke(C("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),vd=ke(C("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"}),"CloseFullscreen"),gd=ke(C("path",{d:"M18.5 3H6c-1.1 0-2 .9-2 2v5.71c0 3.83 2.95 7.18 6.78 7.29 3.96.12 7.22-3.06 7.22-7v-1h.5c1.93 0 3.5-1.57 3.5-3.5S20.43 3 18.5 3zM16 5v3H6V5h10zm2.5 3H18V5h.5c.83 0 1.5.67 1.5 1.5S19.33 8 18.5 8zM4 19h16v2H4v-2z"}),"Coffee"),Dd=ke(C("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNone"),Cd=ke(C("path",{d:"M3 13c0-2.45 1.76-4.47 4.08-4.91l-1.49 1.5L7 11l4-4.01L7 3 5.59 4.41l1.58 1.58v.06C3.7 6.46 1 9.42 1 13c0 3.87 3.13 7 7 7h3v-2H8c-2.76 0-5-2.24-5-5zm10 0v7h9v-7h-9zm7 5h-5v-3h5v3zM13 4h9v7h-9z"}),"MoveUp"),md=ke(C("path",{d:"m5 9 1.41 1.41L11 5.83V22h2V5.83l4.59 4.59L19 9l-7-7-7 7z"}),"North"),Bd=ke(C("path",{d:"M6.5 5.5 12 11l7-7-1-1-6 6-4.5-4.5H11V3H5v6h1.5V5.5zm17.21 11.17C20.66 13.78 16.54 12 12 12 7.46 12 3.34 13.78.29 16.67c-.18.18-.29.43-.29.71s.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73 1.6 0 3.15.25 4.6.72v3.1c0 .39.23.74.56.9.98.49 1.87 1.12 2.67 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71s-.12-.52-.3-.7z"}),"PhoneMissed"),bd=ke(C("path",{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zm8-12v8h8V3h-8zm6 6h-4V5h4v4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),Fi=ke(C("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings"),Ed=ke(C("path",{d:"m19 15-1.41-1.41L13 18.17V2h-2v16.17l-4.59-4.59L5 15l7 7 7-7z"}),"South");const Te=H.createContext({});function Lr(e){return C(Te.Consumer,{children:t=>C(Te.Provider,{value:{...t,...e.value},children:e.children})})}class Oe extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Oe.prototype)}}class Wo extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Wo.prototype)}}function Wa(e){return e.type!=null}function yd(e){return e.type=="inline"}function On(e){return e.type==null&&e.children!=null}function xr(e){return e.type==null&&e.text!=null}function _d(e,t){if(xr(t)||yd(t))return!0;if(On(t))return!1;let r=e.get_node_first_concept(t);return r?r.meta_parameters.force_inline:!1}class b0{constructor(t,r,n,o){re(this,"firstClassConcepts");re(this,"secondClassConcepts");re(this,"renderers");re(this,"defaultRenderers");const a=()=>({group:{},inline:{},structure:{},support:{},abstract:{}});this.firstClassConcepts=a();for(let s of t)this.firstClassConcepts[s.type][s.name]=s;this.secondClassConcepts=a();for(let s of r)this.secondClassConcepts[s.type][s.name]=s;this.renderers=n,this.defaultRenderers=o}get_second_concept(t,r){return this.secondClassConcepts[t][r]}get_first_concept(t,r){return this.firstClassConcepts[t][r]}get_node_second_concept(t){let r=t.concept;return this.get_second_concept(t.type,r)}get_node_first_concept(t){let r=this.get_node_second_concept(t);if(r==null)return;let n=r.first_concept;return this.get_first_concept(t.type,n)}get_renderer(t,r){if(t!="paragraph"&&t!="text"){if(r==null)return this.defaultRenderers[t];let n=this.renderers[t][r];return n==null&&(n=this.defaultRenderers[t]),n}return this.defaultRenderers[t]}get_node_renderer(t){let r=this;if(xr(t))return r.get_renderer("text");if(On(t))return r.get_renderer("paragraph");let n=r.get_node_first_concept(t),o=n?n.name:void 0;return r.get_renderer(t.type,o)}process_parameters(t){let r=this.get_node_second_concept(t),n=this.get_node_first_concept(t);if(r==null||n==null)return{};let o={...r.default_override,...t.parameters},a={};for(let u in r.fixed_override){if(n.parameter_prototype[u]==null)continue;let c=r.fixed_override[u];if(c.type!="function")a[u]=c;else{let h=Function(`return ${c.val}`)()(o);a[u]={type:n.parameter_prototype[u].type,val:h}}}let s={...n.parameter_prototype,...o,...a},i={};for(let u in s)i[u]=s[u].val;return i}}class Ad extends H.Component{constructor(r){super(r);re(this,"idx2path");re(this,"path_refs");this.path_refs={},this.idx2path={}}get_printer(){return this.props.printer}bind_ref(r){let n=JSON.stringify(r);return this.path_refs[n]||(this.path_refs[n]=H.createRef()),this.path_refs[n]}get_ref(r){let n=JSON.stringify(r);if(this.path_refs[n]&&this.path_refs[n].current)return this.path_refs[n].current}get_ref_from_idx(r){if(this.idx2path[r]!=null)return this.get_ref(this.idx2path[r])}scroll_to_idx(r){this.idx2path[r]!=null&&this.scroll_to(this.idx2path[r])}scroll_to(r){let n=this.get_ref(r);!n||n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}preprocess({root:r,init_env:n}={}){let o=this,a=o.props.printer;r=r||o.props.root,n=n||o.props.init_env||{};function s(l,d,v,D,B,y){let _=a.get_node_renderer(d),F=JSON.stringify(v),w=!0,T=D[F];T==null&&(T={});let S=B[F];if(S==null&&(S={},!xr(d)&&!On(d)&&(S=a.process_parameters(d)),B[F]=S),_.enter(d,S,l,T),!xr(d))for(let m in d.children){let E=d.children[m],[A,$]=s(l,E,[...v,parseInt(m)],D,B,y);w=w&&$,l=A}let[L,g]=_.exit(d,S,l,T);return w=w&&g,Wa(d)&&(y[d.idx]=L||{}),D[F]=T,[l,w]}let i=n,u={},c={},h={},p=!1;for(;!p;){let[l,d]=s(i,r,[],u,h,c);i=l,p=d;break}return[i,u,h,c]}subrender(r){let n=this,[o,a,s,i]=[r.node,r.path,r.all_contexts,r.all_parameters],u=n.subrender.bind(this),c=JSON.stringify(a),h=s[c],p=i[c];if(p==null)throw new Oe(`all_parameters should contain ${c} but it doesn't.`);if(h==null)throw new Oe(`contexts should contain ${c} but it doesn't.`);let d=n.props.printer.get_node_renderer(o).renderer,v=C(jt,{});if(!xr(o)){let B=o.children;v=C(H.Fragment,{children:Object.keys(B).map(y=>C(u,{node:B[y],path:[...a,parseInt(y)],all_contexts:s,all_parameters:i},y))})}return Wa(o)&&(this.idx2path[o.idx]=[...a]),_d(n.props.printer,o)?C("span",{ref:n.bind_ref(a),children:C(d,{context:h,node:o,parameters:p,children:v})}):C("div",{ref:n.bind_ref(a),children:C(d,{context:h,node:o,parameters:p,children:v})})}render(){let r=this,n=r.subrender.bind(this),[o,a,s,i]=r.preprocess();this.props.onUpdateCache&&this.props.onUpdateCache(i);let u={printer:r.props.printer,root:r.props.root,printer_component:r,env:o,all_contexts:a,all_parameters:s,all_caches:i};return C(Lr,{value:u,children:C(n,{node:r.props.root,path:[],all_contexts:a,all_parameters:s})})}}class Vo{constructor(t){re(this,"enter");re(this,"exit");re(this,"renderer");re(this,"renderer_as_property");this.enter=t.enter||((r,n,o,a)=>{}),this.exit=t.exit||((r,n,o,a)=>[{},!0]),this.renderer=t.renderer,this.renderer_as_property=t.renderer_as_property}}function Sr(e,t){if(e==null)return t;if(t==null)return e;if(typeof t!="object")return t;if(typeof e!="object")return e;let r={};for(let n in{...e,...t})r[n]=Sr(e[n],t[n]);return r}const Ho={mui:{palette:{divider:"#00000077",primary:{main:"#111111"}}},printer:{margins:{paragraph:"0.4rem",special:"0.8rem",colon:"1rem",level:"2rem",structure:"0.4rem"},fonts:{body:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},weaken:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},structure:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},display:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},title:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400}}},editor:{margins:{background:"0.5rem",paragraph:"0.8rem",small:"0.2rem"},widths:{editable_drawer:"70%",minimum_content:"3rem"},fonts:{body:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},structure:{fontFamily:"Century Gothic, SimHei",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400}}}};let Yt=H.createContext(Ho);function wi(e){let t=e.value.mui;return e.mui&&t!=null?C(gl,{theme:il(t),children:C(Yt.Consumer,{children:r=>C(Yt.Provider,{value:Sr(r,e.value),children:e.children})})}):C(Yt.Consumer,{children:r=>C(Yt.Provider,{value:Sr(r,e.value),children:e.children})})}const mr=H.createContext("row"),xi=H.createContext(!1);function jr(e){let t=e.title||"";return C(mr.Consumer,{children:r=>C(Dl,{title:t,placement:r=="row"?"left":"top",children:e.children},"tooltip")})}function Fd(e){let t=!e.simple,r=n=>{let o=n=="row"?"horizontal":"vertical",a=t?n=="row"?"column":"row":n;return C(mr.Provider,{value:a,children:C(Sl,{orientation:o,...e.buttongroup_props,children:e.children})})};return e.force_direction!=null?r(e.force_direction):C(mr.Consumer,{children:n=>r(n)})}function Uo(e){let t=!e.simple,r=n=>{let o=t?n=="row"?"column":"row":n;return C(mr.Provider,{value:o,children:C(td,{direction:n,children:e.children})})};return e.force_direction!=null?r(e.force_direction):C(mr.Consumer,{children:n=>r(n)})}class wd extends H.Component{constructor(t){super(t)}render(){let t=this.props,r=t.stacker||Uo,n=t.component||fn,{force_direction:o,children:a,stacker:s,anchorEl:i,open:u,component:c,...h}=t,p=l=>C(xi.Consumer,{children:d=>C(Cl,{anchorEl:t.anchorEl,open:t.open,placement:l=="row"?"right":"bottom",disablePortal:d,transition:!0,...h,children:({TransitionProps:v})=>C(ml,{...v,timeout:350,children:C(fn,{children:C(n,{children:C(r,{children:t.children})})})})})});return t.force_direction!=null?p(t.force_direction):C(mr.Consumer,{children:l=>p(l)})}}const xd=e=>{let t=H.useContext(Yt);return C(_e,{...e,sx:[{...t.printer.fonts.body,padding:t.printer.margins.structure,boxSizing:"border-box",height:"100%",width:"100%",overflowY:"visible",wordWrap:"break-word",paddingX:"2rem"},...Array.isArray(e.sx)?e.sx:[e.sx]]})};new Vo({renderer(e){return C("span",{children:e.children})}});new Vo({renderer(e){let t=e.node;return C("span",{style:{whiteSpace:"normal"},children:t.text})}});new Vo({renderer(e){return e.node,C("div",{children:e.children})}});class E0 extends H.Component{constructor(r){super(r);re(this,"printer_ref");this.printer_ref=H.createRef()}componentDidMount(){for(;!this.get_component(););this.props.onDidMount&&this.props.onDidMount(this.get_component(),this)}get_component(){if(this.printer_ref&&this.printer_ref.current)return this.printer_ref.current}render(){let r=this,n=Sr(Ho,this.props.theme);return C(Lr,{value:{theme:n},children:C(wi,{value:n,children:C(xd,{children:C(Ad,{ref:r.printer_ref,printer:r.props.printer,root:r.props.root,onUpdateCache:r.props.onUpdateCache})})})})}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Va(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fe(e){var t,r;return Va(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Va(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function Ze(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Zt(e){return!!e&&!!e[ze]}function Qt(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Td}(e)||Array.isArray(e)||!!e[Xa]||!!(!((t=e.constructor)===null||t===void 0)&&t[Xa])||qo(e)||Ko(e))}function kr(e,t,r){r===void 0&&(r=!1),br(e)===0?(r?Object.keys:Zo)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function br(e){var t=e[ze];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:qo(e)?2:Ko(e)?3:0}function Co(e,t){return br(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Od(e,t){return br(e)===2?e.get(t):e[t]}function Oi(e,t,r){var n=br(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Sd(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function qo(e){return Nd&&e instanceof Map}function Ko(e){return $d&&e instanceof Set}function Kt(e){return e.o||e.t}function Go(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Md(e);delete t[ze];for(var r=Zo(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Jo(e,t){return t===void 0&&(t=!1),Yo(e)||Zt(e)||!Qt(e)||(br(e)>1&&(e.set=e.add=e.clear=e.delete=kd),Object.freeze(e),t&&kr(e,function(r,n){return Jo(n,!0)},!0)),e}function kd(){Ze(2)}function Yo(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function st(e){var t=Id[e];return t||Ze(18,e),t}function Ha(){return Pr}function Kn(e,t){t&&(st("Patches"),e.u=[],e.s=[],e.v=t)}function hn(e){mo(e),e.p.forEach(Pd),e.p=null}function mo(e){e===Pr&&(Pr=e.l)}function Ua(e){return Pr={p:[],l:Pr,h:e,m:!0,_:0}}function Pd(e){var t=e[ze];t.i===0||t.i===1?t.j():t.O=!0}function Gn(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||st("ES5").S(t,e,n),n?(r[ze].P&&(hn(t),Ze(4)),Qt(e)&&(e=vn(t,e),t.l||gn(t,e)),t.u&&st("Patches").M(r[ze].t,e,t.u,t.s)):e=vn(t,r,[]),hn(t),t.u&&t.v(t.u,t.s),e!==Si?e:void 0}function vn(e,t,r){if(Yo(t))return t;var n=t[ze];if(!n)return kr(t,function(a,s){return qa(e,n,t,a,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return gn(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=Go(n.k):n.o;kr(n.i===3?new Set(o):o,function(a,s){return qa(e,n,o,a,s,r)}),gn(e,o,!1),r&&e.u&&st("Patches").R(n,r,e.u,e.s)}return n.o}function qa(e,t,r,n,o,a){if(Zt(o)){var s=vn(e,o,a&&t&&t.i!==3&&!Co(t.D,n)?a.concat(n):void 0);if(Oi(r,n,s),!Zt(s))return;e.m=!1}if(Qt(o)&&!Yo(o)){if(!e.h.F&&e._<1)return;vn(e,o),t&&t.A.l||gn(e,o)}}function gn(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Jo(t,r)}function Jn(e,t){var r=e[ze];return(r?Kt(r):e)[t]}function Ka(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Bo(e){e.P||(e.P=!0,e.l&&Bo(e.l))}function Yn(e){e.o||(e.o=Go(e.t))}function bo(e,t,r){var n=qo(t)?st("MapSet").N(t,r):Ko(t)?st("MapSet").T(t,r):e.g?function(o,a){var s=Array.isArray(o),i={i:s?1:0,A:a?a.A:Ha(),P:!1,I:!1,D:{},l:a,t:o,k:null,o:null,j:null,C:!1},u=i,c=Eo;s&&(u=[i],c=wr);var h=Proxy.revocable(u,c),p=h.revoke,l=h.proxy;return i.k=l,i.j=p,l}(t,r):st("ES5").J(t,r);return(r?r.A:Ha()).p.push(n),n}function Rd(e){return Zt(e)||Ze(22,e),function t(r){if(!Qt(r))return r;var n,o=r[ze],a=br(r);if(o){if(!o.P&&(o.i<4||!st("ES5").K(o)))return o.t;o.I=!0,n=Ga(r,a),o.I=!1}else n=Ga(r,a);return kr(n,function(s,i){o&&Od(o.t,s)===i||Oi(n,s,t(i))}),a===3?new Set(n):n}(e)}function Ga(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Go(e)}var Ja,Pr,Xo=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Nd=typeof Map!="undefined",$d=typeof Set!="undefined",Ya=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Si=Xo?Symbol.for("immer-nothing"):((Ja={})["immer-nothing"]=!0,Ja),Xa=Xo?Symbol.for("immer-draftable"):"__$immer_draftable",ze=Xo?Symbol.for("immer-state"):"__$immer_state",Td=""+Object.prototype.constructor,Zo=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Md=Object.getOwnPropertyDescriptors||function(e){var t={};return Zo(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Id={},Eo={get:function(e,t){if(t===ze)return e;var r=Kt(e);if(!Co(r,t))return function(o,a,s){var i,u=Ka(a,s);return u?"value"in u?u.value:(i=u.get)===null||i===void 0?void 0:i.call(o.k):void 0}(e,r,t);var n=r[t];return e.I||!Qt(n)?n:n===Jn(e.t,t)?(Yn(e),e.o[t]=bo(e.A.h,n,e)):n},has:function(e,t){return t in Kt(e)},ownKeys:function(e){return Reflect.ownKeys(Kt(e))},set:function(e,t,r){var n=Ka(Kt(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=Jn(Kt(e),t),a=o==null?void 0:o[ze];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Sd(r,o)&&(r!==void 0||Co(e.t,t)))return!0;Yn(e),Bo(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Jn(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Yn(e),Bo(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Kt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Ze(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ze(12)}},wr={};kr(Eo,function(e,t){wr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wr.deleteProperty=function(e,t){return wr.set.call(this,e,t,void 0)},wr.set=function(e,t,r){return Eo.set.call(this,e[0],t,r,e[0])};var Ld=function(){function e(r){var n=this;this.g=Ya,this.F=!0,this.produce=function(o,a,s){if(typeof o=="function"&&typeof a!="function"){var i=a;a=o;var u=n;return function(D){var B=this;D===void 0&&(D=i);for(var y=arguments.length,_=Array(y>1?y-1:0),F=1;F<y;F++)_[F-1]=arguments[F];return u.produce(D,function(w){var T;return(T=a).call.apply(T,[B,w].concat(_))})}}var c;if(typeof a!="function"&&Ze(6),s!==void 0&&typeof s!="function"&&Ze(7),Qt(o)){var h=Ua(n),p=bo(n,o,void 0),l=!0;try{c=a(p),l=!1}finally{l?hn(h):mo(h)}return typeof Promise!="undefined"&&c instanceof Promise?c.then(function(D){return Kn(h,s),Gn(D,h)},function(D){throw hn(h),D}):(Kn(h,s),Gn(c,h))}if(!o||typeof o!="object"){if((c=a(o))===void 0&&(c=o),c===Si&&(c=void 0),n.F&&Jo(c,!0),s){var d=[],v=[];st("Patches").M(o,c,d,v),s(d,v)}return c}Ze(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(c){for(var h=arguments.length,p=Array(h>1?h-1:0),l=1;l<h;l++)p[l-1]=arguments[l];return n.produceWithPatches(c,function(d){return o.apply(void 0,[d].concat(p))})};var s,i,u=n.produce(o,a,function(c,h){s=c,i=h});return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(c){return[c,s,i]}):[u,s,i]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Qt(r)||Ze(8),Zt(r)&&(r=Rd(r));var n=Ua(this),o=bo(this,r,void 0);return o[ze].C=!0,mo(n),o},t.finishDraft=function(r,n){var o=r&&r[ze],a=o.A;return Kn(a,n),Gn(void 0,a)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!Ya&&Ze(20),this.g=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}o>-1&&(n=n.slice(o+1));var s=st("Patches").$;return Zt(r)?s(r,n):this.produce(r,function(i){return s(i,n)})},e}(),We=new Ld,zr=We.produce;We.produceWithPatches.bind(We);We.setAutoFreeze.bind(We);We.setUseProxies.bind(We);We.applyPatches.bind(We);var Za=We.createDraft.bind(We),Qa=We.finishDraft.bind(We),an=zr;function ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dn=new WeakMap,Cn=new WeakMap,_r=new WeakMap,es=new WeakMap,ts=new WeakMap,rs=new WeakMap,ns=new WeakMap;function os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?os(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var jd=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of f.pathRefs(e))Cf.transform(r,t);for(var n of f.pointRefs(e))mf.transform(n,t);for(var o of f.rangeRefs(e))Ef.transform(o,t);var a=Dn.get(e)||[],s=Cn.get(e)||new Set,i,u,c=v=>{if(v){var D=v.join(",");u.has(D)||(u.add(D),i.push(v))}};if(b.operationCanTransformPath(t)){i=[],u=new Set;for(var h of a){var p=b.transform(h,t);c(p)}}else i=a,u=s;var l=zd(t);for(var d of l)c(d);Dn.set(e,i),Cn.set(e,u),k.transform(e,t),e.operations.push(t),f.normalize(e),t.type==="set_selection"&&(e.marks=null),_r.get(e)||(_r.set(e,!0),Promise.resolve().then(()=>{_r.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(O.isExpanded(n))k.setNodes(e,{[t]:r},{match:J.isText,split:!0});else{var o=Kr(Kr({},f.marks(e)||{}),{},{[t]:r});e.marks=o,_r.get(e)||e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&O.isCollapsed(r)&&k.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&O.isCollapsed(r)&&k.delete(e,{unit:t})},deleteFragment:t=>{var{selection:r}=e;r&&O.isExpanded(r)&&k.delete(e,{reverse:t==="backward"})},getFragment:()=>{var{selection:t}=e;return t?V.fragment(e,t):[]},insertBreak:()=>{k.splitNodes(e,{always:!0})},insertFragment:t=>{k.insertFragment(e,t)},insertNode:t=>{k.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(n){var o=Kr({text:t},n);k.insertNodes(e,o)}else k.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!J.isText(r)){if(ie.isElement(r)&&r.children.length===0){var o={text:""};k.insertNodes(e,o,{at:n.concat(0),voids:!0});return}for(var a=f.isEditor(r)?!1:ie.isElement(r)&&(e.isInline(r)||r.children.length===0||J.isText(r.children[0])||e.isInline(r.children[0])),s=0,i=0;i<r.children.length;i++,s++){var u=V.get(e,n);if(!J.isText(u)){var c=r.children[i],h=u.children[s-1],p=i===r.children.length-1,l=J.isText(c)||ie.isElement(c)&&e.isInline(c);if(l!==a)k.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(ie.isElement(c)){if(e.isInline(c)){if(h==null||!J.isText(h)){var d={text:""};k.insertNodes(e,d,{at:n.concat(s),voids:!0}),s++}else if(p){var v={text:""};k.insertNodes(e,v,{at:n.concat(s+1),voids:!0}),s++}}}else h!=null&&J.isText(h)&&(J.equals(c,h,{loose:!0})?(k.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):h.text===""?(k.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):c.text===""&&(k.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}},removeMark:t=>{var{selection:r}=e;if(r)if(O.isExpanded(r))k.unsetNodes(e,t,{match:J.isText,split:!0});else{var n=Kr({},f.marks(e)||{});delete n[t],e.marks=n,_r.get(e)||e.onChange()}}};return e},zd=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return b.levels(t)}case"insert_node":{var{node:r,path:n}=e,o=b.levels(n),a=J.isText(r)?[]:Array.from(V.nodes(r),m=>{var[,E]=m;return n.concat(E)});return[...o,...a]}case"merge_node":{var{path:s}=e,i=b.ancestors(s),u=b.previous(s);return[...i,u]}case"move_node":{var{path:c,newPath:h}=e;if(b.equals(c,h))return[];var p=[],l=[];for(var d of b.ancestors(c)){var v=b.transform(d,e);p.push(v)}for(var D of b.ancestors(h)){var B=b.transform(D,e);l.push(B)}var y=l[l.length-1],_=h[h.length-1],F=y.concat(_);return[...p,...l,F]}case"remove_node":{var{path:w}=e,T=b.ancestors(w);return[...T]}case"split_node":{var{path:S}=e,L=b.levels(S),g=b.next(S);return[...L,g]}default:return[]}};function Wd(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Bt(e,t){if(e==null)return{};var r=Wd(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}var Qo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,o=r?Gd(t):t,a=Q.None,s=Q.None,i=0,u=null,c=null;for(var h of o){var p=h.codePointAt(0);if(!p)break;var l=sf(h,p);if([a,s]=n?[s,l]:[l,a],pr(a,Q.ZWJ)&&pr(s,Q.ExtPict)&&(n?u=as(t.substring(0,i)):u=as(t.substring(0,t.length-i)),!u)||pr(a,Q.RI)&&pr(s,Q.RI)&&(c!==null?c=!c:n?c=!0:c=ff(t.substring(0,t.length-i)),!c)||a!==Q.None&&s!==Q.None&&lf(a,s))break;i+=h.length}return i||1},Vd=/\s/,Hd=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ud=/['\u2018\u2019]/,qd=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,o=!1;t.length>0;){var a=Qo(t,r),[s,i]=ea(t,a,r);if(Kd(s,i,r))o=!0,n+=a;else if(!o)n+=a;else break;t=i}return n},ea=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},Kd=function e(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Vd.test(t))return!1;if(Ud.test(t)){var o=Qo(r,n),[a,s]=ea(r,o,n);if(e(a,s,n))return!0}return!Hd.test(t)},Gd=function*(t){for(var r=t.length-1,n=0;n<t.length;n++){var o=t.charAt(r-n);if(Yd(o.charCodeAt(0))){var a=t.charAt(r-n-1);if(Jd(a.charCodeAt(0))){yield a+o,n++;continue}}yield o}},Jd=e=>e>=55296&&e<=56319,Yd=e=>e>=56320&&e<=57343,Q;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Q||(Q={}));var Xd=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Zd=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Qd=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ef=/^[\u1100-\u115F\uA960-\uA97C]$/,tf=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,rf=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,nf=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,of=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,af=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,sf=(e,t)=>{var r=Q.Any;return e.search(Xd)!==-1&&(r|=Q.Extend),t===8205&&(r|=Q.ZWJ),t>=127462&&t<=127487&&(r|=Q.RI),e.search(Zd)!==-1&&(r|=Q.Prepend),e.search(Qd)!==-1&&(r|=Q.SpacingMark),e.search(ef)!==-1&&(r|=Q.L),e.search(tf)!==-1&&(r|=Q.V),e.search(rf)!==-1&&(r|=Q.T),e.search(nf)!==-1&&(r|=Q.LV),e.search(of)!==-1&&(r|=Q.LVT),e.search(af)!==-1&&(r|=Q.ExtPict),r};function pr(e,t){return(e&t)!==0}var uf=[[Q.L,Q.L|Q.V|Q.LV|Q.LVT],[Q.LV|Q.V,Q.V|Q.T],[Q.LVT|Q.T,Q.T],[Q.Any,Q.Extend|Q.ZWJ],[Q.Any,Q.SpacingMark],[Q.Prepend,Q.Any],[Q.ZWJ,Q.ExtPict],[Q.RI,Q.RI]];function lf(e,t){return uf.findIndex(r=>pr(e,r[0])&&pr(t,r[1]))===-1}var cf=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,as=e=>e.search(cf)!==-1,df=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,ff=e=>{var t=e.match(df);if(t===null)return!1;var r=t[0].length/2;return r%2===1},ss=e=>Fe(e)&&V.isNodeList(e.children)&&!f.isEditor(e),ie={isAncestor(e){return Fe(e)&&V.isNodeList(e.children)},isElement:ss,isElementList(e){return Array.isArray(e)&&e.every(t=>ie.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return ss(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},pf=["text"],hf=["text"];function is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?is(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):is(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var us=new WeakMap,f={above(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:a}=t;if(!!o){var s=f.path(e,o),i=n==="lowest";for(var[u,c]of f.levels(e,{at:s,voids:r,match:a,reverse:i}))if(!J.isText(u)&&!b.equals(s,c))return[u,c]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=f.point(e,t,{edge:"end"}),o=f.end(e,[]),a={anchor:n,focus:o},{distance:s=1}=r,i=0,u;for(var c of f.positions(e,lr(lr({},r),{},{at:a}))){if(i>s)break;i!==0&&(u=c),i++}return u},before(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=f.start(e,[]),o=f.point(e,t,{edge:"start"}),a={anchor:n,focus:o},{distance:s=1}=r,i=0,u;for(var c of f.positions(e,lr(lr({},r),{},{at:a,reverse:!0}))){if(i>s)break;i!==0&&(u=c),i++}return u},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:r="forward"}=t;e.deleteFragment(r)},edges(e,t){return[f.start(e,t),f.end(e,t)]},end(e,t){return f.point(e,t,{edge:"end"})},first(e,t){var r=f.path(e,t,{edge:"start"});return f.node(e,r)},fragment(e,t){var r=f.range(e,t),n=V.fragment(e,r);return n},hasBlocks(e,t){return t.children.some(r=>f.isBlock(e,r))},hasInlines(e,t){return t.children.some(r=>J.isText(r)||f.isInline(e,r))},hasTexts(e,t){return t.children.every(r=>J.isText(r))},insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return ie.isElement(t)&&!e.isInline(t)},isEditor(e){if(!Fe(e))return!1;var t=us.get(e);if(t!==void 0)return t;var r=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||Fe(e.marks))&&(e.selection===null||O.isRange(e.selection))&&V.isNodeList(e.children)&&Tt.isOperationList(e.operations);return us.set(e,r),r},isEnd(e,t,r){var n=f.end(e,r);return ae.equals(t,n)},isEdge(e,t,r){return f.isStart(e,t,r)||f.isEnd(e,t,r)},isEmpty(e,t){var{children:r}=t,[n]=r;return r.length===0||r.length===1&&J.isText(n)&&n.text===""&&!e.isVoid(t)},isInline(e,t){return ie.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=es.get(e);return t===void 0?!0:t},isStart(e,t,r){if(t.offset!==0)return!1;var n=f.start(e,r);return ae.equals(t,n)},isVoid(e,t){return ie.isElement(t)&&e.isVoid(t)},last(e,t){var r=f.path(e,t,{edge:"end"});return f.node(e,r)},leaf(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=f.path(e,t,r),o=V.leaf(e,n);return[o,n]},*levels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!r){var s=[],i=f.path(e,r);for(var[u,c]of V.levels(e,i))if(!!a(u,c)&&(s.push([u,c]),!o&&f.isVoid(e,u)))break;n&&s.reverse(),yield*s}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(O.isExpanded(r)){var[n]=f.nodes(e,{match:J.isText});if(n){var[o]=n,a=Bt(o,pf);return a}else return{}}var{anchor:s}=r,{path:i}=s,[u]=f.leaf(e,i);if(s.offset===0){var c=f.previous(e,{at:i,match:J.isText}),h=f.above(e,{match:D=>f.isBlock(e,D)});if(c&&h){var[p,l]=c,[,d]=h;b.isAncestor(d,l)&&(u=p)}}var v=Bt(u,hf);return v},next(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(!!a){var s=f.after(e,a,{voids:n});if(!!s){var[,i]=f.last(e,[]),u=[s.path,i];if(b.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(b.isPath(a)){var[c]=f.parent(e,a);o=p=>c.children.includes(p)}else o=()=>!0;var[h]=f.nodes(e,{at:u,match:o,mode:r,voids:n});return h}}},node(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=f.path(e,t,r),o=V.get(e,n);return[o,n]},*nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:a=!1,voids:s=!1}=t,{match:i}=t;if(i||(i=()=>!0),!!r){var u,c;if(vf.isSpan(r))u=r[0],c=r[1];else{var h=f.path(e,r,{edge:"start"}),p=f.path(e,r,{edge:"end"});u=a?p:h,c=a?h:p}var l=V.nodes(e,{reverse:a,from:u,to:c,pass:F=>{var[w]=F;return s?!1:f.isVoid(e,w)}}),d=[],v;for(var[D,B]of l){var y=v&&b.compare(B,v[1])===0;if(!(n==="highest"&&y)){if(!i(D,B)){if(o&&!y&&J.isText(D))return;continue}if(n==="lowest"&&y){v=[D,B];continue}var _=n==="lowest"?v:[D,B];_&&(o?d.push(_):yield _),v=[D,B]}}n==="lowest"&&v&&(o?d.push(v):yield v),o&&(yield*d)}},normalize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1}=t,n=u=>Dn.get(u)||[],o=u=>Cn.get(u)||new Set,a=u=>{var c=n(u).pop(),h=c.join(",");return o(u).delete(h),c};if(!!f.isNormalizing(e)){if(r){var s=Array.from(V.nodes(e),u=>{var[,c]=u;return c}),i=new Set(s.map(u=>u.join(",")));Dn.set(e,s),Cn.set(e,i)}n(e).length!==0&&f.withoutNormalizing(e,()=>{for(var u of n(e))if(V.has(e,u)){var c=f.node(e,u),[h,p]=c;ie.isElement(h)&&h.children.length===0&&e.normalizeNode(c)}for(var l=n(e).length*42,d=0;n(e).length!==0;){if(d>l)throw new Error(`
            Could not completely normalize the editor after `.concat(l,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var v=a(e);if(V.has(e,v)){var D=f.node(e,v);e.normalizeNode(D)}d++}})}},parent(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=f.path(e,t,r),o=b.parent(n),a=f.node(e,o);return a},path(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:n,edge:o}=r;if(b.isPath(t)){if(o==="start"){var[,a]=V.first(e,t);t=a}else if(o==="end"){var[,s]=V.last(e,t);t=s}}return O.isRange(t)&&(o==="start"?t=O.start(t):o==="end"?t=O.end(t):t=b.common(t.anchor.path,t.focus.path)),ae.isPoint(t)&&(t=t.path),n!=null&&(t=t.slice(0,n)),t},hasPath(e,t){return V.has(e,t)},pathRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:s}=o,i=f.pathRefs(e);return i.delete(o),o.current=null,s}},a=f.pathRefs(e);return a.add(o),o},pathRefs(e){var t=ts.get(e);return t||(t=new Set,ts.set(e,t)),t},point(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:n="start"}=r;if(b.isPath(t)){var o;if(n==="end"){var[,a]=V.last(e,t);o=a}else{var[,s]=V.first(e,t);o=s}var i=V.get(e,o);if(!J.isText(i))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:n==="end"?i.text.length:0}}if(O.isRange(t)){var[u,c]=O.edges(t);return n==="start"?u:c}return t},pointRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:s}=o,i=f.pointRefs(e);return i.delete(o),o.current=null,s}},a=f.pointRefs(e);return a.add(o),o},pointRefs(e){var t=rs.get(e);return t||(t=new Set,rs.set(e,t)),t},*positions(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1,voids:a=!1}=t;if(!r)return;var s=f.range(e,r),[i,u]=O.edges(s),c=o?u:i,h=!1,p="",l=0,d=0,v=0;for(var[D,B]of f.nodes(e,{at:r,reverse:o,voids:a})){if(ie.isElement(D)){if(!a&&e.isVoid(D)){yield f.start(e,B);continue}if(e.isInline(D))continue;if(f.hasInlines(e,D)){var y=b.isAncestor(B,u.path)?u:f.end(e,B),_=b.isAncestor(B,i.path)?i:f.start(e,B);p=f.string(e,{anchor:_,focus:y},{voids:a}),h=!0}}if(J.isText(D)){var F=b.equals(B,c.path);for(F?(d=o?c.offset:D.text.length-c.offset,v=c.offset):(d=D.text.length,v=o?d:0),(F||h||n==="offset")&&(yield{path:B,offset:v},h=!1);;){if(l===0){if(p==="")break;l=w(p,n,o),p=ea(p,l,o)[1]}if(v=o?v-l:v+l,d=d-l,d<0){l=-d;break}l=0,yield{path:B,offset:v}}}}function w(T,S,L){return S==="character"?Qo(T,L):S==="word"?qd(T,L):S==="line"||S==="block"?T.length:1}},previous(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(!!a){var s=f.before(e,a,{voids:n});if(!!s){var[,i]=f.first(e,[]),u=[s.path,i];if(b.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(b.isPath(a)){var[c]=f.parent(e,a);o=p=>c.children.includes(p)}else o=()=>!0;var[h]=f.nodes(e,{reverse:!0,at:u,match:o,mode:r,voids:n});return h}}},range(e,t,r){if(O.isRange(t)&&!r)return t;var n=f.start(e,t),o=f.end(e,r||t);return{anchor:n,focus:o}},rangeRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:s}=o,i=f.rangeRefs(e);return i.delete(o),o.current=null,s}},a=f.rangeRefs(e);return a.add(o),o},rangeRefs(e){var t=ns.get(e);return t||(t=new Set,ns.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){es.set(e,t)},start(e,t){return f.point(e,t,{edge:"start"})},string(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,o=f.range(e,t),[a,s]=O.edges(o),i="";for(var[u,c]of f.nodes(e,{at:o,match:J.isText,voids:n})){var h=u.text;b.equals(c,s.path)&&(h=h.slice(0,s.offset)),b.equals(c,a.path)&&(h=h.slice(a.offset)),i+=h}return i},unhangRange(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,[o,a]=O.edges(t);if(o.offset!==0||a.offset!==0||O.isCollapsed(t))return t;var s=f.above(e,{at:a,match:d=>f.isBlock(e,d)}),i=s?s[1]:[],u=f.start(e,o),c={anchor:u,focus:a},h=!0;for(var[p,l]of f.nodes(e,{at:c,match:J.isText,reverse:!0,voids:n})){if(h){h=!1;continue}if(p.text!==""||b.isBefore(l,i)){a={path:l,offset:p.text.length};break}}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return f.above(e,lr(lr({},t),{},{match:r=>f.isVoid(e,r)}))},withoutNormalizing(e,t){var r=f.isNormalizing(e);f.setNormalizing(e,!1);try{t()}finally{f.setNormalizing(e,r)}f.normalize(e)}},vf={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(b.isPath)}},gf=["children"],Df=["text"],ls=new WeakMap,V={ancestor(e,t){var r=V.get(e,t);if(J.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of b.ancestors(t,r)){var o=V.ancestor(e,n),a=[o,n];yield a}},child(e,t){if(J.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=r,o=V.ancestor(e,t),{children:a}=o,s=n?a.length-1:0;n?s>=0:s<a.length;){var i=V.child(o,s),u=t.concat(s);yield[i,u],s=n?s-1:s+1}},common(e,t,r){var n=b.common(t,r),o=V.get(e,n);return[o,n]},descendant(e,t){var r=V.get(e,t);if(f.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of V.nodes(e,t))n.length!==0&&(yield[r,n])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of V.nodes(e,t))ie.isElement(r)&&(yield[r,n])},extractProps(e){if(ie.isAncestor(e)){var t=Bt(e,gf);return t}else{var t=Bt(e,Df);return t}},first(e,t){for(var r=t.slice(),n=V.get(e,r);n&&!(J.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(J.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var r=zr({children:e.children},n=>{var[o,a]=O.edges(t),s=V.nodes(n,{reverse:!0,pass:l=>{var[,d]=l;return!O.includes(t,d)}});for(var[,i]of s){if(!O.includes(t,i)){var u=V.parent(n,i),c=i[i.length-1];u.children.splice(c,1)}if(b.equals(i,a.path)){var h=V.leaf(n,i);h.text=h.text.slice(0,a.offset)}if(b.equals(i,o.path)){var p=V.leaf(n,i);p.text=p.text.slice(o.offset)}}f.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(J.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(J.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode(e){return J.isText(e)||ie.isElement(e)||f.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=ls.get(e);if(t!==void 0)return t;var r=e.every(n=>V.isNode(n));return ls.set(e,r),r},last(e,t){for(var r=t.slice(),n=V.get(e,r);n&&!(J.isText(n)||n.children.length===0);){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=V.get(e,t);if(!J.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of b.levels(t,r)){var o=V.get(e,n);yield[o,n]}},matches(e,t){return ie.isElement(e)&&ie.isElementProps(t)&&ie.matches(e,t)||J.isText(e)&&J.isTextProps(t)&&J.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,s=new Set,i=[],u=e;!(a&&(n?b.isBefore(i,a):b.isAfter(i,a)));){if(s.has(u)||(yield[u,i]),!s.has(u)&&!J.isText(u)&&u.children.length!==0&&(r==null||r([u,i])===!1)){s.add(u);var c=n?u.children.length-1:0;b.isAncestor(i,o)&&(c=o[i.length]),i=i.concat(c),u=V.get(e,i);continue}if(i.length===0)break;if(!n){var h=b.next(i);if(V.has(e,h)){i=h,u=V.get(e,i);continue}}if(n&&i[i.length-1]!==0){var p=b.previous(i);i=p,u=V.get(e,i);continue}i=b.parent(i),u=V.get(e,i),s.add(u)}},parent(e,t){var r=b.parent(t),n=V.get(e,r);if(J.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return J.isText(e)?e.text:e.children.map(V.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of V.nodes(e,t))J.isText(r)&&(yield[r,n])}};function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cs(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Tt={isNodeOperation(e){return Tt.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Fe(e))return!1;switch(e.type){case"insert_node":return b.isPath(e.path)&&V.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&b.isPath(e.path);case"merge_node":return typeof e.position=="number"&&b.isPath(e.path)&&Fe(e.properties);case"move_node":return b.isPath(e.path)&&b.isPath(e.newPath);case"remove_node":return b.isPath(e.path)&&V.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&b.isPath(e.path);case"set_node":return b.isPath(e.path)&&Fe(e.properties)&&Fe(e.newProperties);case"set_selection":return e.properties===null&&O.isRange(e.newProperties)||e.newProperties===null&&O.isRange(e.properties)||Fe(e.properties)&&Fe(e.newProperties);case"split_node":return b.isPath(e.path)&&typeof e.position=="number"&&Fe(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Tt.isOperation(t))},isSelectionOperation(e){return Tt.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Tt.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return he(he({},e),{},{type:"remove_node"});case"insert_text":return he(he({},e),{},{type:"remove_text"});case"merge_node":return he(he({},e),{},{type:"split_node",path:b.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(b.equals(t,r))return e;if(b.isSibling(r,t))return he(he({},e),{},{path:t,newPath:r});var n=b.transform(r,e),o=b.transform(b.next(r),e);return he(he({},e),{},{path:n,newPath:o})}case"remove_node":return he(he({},e),{},{type:"insert_node"});case"remove_text":return he(he({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:s}=e;return he(he({},e),{},{properties:s,newProperties:a})}case"set_selection":{var{properties:i,newProperties:u}=e;return i==null?he(he({},e),{},{properties:u,newProperties:null}):u==null?he(he({},e),{},{properties:null,newProperties:i}):he(he({},e),{},{properties:u,newProperties:i})}case"split_node":return he(he({},e),{},{type:"merge_node",path:b.next(e.path)})}}},b={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=b.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n],a=t[n];if(o!==a)break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return b.equals(n,o)&&a>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return b.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return b.equals(n,o)&&a<s},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return b.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&b.compare(e,t)===0},isBefore(e,t){return b.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&b.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&b.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&b.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&b.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),o=e[e.length-1],a=t[t.length-1];return o!==a&&b.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!b.isAncestor(t,e)&&!b.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return zr(e,n=>{var{affinity:o="forward"}=r;if(!(!e||(e==null?void 0:e.length)===0)){if(n===null)return null;switch(t.type){case"insert_node":{var{path:a}=t;(b.equals(a,n)||b.endsBefore(a,n)||b.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(b.equals(s,n)||b.isAncestor(s,n))return null;b.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:i,position:u}=t;b.equals(i,n)||b.endsBefore(i,n)?n[i.length-1]-=1:b.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=u);break}case"split_node":{var{path:c,position:h}=t;if(b.equals(c,n)){if(o==="forward")n[n.length-1]+=1;else if(o!=="backward")return null}else b.endsBefore(c,n)?n[c.length-1]+=1:b.isAncestor(c,n)&&e[c.length]>=h&&(n[c.length-1]+=1,n[c.length]-=h);break}case"move_node":{var{path:p,newPath:l}=t;if(b.equals(p,l))return;if(b.isAncestor(p,n)||b.equals(p,n)){var d=l.slice();return b.endsBefore(p,l)&&p.length<l.length&&(d[p.length-1]-=1),d.concat(n.slice(p.length))}else b.isSibling(p,l)&&(b.isAncestor(l,n)||b.equals(l,n))?b.endsBefore(p,n)?n[p.length-1]-=1:n[p.length-1]+=1:b.endsBefore(l,n)||b.equals(l,n)||b.isAncestor(l,n)?(b.endsBefore(p,n)&&(n[p.length-1]-=1),n[l.length-1]+=1):b.endsBefore(p,n)&&(b.equals(l,n)&&(n[l.length-1]+=1),n[p.length-1]-=1);break}}}})}},Cf={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=b.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}};function ds(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ds(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ds(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ae={compare(e,t){var r=b.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return ae.compare(e,t)===1},isBefore(e,t){return ae.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&b.equals(e.path,t.path)},isPoint(e){return Fe(e)&&typeof e.offset=="number"&&b.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return zr(e,n=>{if(n===null)return null;var{affinity:o="forward"}=r,{path:a,offset:s}=n;switch(t.type){case"insert_node":case"move_node":{n.path=b.transform(a,t,r);break}case"insert_text":{b.equals(t.path,a)&&t.offset<=s&&(n.offset+=t.text.length);break}case"merge_node":{b.equals(t.path,a)&&(n.offset+=t.position),n.path=b.transform(a,t,r);break}case"remove_text":{b.equals(t.path,a)&&t.offset<=s&&(n.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(b.equals(t.path,a)||b.isAncestor(t.path,a))return null;n.path=b.transform(a,t,r);break}case"split_node":{if(b.equals(t.path,a)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(n.offset-=t.position,n.path=b.transform(a,t,fs(fs({},r),{},{affinity:"forward"})))}else n.path=b.transform(a,t,r);break}}})}},mf={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=ae.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}},Bf=["anchor","focus"];function ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ps(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ps(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var O={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return O.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=O.edges(e);return t},equals(e,t){return ae.equals(e.anchor,t.anchor)&&ae.equals(e.focus,t.focus)},includes(e,t){if(O.isRange(t)){if(O.includes(e,t.anchor)||O.includes(e,t.focus))return!0;var[r,n]=O.edges(e),[o,a]=O.edges(t);return ae.isBefore(r,o)&&ae.isAfter(n,a)}var[s,i]=O.edges(e),u=!1,c=!1;return ae.isPoint(t)?(u=ae.compare(t,s)>=0,c=ae.compare(t,i)<=0):(u=b.compare(t,s.path)>=0,c=b.compare(t,i.path)<=0),u&&c},intersection(e,t){var r=Bt(e,Bf),[n,o]=O.edges(e),[a,s]=O.edges(t),i=ae.isBefore(n,a)?a:n,u=ae.isBefore(o,s)?o:s;return ae.isBefore(u,i)?null:bf({anchor:i,focus:u},r)},isBackward(e){var{anchor:t,focus:r}=e;return ae.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return ae.equals(t,r)},isExpanded(e){return!O.isCollapsed(e)},isForward(e){return!O.isBackward(e)},isRange(e){return Fe(e)&&ae.isPoint(e.anchor)&&ae.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=O.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return zr(e,n=>{if(n===null)return null;var{affinity:o="inward"}=r,a,s;if(o==="inward"){var i=O.isCollapsed(n);O.isForward(n)?(a="forward",s=i?a:"backward"):(a="backward",s=i?a:"forward")}else o==="outward"?O.isForward(n)?(a="backward",s="forward"):(a="forward",s="backward"):(a=o,s=o);var u=ae.transform(n.anchor,t,{affinity:a}),c=ae.transform(n.focus,t,{affinity:s});if(!u||!c)return null;n.anchor=u,n.focus=c})}},Ef={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=O.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}},ki=(e,t)=>{for(var r in e){var n=e[r],o=t[r];if(Fe(n)&&Fe(o)){if(!ki(n,o))return!1}else if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==o[a])return!1}else if(n!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0},yf=["text"],_f=["anchor","focus"];function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hs(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var J={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function o(a){var s=Bt(a,yf);return s}return ki(n?o(e):e,n?o(t):t)},isText(e){return Fe(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>J.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[gt({},e)];for(var n of t){var o=Bt(n,_f),[a,s]=O.edges(n),i=[],u=0;for(var c of r){var{length:h}=c.text,p=u;if(u+=h,a.offset<=p&&s.offset>=u){Object.assign(c,o),i.push(c);continue}if(a.offset!==s.offset&&(a.offset===u||s.offset===p)||a.offset>u||s.offset<p||s.offset===p&&p!==0){i.push(c);continue}var l=c,d=void 0,v=void 0;if(s.offset<u){var D=s.offset-p;v=gt(gt({},l),{},{text:l.text.slice(D)}),l=gt(gt({},l),{},{text:l.text.slice(0,D)})}if(a.offset>p){var B=a.offset-p;d=gt(gt({},l),{},{text:l.text.slice(0,B)}),l=gt(gt({},l),{},{text:l.text.slice(B)})}Object.assign(l,o),d&&i.push(d),i.push(l),v&&i.push(v)}r=i}return r}};function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vs(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Af=(e,t,r)=>{switch(r.type){case"insert_node":{var{path:n,node:o}=r,a=V.parent(e,n),s=n[n.length-1];if(s>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(s,0,o),t)for(var[i,u]of O.points(t))t[u]=ae.transform(i,r);break}case"insert_text":{var{path:c,offset:h,text:p}=r;if(p.length===0)break;var l=V.leaf(e,c),d=l.text.slice(0,h),v=l.text.slice(h);if(l.text=d+p+v,t)for(var[D,B]of O.points(t))t[B]=ae.transform(D,r);break}case"merge_node":{var{path:y}=r,_=V.get(e,y),F=b.previous(y),w=V.get(e,F),T=V.parent(e,y),S=y[y.length-1];if(J.isText(_)&&J.isText(w))w.text+=_.text;else if(!J.isText(_)&&!J.isText(w))w.children.push(..._.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(_," ").concat(w));if(T.children.splice(S,1),t)for(var[L,g]of O.points(t))t[g]=ae.transform(L,r);break}case"move_node":{var{path:m,newPath:E}=r;if(b.isAncestor(m,E))throw new Error("Cannot move a path [".concat(m,"] to new path [").concat(E,"] because the destination is inside itself."));var A=V.get(e,m),$=V.parent(e,m),P=m[m.length-1];$.children.splice(P,1);var j=b.transform(m,r),N=V.get(e,b.parent(j)),R=j[j.length-1];if(N.children.splice(R,0,A),t)for(var[z,M]of O.points(t))t[M]=ae.transform(z,r);break}case"remove_node":{var{path:W}=r,q=W[W.length-1],K=V.parent(e,W);if(K.children.splice(q,1),t)for(var[Y,ne]of O.points(t)){var U=ae.transform(Y,r);if(t!=null&&U!=null)t[ne]=U;else{var X=void 0,Z=void 0;for(var[ee,oe]of V.texts(e))if(b.compare(oe,W)===-1)X=[ee,oe];else{Z=[ee,oe];break}var te=!1;X&&Z&&(b.equals(Z[1],W)?te=!b.hasPrevious(Z[1]):te=b.common(X[1],W).length<b.common(Z[1],W).length),X&&!te?(Y.path=X[1],Y.offset=X[0].text.length):Z?(Y.path=Z[1],Y.offset=0):t=null}}break}case"remove_text":{var{path:ue,offset:ge,text:Ue}=r;if(Ue.length===0)break;var fe=V.leaf(e,ue),Pe=fe.text.slice(0,ge),Ye=fe.text.slice(ge+Ue.length);if(fe.text=Pe+Ye,t)for(var[dt,Vt]of O.points(t))t[Vt]=ae.transform(dt,r);break}case"set_node":{var{path:ft,properties:sr,newProperties:pt}=r;if(ft.length===0)throw new Error("Cannot set properties on the root node!");var xt=V.get(e,ft);for(var Re in pt){if(Re==="children"||Re==="text")throw new Error('Cannot set the "'.concat(Re,'" property of nodes!'));var Ht=pt[Re];Ht==null?delete xt[Re]:xt[Re]=Ht}for(var Ut in sr)pt.hasOwnProperty(Ut)||delete xt[Ut];break}case"set_selection":{var{newProperties:Ne}=r;if(Ne==null)t=Ne;else{if(t==null){if(!O.isRange(Ne))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ne)," when there is no current selection."));t=Ar({},Ne)}for(var Xe in Ne){var ir=Ne[Xe];if(ir==null){if(Xe==="anchor"||Xe==="focus")throw new Error('Cannot remove the "'.concat(Xe,'" selection property'));delete t[Xe]}else t[Xe]=ir}}break}case"split_node":{var{path:ot,position:Ot,properties:ur}=r;if(ot.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ot,"] because the root node cannot be split."));var be=V.get(e,ot),St=V.parent(e,ot),qt=ot[ot.length-1],ht;if(J.isText(be)){var vt=be.text.slice(0,Ot),kt=be.text.slice(Ot);be.text=vt,ht=Ar(Ar({},ur),{},{text:kt})}else{var at=be.children.slice(0,Ot),jn=be.children.slice(Ot);be.children=at,ht=Ar(Ar({},ur),{},{children:jn})}if(St.children.splice(qt+1,0,ht),t)for(var[Pt,zn]of O.points(t))t[zn]=ae.transform(Pt,r);break}}return t},Ff={transform(e,t){e.children=Za(e.children);var r=e.selection&&Za(e.selection);try{r=Af(e,r,t)}finally{e.children=Qa(e.children),r?e.selection=Zt(r)?Qa(r):r:e.selection=null}}},wf=["text"],xf=["children"];function gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gs(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Of={insertNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:a="lowest"}=r,{at:s,match:i,select:u}=r;if(V.isNode(t)&&(t=[t]),t.length!==0){var[c]=t;if(s||(e.selection?s=e.selection:e.children.length>0?s=f.end(e,[]):s=[0],u=!0),u==null&&(u=!1),O.isRange(s))if(n||(s=f.unhangRange(e,s)),O.isCollapsed(s))s=s.anchor;else{var[,h]=O.edges(s),p=f.pointRef(e,h);k.delete(e,{at:s}),s=p.unref()}if(ae.isPoint(s)){i==null&&(J.isText(c)?i=S=>J.isText(S):e.isInline(c)?i=S=>J.isText(S)||f.isInline(e,S):i=S=>f.isBlock(e,S));var[l]=f.nodes(e,{at:s.path,match:i,mode:a,voids:o});if(l){var[,d]=l,v=f.pathRef(e,d),D=f.isEnd(e,s,d);k.splitNodes(e,{at:s,match:i,mode:a,voids:o});var B=v.unref();s=D?b.next(B):B}else return}var y=b.parent(s),_=s[s.length-1];if(!(!o&&f.void(e,{at:y}))){for(var F of t){var w=y.concat(_);_++,e.apply({type:"insert_node",path:w,node:F}),s=b.next(s)}if(s=b.previous(s),u){var T=f.end(e,s);T&&k.select(e,T)}}}})},liftNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:a}=t;if(a==null&&(a=b.isPath(r)?cr(e,r):F=>f.isBlock(e,F)),!!r){var s=f.nodes(e,{at:r,match:a,mode:n,voids:o}),i=Array.from(s,F=>{var[,w]=F;return f.pathRef(e,w)});for(var u of i){var c=u.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var h=f.node(e,b.parent(c)),[p,l]=h,d=c[c.length-1],{length:v}=p.children;if(v===1){var D=b.next(l);k.moveNodes(e,{at:c,to:D,voids:o}),k.removeNodes(e,{at:l,voids:o})}else if(d===0)k.moveNodes(e,{at:c,to:l,voids:o});else if(d===v-1){var B=b.next(l);k.moveNodes(e,{at:c,to:B,voids:o})}else{var y=b.next(c),_=b.next(l);k.splitNodes(e,{at:y,voids:o}),k.moveNodes(e,{at:c,to:_,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:a=!1,mode:s="lowest"}=t;if(!!n){if(r==null)if(b.isPath(n)){var[i]=f.parent(e,n);r=m=>i.children.includes(m)}else r=m=>f.isBlock(e,m);if(!o&&O.isRange(n)&&(n=f.unhangRange(e,n)),O.isRange(n))if(O.isCollapsed(n))n=n.anchor;else{var[,u]=O.edges(n),c=f.pointRef(e,u);k.delete(e,{at:n}),n=c.unref(),t.at==null&&k.select(e,n)}var[h]=f.nodes(e,{at:n,match:r,voids:a,mode:s}),p=f.previous(e,{at:n,match:r,voids:a,mode:s});if(!(!h||!p)){var[l,d]=h,[v,D]=p;if(!(d.length===0||D.length===0)){var B=b.next(D),y=b.common(d,D),_=b.isSibling(d,D),F=Array.from(f.levels(e,{at:d}),m=>{var[E]=m;return E}).slice(y.length).slice(0,-1),w=f.above(e,{at:d,mode:"highest",match:m=>F.includes(m)&&Pi(e,m)}),T=w&&f.pathRef(e,w[1]),S,L;if(J.isText(l)&&J.isText(v)){var g=Bt(l,wf);L=v.text.length,S=g}else if(ie.isElement(l)&&ie.isElement(v)){var g=Bt(l,xf);L=v.children.length,S=g}else throw new Error("Cannot merge the node at path [".concat(d,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(l)," ").concat(JSON.stringify(v)));_||k.moveNodes(e,{at:d,to:B,voids:a}),T&&k.removeNodes(e,{at:T.current,voids:a}),ie.isElement(v)&&f.isEmpty(e,v)||J.isText(v)&&v.text===""&&D[D.length-1]!==0?k.removeNodes(e,{at:D,voids:a}):e.apply({type:"merge_node",path:B,position:L,properties:S}),T&&T.unref()}}}})},moveNodes(e,t){f.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:a=!1}=t,{match:s}=t;if(!!n){s==null&&(s=b.isPath(n)?cr(e,n):d=>f.isBlock(e,d));var i=f.pathRef(e,r),u=f.nodes(e,{at:n,match:s,mode:o,voids:a}),c=Array.from(u,d=>{var[,v]=d;return f.pathRef(e,v)});for(var h of c){var p=h.unref(),l=i.current;p.length!==0&&e.apply({type:"move_node",path:p,newPath:l}),i.current&&b.isSibling(l,p)&&b.isAfter(l,p)&&(i.current=b.next(i.current))}i.unref()}})},removeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:a=e.selection,match:s}=t;if(!!a){s==null&&(s=b.isPath(a)?cr(e,a):l=>f.isBlock(e,l)),!r&&O.isRange(a)&&(a=f.unhangRange(e,a));var i=f.nodes(e,{at:a,match:s,mode:o,voids:n}),u=Array.from(i,l=>{var[,d]=l;return f.pathRef(e,d)});for(var c of u){var h=c.unref();if(h){var[p]=f.node(e,h);e.apply({type:"remove_node",path:h,node:p})}}}})},setNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:a=!1,mode:s="lowest",split:i=!1,voids:u=!1}=r;if(!!o){if(n==null&&(n=b.isPath(o)?cr(e,o):T=>f.isBlock(e,T)),!a&&O.isRange(o)&&(o=f.unhangRange(e,o)),i&&O.isRange(o)){if(O.isCollapsed(o)&&f.leaf(e,o.anchor)[0].text.length>0)return;var c=f.rangeRef(e,o,{affinity:"inward"}),[h,p]=O.edges(o),l=s==="lowest"?"lowest":"highest",d=f.isEnd(e,p,p.path);k.splitNodes(e,{at:p,match:n,mode:l,voids:u,always:!d});var v=f.isStart(e,h,h.path);k.splitNodes(e,{at:h,match:n,mode:l,voids:u,always:!v}),o=c.unref(),r.at==null&&k.select(e,o)}for(var[D,B]of f.nodes(e,{at:o,match:n,mode:s,voids:u})){var y={},_={};if(B.length!==0){var F=!1;for(var w in t)w==="children"||w==="text"||t[w]!==D[w]&&(F=!0,D.hasOwnProperty(w)&&(y[w]=D[w]),t[w]!=null&&(_[w]=t[w]));F&&e.apply({type:"set_node",path:B,properties:y,newProperties:_})}}}})},splitNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection,height:s=0,always:i=!1}=t;if(o==null&&(o=z=>f.isBlock(e,z)),O.isRange(a)&&(a=Sf(e,a)),b.isPath(a)){var u=a,c=f.point(e,u),[h]=f.parent(e,u);o=z=>z===h,s=c.path.length-u.length+1,a=c,i=!0}if(!!a){var p=f.pointRef(e,a,{affinity:"backward"}),[l]=f.nodes(e,{at:a,match:o,mode:r,voids:n});if(!!l){var d=f.void(e,{at:a,mode:"highest"}),v=0;if(!n&&d){var[D,B]=d;if(ie.isElement(D)&&e.isInline(D)){var y=f.after(e,B);if(!y){var _={text:""},F=b.next(B);k.insertNodes(e,_,{at:F,voids:n}),y=f.point(e,F)}a=y,i=!0}var w=a.path.length-B.length;s=w+1,i=!0}var T=f.pointRef(e,a),S=a.path.length-s,[,L]=l,g=a.path.slice(0,S),m=s===0?a.offset:a.path[S]+v;for(var[E,A]of f.levels(e,{at:g,reverse:!0,voids:n})){var $=!1;if(A.length<L.length||A.length===0||!n&&f.isVoid(e,E))break;var P=p.current,j=f.isEnd(e,P,A);if(i||!p||!f.isEdge(e,P,A)){$=!0;var N=V.extractProps(E);e.apply({type:"split_node",path:A,position:m,properties:N})}m=A[A.length-1]+($||j?1:0)}if(t.at==null){var R=T.current||f.end(e,[]);k.select(e,R)}p.unref(),T.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;k.setNodes(e,n,r)},unwrapNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:a=e.selection,match:s}=t;if(!!a){s==null&&(s=b.isPath(a)?cr(e,a):l=>f.isBlock(e,l)),b.isPath(a)&&(a=f.range(e,a));var i=O.isRange(a)?f.rangeRef(e,a):null,u=f.nodes(e,{at:a,match:s,mode:r,voids:o}),c=Array.from(u,l=>{var[,d]=l;return f.pathRef(e,d)}).reverse(),h=function(d){var v=d.unref(),[D]=f.node(e,v),B=f.range(e,v);n&&i&&(B=O.intersection(i.current,B)),k.liftNodes(e,{at:B,match:y=>ie.isAncestor(D)&&D.children.includes(y),voids:o})};for(var p of c)h(p);i&&i.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:a=!1}=r,{match:s,at:i=e.selection}=r;if(!!i){if(s==null&&(b.isPath(i)?s=cr(e,i):e.isInline(t)?s=B=>f.isInline(e,B)||J.isText(B):s=B=>f.isBlock(e,B)),o&&O.isRange(i)){var[u,c]=O.edges(i),h=f.rangeRef(e,i,{affinity:"inward"});k.splitNodes(e,{at:c,match:s,voids:a}),k.splitNodes(e,{at:u,match:s,voids:a}),i=h.unref(),r.at==null&&k.select(e,i)}var p=Array.from(f.nodes(e,{at:i,match:e.isInline(t)?B=>f.isBlock(e,B):B=>f.isEditor(B),mode:"lowest",voids:a}));for(var[,l]of p){var d=O.isRange(i)?O.intersection(i,f.range(e,l)):i;if(!!d){var v=Array.from(f.nodes(e,{at:d,match:s,mode:n,voids:a}));if(v.length>0){var D=function(){var[B]=v,y=v[v.length-1],[,_]=B,[,F]=y;if(_.length===0&&F.length===0)return"continue";var w=b.equals(_,F)?b.parent(_):b.common(_,F),T=f.range(e,_,F),S=f.node(e,w),[L]=S,g=w.length+1,m=b.next(F.slice(0,g)),E=Ds(Ds({},t),{},{children:[]});k.insertNodes(e,E,{at:m,voids:a}),k.moveNodes(e,{at:T,match:A=>ie.isAncestor(L)&&L.children.includes(A),to:m.concat(0),voids:a})}();if(D==="continue")continue}}}}})}},Pi=(e,t)=>{if(ie.isElement(t)){var r=t;return f.isVoid(e,t)?!0:r.children.length===1?Pi(e,r.children[0]):!1}else return!f.isEditor(t)},Sf=(e,t)=>{if(O.isCollapsed(t))return t.anchor;var[,r]=O.edges(t),n=f.pointRef(e,r);return k.delete(e,{at:t}),n.unref()},cr=(e,t)=>{var[r]=f.node(e,t);return n=>n===r};function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cs(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var kf={collapse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n){if(r==="anchor")k.select(e,n.anchor);else if(r==="focus")k.select(e,n.focus);else if(r==="start"){var[o]=O.edges(n);k.select(e,o)}else if(r==="end"){var[,a]=O.edges(n);k.select(e,a)}}else return},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:a=!1}=t,{edge:s=null}=t;if(!!r){s==="start"&&(s=O.isBackward(r)?"focus":"anchor"),s==="end"&&(s=O.isBackward(r)?"anchor":"focus");var{anchor:i,focus:u}=r,c={distance:n,unit:o},h={};if(s==null||s==="anchor"){var p=a?f.before(e,i,c):f.after(e,i,c);p&&(h.anchor=p)}if(s==null||s==="focus"){var l=a?f.before(e,u,c):f.after(e,u,c);l&&(h.focus=l)}k.setSelection(e,h)}},select(e,t){var{selection:r}=e;if(t=f.range(e,t),r){k.setSelection(e,t);return}if(!O.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})},setPoint(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:n}=e,{edge:o="both"}=r;if(!!n){o==="start"&&(o=O.isBackward(n)?"focus":"anchor"),o==="end"&&(o=O.isBackward(n)?"anchor":"focus");var{anchor:a,focus:s}=n,i=o==="anchor"?a:s;k.setSelection(e,{[o==="anchor"?"anchor":"focus"]:ms(ms({},i),t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(!!r){for(var a in t)(a==="anchor"&&t.anchor!=null&&!ae.equals(t.anchor,r.anchor)||a==="focus"&&t.focus!=null&&!ae.equals(t.focus,r.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},Pf={delete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:a=!1}=t,{at:s=e.selection,hanging:i=!1}=t;if(!!s){if(O.isRange(s)&&O.isCollapsed(s)&&(s=s.anchor),ae.isPoint(s)){var u=f.void(e,{at:s,mode:"highest"});if(!a&&u){var[,c]=u;s=c}else{var h={unit:n,distance:o},p=r?f.before(e,s,h)||f.start(e,[]):f.after(e,s,h)||f.end(e,[]);s={anchor:s,focus:p},i=!0}}if(b.isPath(s)){k.removeNodes(e,{at:s,voids:a});return}if(!O.isCollapsed(s)){if(!i){var[,l]=O.edges(s),d=f.end(e,[]);ae.equals(l,d)||(s=f.unhangRange(e,s,{voids:a}))}var[v,D]=O.edges(s),B=f.above(e,{match:te=>f.isBlock(e,te),at:v,voids:a}),y=f.above(e,{match:te=>f.isBlock(e,te),at:D,voids:a}),_=B&&y&&!b.equals(B[1],y[1]),F=b.equals(v.path,D.path),w=a?null:f.void(e,{at:v,mode:"highest"}),T=a?null:f.void(e,{at:D,mode:"highest"});if(w){var S=f.before(e,v);S&&B&&b.isAncestor(B[1],S.path)&&(v=S)}if(T){var L=f.after(e,D);L&&y&&b.isAncestor(y[1],L.path)&&(D=L)}var g=[],m;for(var E of f.nodes(e,{at:s,voids:a})){var[A,$]=E;m&&b.compare($,m)===0||(!a&&f.isVoid(e,A)||!b.isCommon($,v.path)&&!b.isCommon($,D.path))&&(g.push(E),m=$)}var P=Array.from(g,te=>{var[,ue]=te;return f.pathRef(e,ue)}),j=f.pointRef(e,v),N=f.pointRef(e,D);if(!F&&!w){var R=j.current,[z]=f.leaf(e,R),{path:M}=R,{offset:W}=v,q=z.text.slice(W);q.length>0&&e.apply({type:"remove_text",path:M,offset:W,text:q})}for(var K of P){var Y=K.unref();k.removeNodes(e,{at:Y,voids:a})}if(!T){var ne=N.current,[U]=f.leaf(e,ne),{path:X}=ne,Z=F?v.offset:0,ee=U.text.slice(Z,D.offset);ee.length>0&&e.apply({type:"remove_text",path:X,offset:Z,text:ee})}!F&&_&&N.current&&j.current&&k.mergeNodes(e,{at:N.current,hanging:!0,voids:a});var oe=r?j.unref()||N.unref():N.unref()||j.unref();t.at==null&&oe&&k.select(e,oe)}}})},insertFragment(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:a=e.selection}=r;if(!!t.length){if(a)if(O.isRange(a))if(n||(a=f.unhangRange(e,a)),O.isCollapsed(a))a=a.anchor;else{var[,s]=O.edges(a);if(!o&&f.void(e,{at:s}))return;var i=f.pointRef(e,s);k.delete(e,{at:a}),a=i.unref()}else b.isPath(a)&&(a=f.start(e,a));else return;if(!(!o&&f.void(e,{at:a}))){var u=f.above(e,{at:a,match:U=>f.isInline(e,U),mode:"highest",voids:o});if(u){var[,c]=u;if(f.isEnd(e,a,c)){var h=f.after(e,c);a=h}else if(f.isStart(e,a,c)){var p=f.before(e,c);a=p}}var l=f.above(e,{match:U=>f.isBlock(e,U),at:a,voids:o}),[,d]=l,v=f.isStart(e,a,d),D=f.isEnd(e,a,d),B=v&&D,y=!v||v&&D,_=!D,[,F]=V.first({children:t},[]),[,w]=V.last({children:t},[]),T=[],S=U=>{var[X,Z]=U,ee=Z.length===0;return ee?!1:B?!0:!(y&&b.isAncestor(Z,F)&&ie.isElement(X)&&!e.isVoid(X)&&!e.isInline(X)||_&&b.isAncestor(Z,w)&&ie.isElement(X)&&!e.isVoid(X)&&!e.isInline(X))};for(var L of V.nodes({children:t},{pass:S}))S(L)&&T.push(L);var g=[],m=[],E=[],A=!0,$=!1;for(var[P]of T)ie.isElement(P)&&!e.isInline(P)?(A=!1,$=!0,m.push(P)):A?g.push(P):E.push(P);var[j]=f.nodes(e,{at:a,match:U=>J.isText(U)||f.isInline(e,U),mode:"highest",voids:o}),[,N]=j,R=f.isStart(e,a,N),z=f.isEnd(e,a,N),M=f.pathRef(e,D?b.next(d):d),W=f.pathRef(e,z?b.next(N):N),q=f.pathRef(e,d);k.splitNodes(e,{at:a,match:U=>$?f.isBlock(e,U):J.isText(U)||f.isInline(e,U),mode:$?"lowest":"highest",voids:o});var K=f.pathRef(e,!R||R&&z?b.next(N):N);if(k.insertNodes(e,g,{at:K.current,match:U=>J.isText(U)||f.isInline(e,U),mode:"highest",voids:o}),B&&m.length&&k.delete(e,{at:q.unref(),voids:o}),k.insertNodes(e,m,{at:M.current,match:U=>f.isBlock(e,U),mode:"lowest",voids:o}),k.insertNodes(e,E,{at:W.current,match:U=>J.isText(U)||f.isInline(e,U),mode:"highest",voids:o}),!r.at){var Y;E.length>0?Y=b.previous(W.current):m.length>0?Y=b.previous(M.current):Y=b.previous(K.current);var ne=f.end(e,Y);k.select(e,ne)}K.unref(),M.unref(),W.unref()}}})},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(!!o){if(b.isPath(o)&&(o=f.range(e,o)),O.isRange(o))if(O.isCollapsed(o))o=o.anchor;else{var a=O.end(o);if(!n&&f.void(e,{at:a}))return;var s=O.start(o),i=f.pointRef(e,s);k.delete(e,{at:o,voids:n}),o=i.unref(),k.setSelection(e,{anchor:o,focus:o})}if(!(!n&&f.void(e,{at:o}))){var{path:u,offset:c}=o;t.length>0&&e.apply({type:"insert_text",path:u,offset:c,text:t})}}})}};function Bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bs(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var k=Gr(Gr(Gr(Gr({},Ff),Of),kf),Pf),Ri=$f,Ni="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",$i="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",Rf=new RegExp("^[^"+$i+"]*["+Ni+"]"),Nf=new RegExp("^[^"+Ni+"]*["+$i+"]");function $f(e){return e=String(e||""),Rf.test(e)?"rtl":Nf.test(e)?"ltr":"neutral"}function Tf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ta=Tf,Mf=typeof Hr=="object"&&Hr&&Hr.Object===Object&&Hr,If=Mf,Lf=If,jf=typeof self=="object"&&self&&self.Object===Object&&self,zf=Lf||jf||Function("return this")(),Ti=zf,Wf=Ti,Vf=function(){return Wf.Date.now()},Hf=Vf,Uf=/\s/;function qf(e){for(var t=e.length;t--&&Uf.test(e.charAt(t)););return t}var Kf=qf,Gf=Kf,Jf=/^\s+/;function Yf(e){return e&&e.slice(0,Gf(e)+1).replace(Jf,"")}var Xf=Yf,Zf=Ti,Qf=Zf.Symbol,Mi=Qf,bs=Mi,Ii=Object.prototype,ep=Ii.hasOwnProperty,tp=Ii.toString,Fr=bs?bs.toStringTag:void 0;function rp(e){var t=ep.call(e,Fr),r=e[Fr];try{e[Fr]=void 0;var n=!0}catch{}var o=tp.call(e);return n&&(t?e[Fr]=r:delete e[Fr]),o}var np=rp,op=Object.prototype,ap=op.toString;function sp(e){return ap.call(e)}var ip=sp,Es=Mi,up=np,lp=ip,cp="[object Null]",dp="[object Undefined]",ys=Es?Es.toStringTag:void 0;function fp(e){return e==null?e===void 0?dp:cp:ys&&ys in Object(e)?up(e):lp(e)}var pp=fp;function hp(e){return e!=null&&typeof e=="object"}var vp=hp,gp=pp,Dp=vp,Cp="[object Symbol]";function mp(e){return typeof e=="symbol"||Dp(e)&&gp(e)==Cp}var Bp=mp,bp=Xf,_s=ta,Ep=Bp,As=0/0,yp=/^[-+]0x[0-9a-f]+$/i,_p=/^0b[01]+$/i,Ap=/^0o[0-7]+$/i,Fp=parseInt;function wp(e){if(typeof e=="number")return e;if(Ep(e))return As;if(_s(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_s(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bp(e);var r=_p.test(e);return r||Ap.test(e)?Fp(e.slice(2),r?2:8):yp.test(e)?As:+e}var xp=wp,Op=ta,Xn=Hf,Fs=xp,Sp="Expected a function",kp=Math.max,Pp=Math.min;function Rp(e,t,r){var n,o,a,s,i,u,c=0,h=!1,p=!1,l=!0;if(typeof e!="function")throw new TypeError(Sp);t=Fs(t)||0,Op(r)&&(h=!!r.leading,p="maxWait"in r,a=p?kp(Fs(r.maxWait)||0,t):a,l="trailing"in r?!!r.trailing:l);function d(S){var L=n,g=o;return n=o=void 0,c=S,s=e.apply(g,L),s}function v(S){return c=S,i=setTimeout(y,t),h?d(S):s}function D(S){var L=S-u,g=S-c,m=t-L;return p?Pp(m,a-g):m}function B(S){var L=S-u,g=S-c;return u===void 0||L>=t||L<0||p&&g>=a}function y(){var S=Xn();if(B(S))return _(S);i=setTimeout(y,D(S))}function _(S){return i=void 0,l&&n?d(S):(n=o=void 0,s)}function F(){i!==void 0&&clearTimeout(i),c=0,n=u=o=i=void 0}function w(){return i===void 0?s:_(Xn())}function T(){var S=Xn(),L=B(S);if(n=arguments,o=this,u=S,L){if(i===void 0)return v(u);if(p)return clearTimeout(i),i=setTimeout(y,t),d(u)}return i===void 0&&(i=setTimeout(y,t)),s}return T.cancel=F,T.flush=w,T}var ra=Rp,Np=ra,$p=ta,Tp="Expected a function";function Mp(e,t,r){var n=!0,o=!0;if(typeof e!="function")throw new TypeError(Tp);return $p(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Np(e,t,{leading:n,maxWait:t,trailing:o})}var Li=Mp;function ws(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function xs(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Zn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return xs(r.overflowY,t)||xs(r.overflowX,t)||function(n){var o=function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!o&&(o.clientHeight<n.scrollHeight||o.clientWidth<n.scrollWidth)}(e)}return!1}function Jr(e,t,r,n,o,a,s,i){return a<e&&s>t||a>e&&s<t?0:a<=e&&i<=r||s>=t&&i>=r?a-e-n:s>t&&i<r||a<e&&i>r?s-t+o:0}function Os(e,t){var r=window,n=t.scrollMode,o=t.block,a=t.inline,s=t.boundary,i=t.skipOverflowHiddenElements,u=typeof s=="function"?s:function(ue){return ue!==s};if(!ws(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,h=[],p=e;ws(p)&&u(p);){if((p=p.parentElement)===c){h.push(p);break}p!=null&&p===document.body&&Zn(p)&&!Zn(document.documentElement)||p!=null&&Zn(p,i)&&h.push(p)}for(var l=r.visualViewport?r.visualViewport.width:innerWidth,d=r.visualViewport?r.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,D=window.scrollY||pageYOffset,B=e.getBoundingClientRect(),y=B.height,_=B.width,F=B.top,w=B.right,T=B.bottom,S=B.left,L=o==="start"||o==="nearest"?F:o==="end"?T:F+y/2,g=a==="center"?S+_/2:a==="end"?w:S,m=[],E=0;E<h.length;E++){var A=h[E],$=A.getBoundingClientRect(),P=$.height,j=$.width,N=$.top,R=$.right,z=$.bottom,M=$.left;if(n==="if-needed"&&F>=0&&S>=0&&T<=d&&w<=l&&F>=N&&T<=z&&S>=M&&w<=R)return m;var W=getComputedStyle(A),q=parseInt(W.borderLeftWidth,10),K=parseInt(W.borderTopWidth,10),Y=parseInt(W.borderRightWidth,10),ne=parseInt(W.borderBottomWidth,10),U=0,X=0,Z="offsetWidth"in A?A.offsetWidth-A.clientWidth-q-Y:0,ee="offsetHeight"in A?A.offsetHeight-A.clientHeight-K-ne:0;if(c===A)U=o==="start"?L:o==="end"?L-d:o==="nearest"?Jr(D,D+d,d,K,ne,D+L,D+L+y,y):L-d/2,X=a==="start"?g:a==="center"?g-l/2:a==="end"?g-l:Jr(v,v+l,l,q,Y,v+g,v+g+_,_),U=Math.max(0,U+D),X=Math.max(0,X+v);else{U=o==="start"?L-N-K:o==="end"?L-z+ne+ee:o==="nearest"?Jr(N,z,P,K,ne+ee,L,L+y,y):L-(N+P/2)+ee/2,X=a==="start"?g-M-q:a==="center"?g-(M+j/2)+Z/2:a==="end"?g-R+Y+Z:Jr(M,R,j,q,Y+Z,g,g+_,_);var oe=A.scrollLeft,te=A.scrollTop;L+=te-(U=Math.max(0,Math.min(te+U,A.scrollHeight-P+ee))),g+=oe-(X=Math.max(0,Math.min(oe+X,A.scrollWidth-j+Z)))}m.push({el:A,top:U,left:X})}return m}function ji(e){return e===Object(e)&&Object.keys(e).length!==0}function Ip(e,t){t===void 0&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach(function(n){var o=n.el,a=n.top,s=n.left;o.scroll&&r?o.scroll({top:a,left:s,behavior:t}):(o.scrollTop=a,o.scrollLeft=s)})}function Lp(e){return e===!1?{block:"end",inline:"nearest"}:ji(e)?e:{block:"start",inline:"nearest"}}function zi(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(ji(t)&&typeof t.behavior=="function")return t.behavior(r?Os(e,t):[]);if(!!r){var n=Lp(t);return Ip(Os(e,n),n.behavior)}}var At={};Object.defineProperty(At,"__esModule",{value:!0});var jp=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Qn={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},zp={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:jp?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Wi={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Yr=1;Yr<20;Yr++)Wi["f"+Yr]=111+Yr;function Sn(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return Vi(s,t)}),o=function(i){return n.some(function(u){return Hi(u,i)})},a=r==null?o:o(r);return a}function Wp(e,t){return Sn(e,t)}function Vp(e,t){return Sn(e,{byKey:!0},t)}function Vi(e,t){var r=t&&t.byKey,n={};e=e.replace("++","+add");var o=e.split("+"),a=o.length;for(var s in Qn)n[Qn[s]]=!1;var i=!0,u=!1,c=void 0;try{for(var h=o[Symbol.iterator](),p;!(i=(p=h.next()).done);i=!0){var l=p.value,d=l.endsWith("?")&&l.length>1;d&&(l=l.slice(0,-1));var v=na(l),D=Qn[v];(a===1||!D)&&(r?n.key=v:n.which=Ui(l)),D&&(n[D]=d?null:!0)}}catch(B){u=!0,c=B}finally{try{!i&&h.return&&h.return()}finally{if(u)throw c}}return n}function Hi(e,t){for(var r in e){var n=e[r],o=void 0;if(n!=null&&(r==="key"&&t.key!=null?o=t.key.toLowerCase():r==="which"?o=n===91&&t.which===93?91:t.which:o=t[r],!(o==null&&n===!1)&&o!==n))return!1}return!0}function Ui(e){e=na(e);var t=Wi[e]||e.toUpperCase().charCodeAt(0);return t}function na(e){return e=e.toLowerCase(),e=zp[e]||e,e}At.default=Sn;At.isHotkey=Sn;At.isCodeHotkey=Wp;var eo=At.isKeyHotkey=Vp;At.parseHotkey=Vi;At.compareHotkey=Hi;At.toKeyCode=Ui;At.toKeyName=na;function qi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hp(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Rr(e,t){if(e==null)return{};var r=Hp(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}var Up=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ss=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent),oa=typeof navigator!="undefined"&&/Android/.test(navigator.userAgent),yo=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),to=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),qp=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Ki=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),Kp=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Gp=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Jp=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),Yp=typeof navigator!="undefined"&&/.*UCBrowser/.test(navigator.userAgent),Xp=typeof navigator!="undefined"&&/.*Wechat/.test(navigator.userAgent),sn=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Rt=!Kp&&!qp&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",tt=sn?x.exports.useLayoutEffect:x.exports.useEffect,Zp=e=>{var{isLast:t,leaf:r,parent:n,text:o}=e,a=zt(),s=I.findPath(a,o),i=b.parent(s);return a.isVoid(n)?C(ro,{length:V.string(n).length}):r.text===""&&n.children[n.children.length-1]===o&&!a.isInline(n)&&f.string(a,i)===""?C(ro,{isLineBreak:!0}):r.text===""?C(ro,{}):t&&r.text.slice(-1)===`
`?C(ks,{isTrailing:!0,text:r.text}):C(ks,{text:r.text})},ks=e=>{var{text:t,isTrailing:r=!1}=e,n=x.exports.useRef(null),o=()=>"".concat(t!=null?t:"").concat(r?`
`:"");return tt(()=>{var a=o();n.current&&n.current.textContent!==a&&(n.current.textContent=a)}),n.current?C("span",{"data-slate-string":!0,ref:n}):C("span",{"data-slate-string":!0,ref:n,children:o()})},ro=e=>{var{length:t=0,isLineBreak:r=!1}=e;return pe("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t,children:["\uFEFF",r?C("br",{}):null]})},aa=new WeakMap,sa=new WeakMap,ia=new WeakMap,Nr=new WeakMap,Er=new WeakMap,Lt=new WeakMap,_o=new WeakMap,kn=new WeakMap,Pn=new WeakMap,et=new WeakMap,un=new WeakMap,Ao=new WeakMap,Fo=new WeakMap,wo=new WeakMap,xo=new WeakMap,er=Symbol("placeholder"),Qp=e=>{var{leaf:t,isLast:r,text:n,parent:o,renderPlaceholder:a,renderLeaf:s=p=>C(th,{...Object.assign({},p)})}=e,i=x.exports.useRef(null);x.exports.useEffect(()=>{var p=i==null?void 0:i.current,l=document.querySelector('[data-slate-editor="true"]');if(!(!p||!l))return l.style.minHeight="".concat(p.clientHeight,"px"),()=>{l.style.minHeight="auto"}},[i,t]);var u=C(Zp,{isLast:r,leaf:t,parent:o,text:n});if(t[er]){var c={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:i}};u=pe(jt,{children:[a(c),u]})}var h={"data-slate-leaf":!0};return s({attributes:h,children:u,leaf:t,text:n})},eh=H.memo(Qp,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&J.equals(t.leaf,e.leaf)&&t.leaf[er]===e.leaf[er]),th=e=>{var{attributes:t,children:r}=e;return C("span",{...Object.assign({},t),children:r})},rh=["anchor","focus"],nh=["anchor","focus"],oh=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>t.hasOwnProperty(r)&&e[r]===t[r]),Gi=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r],a=Rr(n,rh),s=Rr(o,nh);if(!O.equals(n,o)||n[er]!==o[er]||!oh(a,s))return!1}return!0};function ua(e){var t=x.exports.useRef(0),r=x.exports.useRef(null),[,n]=x.exports.useState(0);return x.exports.useEffect(()=>(xo.set(e,()=>{r.current||(r.current=requestAnimationFrame(()=>{n(o=>o+1),r.current=null}),t.current++)}),()=>{xo.delete(e)}),[e]),r.current&&(cancelAnimationFrame(r.current),r.current=null),t.current}var ah=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:o,renderLeaf:a,text:s}=e,i=zt(),u=x.exports.useRef(null),c=J.decorations(s,t),h=I.findKey(i,s),p=[],l=0;l<c.length;l++){var d=c[l];p.push(C(eh,{isLast:r&&l===c.length-1,renderPlaceholder:o,leaf:d,text:s,parent:n,renderLeaf:a},"".concat(h.id,"-").concat(l)))}tt(()=>{var D=kn.get(i);u.current?(D==null||D.set(h,u.current),Lt.set(s,u.current),Er.set(u.current,s)):(D==null||D.delete(h),Lt.delete(s))});var v=oa?ua(s):void 0;return C("span",{"data-slate-node":"text",ref:u,children:p},v)},Ji=H.memo(ah,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&Gi(t.decorations,e.decorations)),sh=e=>{var{decorations:t,element:r,renderElement:n=F=>C(uh,{...Object.assign({},F)}),renderPlaceholder:o,renderLeaf:a,selection:s}=e,i=x.exports.useRef(null),u=zt(),c=hh(),h=u.isInline(r),p=I.findKey(u,r),l=ca({decorations:t,node:r,renderElement:n,renderPlaceholder:o,renderLeaf:a,selection:s}),d={"data-slate-node":"element",ref:i};if(h&&(d["data-slate-inline"]=!0),!h&&f.hasInlines(u,r)){var v=V.string(r),D=Ri(v);D==="rtl"&&(d.dir=D)}if(f.isVoid(u,r)){d["data-slate-void"]=!0,!c&&h&&(d.contentEditable=!1);var B=h?"span":"div",[[y]]=V.texts(r);l=c?null:C(B,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"},children:C(Ji,{renderPlaceholder:o,decorations:[],isLast:!1,parent:r,text:y})}),aa.set(y,0),sa.set(y,r)}tt(()=>{var F=kn.get(u);i.current?(F==null||F.set(p,i.current),Lt.set(r,i.current),Er.set(i.current,r)):(F==null||F.delete(p),Lt.delete(r))});var _=n({attributes:d,children:l,element:r});return oa?(ua(r),C(jt,{children:_})):_},ih=H.memo(sh,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&Gi(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&O.equals(e.selection,t.selection))),uh=e=>{var{attributes:t,children:r,element:n}=e,o=zt(),a=o.isInline(n)?"span":"div";return C(a,{...Object.assign({},t,{style:{position:"relative"}}),children:r})},Yi=x.exports.createContext(null),zt=()=>{var e=x.exports.useContext(Yi);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},la=x.exports.createContext(()=>[]),lh=()=>x.exports.useContext(la),ch=x.exports.createContext(!1),ca=e=>{for(var{decorations:t,node:r,renderElement:n,renderPlaceholder:o,renderLeaf:a,selection:s}=e,i=lh(),u=zt(),c=I.findPath(u,r),h=[],p=ie.isElement(r)&&!u.isInline(r)&&f.hasInlines(u,r),l=0;l<r.children.length;l++){var d=c.concat(l),v=r.children[l],D=I.findKey(u,v),B=f.range(u,d),y=s&&O.intersection(B,s),_=i([v,d]);for(var F of t){var w=O.intersection(F,B);w&&_.push(w)}ie.isElement(v)?h.push(C(ch.Provider,{value:!!y,children:C(ih,{decorations:_,element:v,renderElement:n,renderPlaceholder:o,renderLeaf:a,selection:y},D.id)},"provider-".concat(D.id))):h.push(C(Ji,{decorations:_,isLast:p&&l===r.children.length-1,parent:r,renderPlaceholder:o,renderLeaf:a,text:v},D.id)),aa.set(v,l),sa.set(v,r)}return h},dh={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},fh={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ph={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},De=e=>{var t=dh[e],r=fh[e],n=ph[e],o=t&&eo(t),a=r&&eo(r),s=n&&eo(n);return i=>!!(o&&o(i)||Ss&&a&&a(i)||!Ss&&s&&s(i))},me={isBold:De("bold"),isCompose:De("compose"),isMoveBackward:De("moveBackward"),isMoveForward:De("moveForward"),isDeleteBackward:De("deleteBackward"),isDeleteForward:De("deleteForward"),isDeleteLineBackward:De("deleteLineBackward"),isDeleteLineForward:De("deleteLineForward"),isDeleteWordBackward:De("deleteWordBackward"),isDeleteWordForward:De("deleteWordForward"),isExtendBackward:De("extendBackward"),isExtendForward:De("extendForward"),isExtendLineBackward:De("extendLineBackward"),isExtendLineForward:De("extendLineForward"),isItalic:De("italic"),isMoveLineBackward:De("moveLineBackward"),isMoveLineForward:De("moveLineForward"),isMoveWordBackward:De("moveWordBackward"),isMoveWordForward:De("moveWordForward"),isRedo:De("redo"),isSplitBlock:De("splitBlock"),isTransposeCharacter:De("transposeCharacter"),isUndo:De("undo")},da=x.exports.createContext(!1),hh=()=>x.exports.useContext(da),Xi=x.exports.createContext(null),Zi=()=>{var e=x.exports.useContext(Xi);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var[t]=e;return t},Rn=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,vh=e=>bt(e)&&e.nodeType===8,Ie=e=>bt(e)&&e.nodeType===1,bt=e=>{var t=Rn(e);return!!t&&e instanceof t.Node},Ps=e=>{var t=e&&e.anchorNode&&Rn(e.anchorNode);return!!t&&e instanceof t.Selection},Qi=e=>bt(e)&&e.nodeType===3,gh=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,Dh=e=>{var[t,r]=e;if(Ie(t)&&t.childNodes.length){var n=r===t.childNodes.length,o=n?r-1:r;for([t,o]=eu(t,o,n?"backward":"forward"),n=o<r;Ie(t)&&t.childNodes.length;){var a=n?t.childNodes.length-1:0;t=mh(t,a,n?"backward":"forward")}r=n&&t.textContent!=null?t.textContent.length:0}return[t,r]},Ch=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),eu=(e,t,r)=>{for(var{childNodes:n}=e,o=n[t],a=t,s=!1,i=!1;(vh(o)||Ie(o)&&o.childNodes.length===0||Ie(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&i);){if(a>=n.length){s=!0,a=t-1,r="backward";continue}if(a<0){i=!0,a=t+1,r="forward";continue}o=n[a],t=a,a+=r==="forward"?1:-1}return[o,t]},mh=(e,t,r)=>{var[n]=eu(e,t,r);return n},tu=e=>{var t="";if(Qi(e)&&e.nodeValue)return e.nodeValue;if(Ie(e)){for(var r of Array.from(e.childNodes))t+=tu(r);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t},Bh=/data-slate-fragment="(.+?)"/m,ru=e=>{var t=e.getData("text/html"),[,r]=t.match(Bh)||[];return r},bh=e=>{if(!e.getData("application/x-slate-fragment")){var t=ru(e);if(t){var r=new DataTransfer;return e.types.forEach(n=>{r.setData(n,e.getData(n))}),r.setData("application/x-slate-fragment",t),r}}return e},Eh=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rs(Object(r),!0).forEach(function(n){qi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var yh=e=>C(jt,{children:ca(e)}),_h=e=>{var{autoFocus:t,decorate:r=ou,onDOMBeforeInput:n,placeholder:o,readOnly:a=!1,renderElement:s,renderLeaf:i,renderPlaceholder:u=g=>C(nu,{...Object.assign({},g)}),scrollSelectionIntoView:c=Ah,style:h={},as:p="div"}=e,l=Rr(e,Eh),d=Zi(),[v,D]=x.exports.useState(!1),B=x.exports.useRef(null),y=x.exports.useRef([]);Pn.set(d,a);var _=x.exports.useMemo(()=>({isComposing:!1,hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}),[]);tt(()=>{var g;B.current&&(g=Rn(B.current))?(ia.set(d,g),Nr.set(d,B.current),Lt.set(d,B.current),Er.set(B.current,d)):Lt.delete(d);var{selection:m}=d,E=I.findDocumentOrShadowRoot(d),A=E.getSelection();if(!(_.isComposing||!A||!I.isFocused(d))){var $=A.type!=="None";if(!(!m&&!$)){var P=Nr.get(d),j=!1;if(P.contains(A.anchorNode)&&P.contains(A.focusNode)&&(j=!0),$&&j&&m){var N=I.toSlateRange(d,A,{exactMatch:!0,suppressThrow:!0});if(N&&O.equals(N,m))return}if(m&&!I.hasRange(d,m)){d.selection=I.toSlateRange(d,A,{exactMatch:!1,suppressThrow:!1});return}_.isUpdatingSelection=!0;var R=m&&I.toDOMRange(d,m);R?(O.isBackward(m)?A.setBaseAndExtent(R.endContainer,R.endOffset,R.startContainer,R.startOffset):A.setBaseAndExtent(R.startContainer,R.startOffset,R.endContainer,R.endOffset),c(d,R)):A.removeAllRanges(),setTimeout(()=>{if(R&&yo){var z=I.toDOMNode(d,d);z.focus()}_.isUpdatingSelection=!1})}}}),x.exports.useEffect(()=>{B.current&&t&&B.current.focus()},[t]);var F=x.exports.useCallback(Li(()=>{if(!_.isComposing&&!_.isUpdatingSelection&&!_.isDraggingInternally){var g=I.findDocumentOrShadowRoot(d),{activeElement:m}=g,E=I.toDOMNode(d,d),A=g.getSelection();if(m===E?(_.latestElement=m,et.set(d,!0)):et.delete(d),!A)return k.deselect(d);var{anchorNode:$,focusNode:P}=A,j=ve(d,$)||mn(d,$),N=ve(d,P)||mn(d,P);if(j&&N){var R=I.toSlateRange(d,A,{exactMatch:!1,suppressThrow:!1});k.select(d,R)}}},100),[a]),w=x.exports.useMemo(()=>ra(F,0),[F]),T=x.exports.useCallback(g=>{if(!a&&ve(d,g.target)&&!au(g,n)){w.flush(),F.flush();var{selection:m}=d,{inputType:E}=g,A=g.dataTransfer||g.data||void 0;if(E==="insertCompositionText"||E==="deleteCompositionText")return;var $=!1;if(E==="insertText"&&m&&O.isCollapsed(m)&&g.data&&g.data.length===1&&/[a-z ]/i.test(g.data)&&m.anchor.offset!==0){$=!0,d.marks&&($=!1);var{anchor:P}=m,j=f.above(d,{at:P,match:W=>f.isInline(d,W),mode:"highest"});if(j){var[,N]=j;f.isEnd(d,m.anchor,N)&&($=!1)}}if($||g.preventDefault(),!E.startsWith("delete")||E.startsWith("deleteBy")){var[R]=g.getTargetRanges();if(R){var z=I.toSlateRange(d,R,{exactMatch:!1,suppressThrow:!1});(!m||!O.equals(m,z))&&k.select(d,z)}}if(m&&O.isExpanded(m)&&E.startsWith("delete")){var M=E.endsWith("Backward")?"backward":"forward";f.deleteFragment(d,{direction:M});return}switch(E){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{f.deleteFragment(d);break}case"deleteContent":case"deleteContentForward":{f.deleteForward(d);break}case"deleteContentBackward":{f.deleteBackward(d);break}case"deleteEntireSoftLine":{f.deleteBackward(d,{unit:"line"}),f.deleteForward(d,{unit:"line"});break}case"deleteHardLineBackward":{f.deleteBackward(d,{unit:"block"});break}case"deleteSoftLineBackward":{f.deleteBackward(d,{unit:"line"});break}case"deleteHardLineForward":{f.deleteForward(d,{unit:"block"});break}case"deleteSoftLineForward":{f.deleteForward(d,{unit:"line"});break}case"deleteWordBackward":{f.deleteBackward(d,{unit:"word"});break}case"deleteWordForward":{f.deleteForward(d,{unit:"word"});break}case"insertLineBreak":case"insertParagraph":{f.insertBreak(d);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{E==="insertFromComposition"&&(_.isComposing&&D(!1),_.isComposing=!1),(A==null?void 0:A.constructor.name)==="DataTransfer"?I.insertData(d,A):typeof A=="string"&&($?y.current.push(()=>f.insertText(d,A)):f.insertText(d,A));break}}}},[a,n]);tt(()=>(B.current&&Rt&&B.current.addEventListener("beforeinput",T),()=>{B.current&&Rt&&B.current.removeEventListener("beforeinput",T)}),[T]),tt(()=>{var g=I.getWindow(d);return g.document.addEventListener("selectionchange",w),()=>{g.document.removeEventListener("selectionchange",w)}},[w]);var S=r([d,[]]);if(o&&d.children.length===1&&Array.from(V.texts(d)).length===1&&V.string(d)===""&&!v){var L=f.start(d,[]);S.push({[er]:!0,placeholder:o,anchor:L,focus:L})}return C(da.Provider,{value:a,children:C(la.Provider,{value:r,children:C(p,{...Object.assign({role:a?void 0:"textbox"},l,{spellCheck:Rt||!sn?l.spellCheck:!1,autoCorrect:Rt||!sn?l.autoCorrect:"false",autoCapitalize:Rt||!sn?l.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:B,style:Ns({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},h),onBeforeInput:x.exports.useCallback(g=>{if(!Rt&&!a&&!Ce(g,l.onBeforeInput)&&ve(d,g.target)&&(g.preventDefault(),!_.isComposing)){var m=g.data;f.insertText(d,m)}},[a]),onInput:x.exports.useCallback(g=>{for(var m of y.current)m();y.current=[]},[]),onBlur:x.exports.useCallback(g=>{if(!(a||_.isUpdatingSelection||!ve(d,g.target)||Ce(g,l.onBlur))){var m=I.findDocumentOrShadowRoot(d);if(_.latestElement!==m.activeElement){var{relatedTarget:E}=g,A=I.toDOMNode(d,d);if(E!==A&&!(Ie(E)&&E.hasAttribute("data-slate-spacer"))){if(E!=null&&bt(E)&&I.hasDOMNode(d,E)){var $=I.toSlateNode(d,E);if(ie.isElement($)&&!d.isVoid($))return}if(to){var P=m.getSelection();P==null||P.removeAllRanges()}et.delete(d)}}}},[a,l.onBlur]),onClick:x.exports.useCallback(g=>{if(!a&&Gt(d,g.target)&&!Ce(g,l.onClick)&&bt(g.target)){var m=I.toSlateNode(d,g.target),E=I.findPath(d,m);if(f.hasPath(d,E)){var A=V.get(d,E);if(A===m){var $=f.start(d,E),P=f.end(d,E),j=f.void(d,{at:$}),N=f.void(d,{at:P});if(j&&N&&b.equals(j[1],N[1])){var R=f.range(d,$);k.select(d,R)}}}}},[a,l.onClick]),onCompositionEnd:x.exports.useCallback(g=>{if(ve(d,g.target)&&!Ce(g,l.onCompositionEnd)&&(_.isComposing&&D(!1),_.isComposing=!1,!to&&!Gp&&!Up&&!Jp&&!Xp&&!Yp&&g.data&&f.insertText(d,g.data),d.selection&&O.isCollapsed(d.selection))){var m=d.selection.anchor.path,E=V.leaf(d,m);_.hasInsertPrefixInCompositon&&(_.hasInsertPrefixInCompositon=!1,f.withoutNormalizing(d,()=>{var A=E.text.replace(/^\uFEFF/,"");k.delete(d,{distance:E.text.length,reverse:!0}),f.insertText(d,A)}))}},[l.onCompositionEnd]),onCompositionUpdate:x.exports.useCallback(g=>{ve(d,g.target)&&!Ce(g,l.onCompositionUpdate)&&(!_.isComposing&&D(!0),_.isComposing=!0)},[l.onCompositionUpdate]),onCompositionStart:x.exports.useCallback(g=>{if(ve(d,g.target)&&!Ce(g,l.onCompositionStart)){var{selection:m,marks:E}=d;if(m){if(O.isExpanded(m)){f.deleteFragment(d);return}var A=f.above(d,{match:j=>f.isInline(d,j),mode:"highest"});if(A){var[,$]=A;if(f.isEnd(d,m.anchor,$)){var P=f.after(d,$);k.setSelection(d,{anchor:P,focus:P})}}E&&(_.hasInsertPrefixInCompositon=!0,k.insertNodes(d,Ns({text:"\uFEFF"},E),{select:!0}))}}},[l.onCompositionStart]),onCopy:x.exports.useCallback(g=>{ve(d,g.target)&&!Ce(g,l.onCopy)&&(g.preventDefault(),I.setFragmentData(d,g.clipboardData,"copy"))},[l.onCopy]),onCut:x.exports.useCallback(g=>{if(!a&&ve(d,g.target)&&!Ce(g,l.onCut)){g.preventDefault(),I.setFragmentData(d,g.clipboardData,"cut");var{selection:m}=d;if(m)if(O.isExpanded(m))f.deleteFragment(d);else{var E=V.parent(d,m.anchor.path);f.isVoid(d,E)&&k.delete(d)}}},[a,l.onCut]),onDragOver:x.exports.useCallback(g=>{if(Gt(d,g.target)&&!Ce(g,l.onDragOver)){var m=I.toSlateNode(d,g.target);f.isVoid(d,m)&&g.preventDefault()}},[l.onDragOver]),onDragStart:x.exports.useCallback(g=>{if(!a&&Gt(d,g.target)&&!Ce(g,l.onDragStart)){var m=I.toSlateNode(d,g.target),E=I.findPath(d,m),A=f.isVoid(d,m)||f.void(d,{at:E,voids:!0});if(A){var $=f.range(d,E);k.select(d,$)}_.isDraggingInternally=!0,I.setFragmentData(d,g.dataTransfer,"drag")}},[a,l.onDragStart]),onDrop:x.exports.useCallback(g=>{if(!a&&Gt(d,g.target)&&!Ce(g,l.onDrop)){g.preventDefault();var m=d.selection,E=I.findEventRange(d,g),A=g.dataTransfer;k.select(d,E),_.isDraggingInternally&&m&&!O.equals(m,E)&&!f.void(d,{at:E,voids:!0})&&k.delete(d,{at:m}),I.insertData(d,A),I.isFocused(d)||I.focus(d)}_.isDraggingInternally=!1},[a,l.onDrop]),onDragEnd:x.exports.useCallback(g=>{!a&&_.isDraggingInternally&&l.onDragEnd&&Gt(d,g.target)&&l.onDragEnd(g),_.isDraggingInternally=!1},[a,l.onDragEnd]),onFocus:x.exports.useCallback(g=>{if(!a&&!_.isUpdatingSelection&&ve(d,g.target)&&!Ce(g,l.onFocus)){var m=I.toDOMNode(d,d),E=I.findDocumentOrShadowRoot(d);if(_.latestElement=E.activeElement,yo&&g.target!==m){m.focus();return}et.set(d,!0)}},[a,l.onFocus]),onKeyDown:x.exports.useCallback(g=>{if(!a&&!_.isComposing&&ve(d,g.target)&&!Ce(g,l.onKeyDown)){var{nativeEvent:m}=g,{selection:E}=d,A=d.children[E!==null?E.focus.path[0]:0],$=Ri(V.string(A))==="rtl";if(me.isRedo(m)){g.preventDefault();var P=d;typeof P.redo=="function"&&P.redo();return}if(me.isUndo(m)){g.preventDefault();var j=d;typeof j.undo=="function"&&j.undo();return}if(me.isMoveLineBackward(m)){g.preventDefault(),k.move(d,{unit:"line",reverse:!0});return}if(me.isMoveLineForward(m)){g.preventDefault(),k.move(d,{unit:"line"});return}if(me.isExtendLineBackward(m)){g.preventDefault(),k.move(d,{unit:"line",edge:"focus",reverse:!0});return}if(me.isExtendLineForward(m)){g.preventDefault(),k.move(d,{unit:"line",edge:"focus"});return}if(me.isMoveBackward(m)){g.preventDefault(),E&&O.isCollapsed(E)?k.move(d,{reverse:!$}):k.collapse(d,{edge:"start"});return}if(me.isMoveForward(m)){g.preventDefault(),E&&O.isCollapsed(E)?k.move(d,{reverse:$}):k.collapse(d,{edge:"end"});return}if(me.isMoveWordBackward(m)){g.preventDefault(),E&&O.isExpanded(E)&&k.collapse(d,{edge:"focus"}),k.move(d,{unit:"word",reverse:!$});return}if(me.isMoveWordForward(m)){g.preventDefault(),E&&O.isExpanded(E)&&k.collapse(d,{edge:"focus"}),k.move(d,{unit:"word",reverse:$});return}if(Rt){if((Ki||to)&&E&&(me.isDeleteBackward(m)||me.isDeleteForward(m))&&O.isCollapsed(E)){var N=V.parent(d,E.anchor.path);if(ie.isElement(N)&&f.isVoid(d,N)&&f.isInline(d,N)){g.preventDefault(),f.deleteBackward(d,{unit:"block"});return}}}else{if(me.isBold(m)||me.isItalic(m)||me.isTransposeCharacter(m)){g.preventDefault();return}if(me.isSplitBlock(m)){g.preventDefault(),f.insertBreak(d);return}if(me.isDeleteBackward(m)){g.preventDefault(),E&&O.isExpanded(E)?f.deleteFragment(d,{direction:"backward"}):f.deleteBackward(d);return}if(me.isDeleteForward(m)){g.preventDefault(),E&&O.isExpanded(E)?f.deleteFragment(d,{direction:"forward"}):f.deleteForward(d);return}if(me.isDeleteLineBackward(m)){g.preventDefault(),E&&O.isExpanded(E)?f.deleteFragment(d,{direction:"backward"}):f.deleteBackward(d,{unit:"line"});return}if(me.isDeleteLineForward(m)){g.preventDefault(),E&&O.isExpanded(E)?f.deleteFragment(d,{direction:"forward"}):f.deleteForward(d,{unit:"line"});return}if(me.isDeleteWordBackward(m)){g.preventDefault(),E&&O.isExpanded(E)?f.deleteFragment(d,{direction:"backward"}):f.deleteBackward(d,{unit:"word"});return}if(me.isDeleteWordForward(m)){g.preventDefault(),E&&O.isExpanded(E)?f.deleteFragment(d,{direction:"forward"}):f.deleteForward(d,{unit:"word"});return}}}},[a,l.onKeyDown]),onPaste:x.exports.useCallback(g=>{!a&&ve(d,g.target)&&!Ce(g,l.onPaste)&&(!Rt||gh(g.nativeEvent))&&(g.preventDefault(),I.insertData(d,g.clipboardData))},[a,l.onPaste])}),children:C(yh,{decorations:S,node:d,renderElement:s,renderPlaceholder:u,renderLeaf:i,selection:d.selection})})})})},nu=e=>{var{attributes:t,children:r}=e;return C("span",{...Object.assign({},t),children:r})},ou=()=>[],Ah=(e,t)=>{if(!e.selection||e.selection&&O.isCollapsed(e.selection)){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),zi(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Gt=(e,t)=>bt(t)&&I.hasDOMNode(e,t),ve=(e,t)=>bt(t)&&I.hasDOMNode(e,t,{editable:!0}),mn=(e,t)=>{if(Pn.get(e))return!1;var r=Gt(e,t)&&I.toSlateNode(e,t);return f.isVoid(e,r)},Ce=(e,t)=>{if(!t)return!1;var r=t(e);return r!=null?r:e.isDefaultPrevented()||e.isPropagationStopped()},au=(e,t)=>{if(!t)return!1;var r=t(e);return r!=null?r:e.defaultPrevented};function Fh(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length!==t.length?r:null}function wh(e,t,r){for(var n=e.length,o=t.length,a=Math.min(n,o,r),s=0;s<a;s++){var i=e.charAt(n-s-1),u=t.charAt(o-s-1);if(i!==u)return s}return e.length!==t.length?a:null}function xh(e,t){if(e===t)return null;var r=Fh(e,t);if(r===null)return null;var n=Math.min(e.length-r,t.length-r),o=wh(e,t,n);return o===null?null:{start:r,end:o}}function $s(e,t){return e.slice(t.start,e.length-t.end)}function Oh(e,t){if(e===void 0||t===void 0)return null;var r=xh(e,t);if(r==null)return null;var n=$s(t,r),o=$s(e,r);return{start:r.start,end:e.length-r.end,insertText:n,removeText:o}}function Sh(e){return e.reduce((t,r)=>{var{text:n}=r;return"".concat(t).concat(n.insertText)},"")}function kh(e,t){var r=I.toSlateNode(e,t);if(!!J.isText(r)){var n=r.text,o=t.textContent;if(o.endsWith(`
`)&&(o=o.slice(0,o.length-1)),o!==n){var a=Oh(n,o);if(a!==null){var s=I.findPath(e,r);return{text:a,path:s}}}}}function su(e,t,r){var{path:n,text:o}=r,a={anchor:{path:n,offset:o.start},focus:{path:n,offset:o.end}};if(!t||!O.isCollapsed(t))return a;var{insertText:s,removeText:i}=o,u=s.length===1||i.length===1;if(u&&b.equals(t.anchor.path,n)){var[c]=Array.from(f.nodes(e,{at:t,match:J.isText}));if(c){var[h]=c,{anchor:p}=t,l=h.text[p.offset-1],d=h.text[p.offset];if(s.length===1&&s===d)return t;if(i.length===1&&i===l)return{anchor:{path:n,offset:p.offset-1},focus:{path:n,offset:p.offset}}}}return a}var Ph=0;class Rh{constructor(){this.id="".concat(Ph++)}}var I={getWindow(e){var t=ia.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey(e,t){var r=_o.get(t);return r||(r=new Rh,_o.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var o=sa.get(n);if(o==null){if(f.isEditor(n))return r;break}var a=aa.get(n);if(a==null)break;r.unshift(a),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot(e){var t=I.toDOMNode(e,e),r=t.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&r.getSelection!=null?r:t.ownerDocument},isFocused(e){return!!et.get(e)},isReadOnly(e){return!!Pn.get(e)},blur(e){var t=I.toDOMNode(e,e),r=I.findDocumentOrShadowRoot(e);et.set(e,!1),r.activeElement===t&&t.blur()},focus(e){var t=I.toDOMNode(e,e),r=I.findDocumentOrShadowRoot(e);et.set(e,!0),r.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){I.toDOMNode(e,e);var{selection:t}=e,r=I.findDocumentOrShadowRoot(e),n=r.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&k.deselect(e)},hasDOMNode(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:n=!1}=r,o=I.toDOMNode(e,e),a;try{a=Ie(t)?t:t.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-slate-editor]")===o&&(!n||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===o||!!a.getAttribute("data-slate-zero-width")):!1},insertData(e,t){e.insertData(t)},insertFragmentData(e,t){return e.insertFragmentData(t)},insertTextData(e,t){return e.insertTextData(t)},setFragmentData(e,t,r){e.setFragmentData(t,r)},toDOMNode(e,t){var r=kn.get(e),n=f.isEditor(t)?Nr.get(e):r==null?void 0:r.get(I.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return n},toDOMPoint(e,t){var[r]=f.node(e,t.path),n=I.toDOMNode(e,r),o;f.void(e,{at:t})&&(t={path:t.path,offset:0});var a="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(a)),i=0;for(var u of s){var c=u.childNodes[0];if(!(c==null||c.textContent==null)){var{length:h}=c.textContent,p=u.getAttribute("data-slate-length"),l=p==null?h:parseInt(p,10),d=i+l;if(t.offset<=d){var v=Math.min(h,Math.max(0,t.offset-i));o=[c,v];break}i=d}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return o},toDOMRange(e,t){var{anchor:r,focus:n}=t,o=O.isBackward(t),a=I.toDOMPoint(e,r),s=O.isCollapsed(t)?a:I.toDOMPoint(e,n),i=I.getWindow(e),u=i.document.createRange(),[c,h]=o?s:a,[p,l]=o?a:s,d=Ie(c)?c:c.parentElement,v=!!d.getAttribute("data-slate-zero-width"),D=Ie(p)?p:p.parentElement,B=!!D.getAttribute("data-slate-zero-width");return u.setStart(c,v?1:h),u.setEnd(p,B?1:l),u},toSlateNode(e,t){var r=Ie(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?Er.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:o}=t;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=I.toSlateNode(e,t.target),s=I.findPath(e,a);if(f.isVoid(e,a)){var i=o.getBoundingClientRect(),u=e.isInline(a)?r-i.left<i.left+i.width-r:n-i.top<i.top+i.height-n,c=f.point(e,s,{edge:u?"start":"end"}),h=u?f.before(e,c):f.after(e,c);if(h){var p=f.range(e,h);return p}}var l,{document:d}=I.getWindow(e);if(d.caretRangeFromPoint)l=d.caretRangeFromPoint(r,n);else{var v=d.caretPositionFromPoint(r,n);v&&(l=d.createRange(),l.setStart(v.offsetNode,v.offset),l.setEnd(v.offsetNode,v.offset))}if(!l)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var D=I.toSlateRange(e,l,{exactMatch:!1,suppressThrow:!1});return D},toSlatePoint(e,t,r){var{exactMatch:n,suppressThrow:o}=r,[a,s]=n?t:Dh(t),i=a.parentNode,u=null,c=0;if(i){var h,p=i.closest('[data-slate-void="true"]'),l=i.closest("[data-slate-leaf]"),d=null;if(l){if(u=l.closest('[data-slate-node="text"]'),u){var v=I.getWindow(e),D=v.document.createRange();D.setStart(u,0),D.setEnd(a,s);var B=D.cloneContents(),y=[...Array.prototype.slice.call(B.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(B.querySelectorAll("[contenteditable=false]"))];y.forEach(w=>{w.parentNode.removeChild(w)}),c=B.textContent.length,d=u}}else p&&(l=p.querySelector("[data-slate-leaf]"),l?(u=l.closest('[data-slate-node="text"]'),d=l,c=d.textContent.length,d.querySelectorAll("[data-slate-zero-width]").forEach(w=>{c-=w.textContent.length})):c=1);d&&c===d.textContent.length&&(i.hasAttribute("data-slate-zero-width")||yo&&(h=d.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&c--}if(!u){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var _=I.toSlateNode(e,u),F=I.findPath(e,_);return{path:F,offset:c}},toSlateRange(e,t,r){var{exactMatch:n,suppressThrow:o}=r,a=Ps(t)?t.anchorNode:t.startContainer,s,i,u,c,h;if(a&&(Ps(t)?(s=t.anchorNode,i=t.anchorOffset,u=t.focusNode,c=t.focusOffset,Ki&&Ch()?h=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:h=t.isCollapsed):(s=t.startContainer,i=t.startOffset,u=t.endContainer,c=t.endOffset,h=t.collapsed)),s==null||u==null||i==null||c==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var p=I.toSlatePoint(e,[s,i],{exactMatch:n,suppressThrow:o});if(!p)return null;var l=h?p:I.toSlatePoint(e,[u,c],{exactMatch:n,suppressThrow:o});if(!l)return null;var d={anchor:p,focus:l};return O.isExpanded(d)&&O.isForward(d)&&Ie(u)&&f.void(e,{at:d.focus,mode:"highest"})&&(d=f.unhangRange(e,d,{voids:!0})),d},hasRange(e,t){var{anchor:r,focus:n}=t;return f.hasPath(e,r.path)&&f.hasPath(e,n.path)}};function Nh(e,t){var r=[],n=[],o=[],a=[];return t.forEach(s=>{switch(s.type){case"childList":{s.addedNodes.length&&s.addedNodes.forEach(c=>{r.push(c)}),s.removedNodes.forEach(c=>{n.push(c)});break}case"characterData":{a.push(s);var{parentNode:i}=s.target;if(!i)return;var u=kh(e,i);if(!u||o.some(c=>{var{path:h}=c;return b.equals(h,u.path)}))return;o.push(u)}}}),{addedNodes:r,removedNodes:n,insertedText:o,characterDataMutations:a}}var $h=(e,t)=>{var{addedNodes:r}=t,{selection:n}=e,o=n?V.parent(e,n.anchor.path):null,a=o?I.toDOMNode(e,o):null;return a?r.some(s=>s instanceof HTMLElement&&s.tagName===(a==null?void 0:a.tagName)):!1},Th=(e,t)=>{var{removedNodes:r}=t;return r.length>0},Mh=(e,t)=>{var{selection:r}=e,{removedNodes:n}=t;return r?O.isExpanded(r)&&n.length>0:!1},Ih=(e,t)=>{var{insertedText:r}=t;return r.length>0},Lh=(e,t)=>{var{addedNodes:r,characterDataMutations:n,removedNodes:o}=t;return o.length>0&&r.length===0&&n.length>0};class jh{constructor(t,r){this.editor=t,this.restoreDOM=r,this.flush=n=>{try{this.reconcileMutations(n)}catch(o){console.error(o),this.restoreDOM()}},this.reconcileMutations=n=>{var o=Nh(this.editor,n),{insertedText:a,removedNodes:s}=o;if(Mh(this.editor,o)){var i=Sh(a);this.replaceExpandedSelection(i)}else $h(this.editor,o)?this.insertBreak():Lh(this.editor,o)?this.removeLeafNodes(s):Th(this.editor,o)?this.deleteBackward():Ih(this.editor,o)&&this.insertText(a)},this.insertText=n=>{var{selection:o}=this.editor;if(un.get(this.editor)||Ao.get(this.editor)){Fo.set(this.editor,n),Ao.set(this.editor,!1);return}n.forEach(a=>{var s=a.text.insertText,i=su(this.editor,o,a);k.setSelection(this.editor,i),f.insertText(this.editor,s)})},this.insertBreak=()=>{var{selection:n}=this.editor;f.insertBreak(this.editor),this.restoreDOM(),n&&setTimeout(()=>{this.editor.selection&&O.equals(n,this.editor.selection)&&k.move(this.editor)},100)},this.replaceExpandedSelection=n=>{f.deleteFragment(this.editor),n.length&&f.insertText(this.editor,n),this.restoreDOM()},this.deleteBackward=()=>{f.deleteBackward(this.editor),I.focus(this.editor),this.restoreDOM()},this.removeLeafNodes=n=>{for(var o of n){var a=I.toSlateNode(this.editor,o);if(a){var s=I.findPath(this.editor,a);k.delete(this.editor,{at:s}),this.restoreDOM()}}},this.editor=t,this.restoreDOM=r}}function iu(e,t,r){var[n]=x.exports.useState(()=>new MutationObserver(t));tt(()=>{n.disconnect()}),x.exports.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),n.disconnect.bind(n)})}var zh={childList:!0,characterData:!0,subtree:!0};function uu(e){var t,r=Ie(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r&&Er.get(r);return n||((t=r)!==null&&t!==void 0&&t.parentElement?uu(r.parentElement):null)}function Wh(e,t){var r=zt(),n=x.exports.useRef(new Set),o=x.exports.useCallback(s=>{!t.current||s.forEach(i=>{var{target:u}=i,c=uu(u);if(!!c)return n.current.add(c)})},[]);iu(e,o,zh),n.current.clear();var a=x.exports.useCallback(()=>{var s=Array.from(n.current.values()),i=s.filter(u=>!s.some(c=>b.isParent(I.findPath(r,c),I.findPath(r,u))));i.forEach(u=>{var c;(c=xo.get(u))===null||c===void 0||c()}),n.current.clear()},[]);return a}function Vh(){var e=zt(),t=x.exports.useRef(!1),r=x.exports.useRef(null),n=x.exports.useCallback(()=>{if(t.current===!1){var o=I.getWindow(e);t.current=!0,r.current&&o.cancelAnimationFrame(r.current),r.current=o.requestAnimationFrame(()=>{t.current=!1,r.current=null})}},[]);return x.exports.useEffect(()=>{t.current&&(t.current=!1)}),{receivedUserInput:t,onUserInput:n}}var Hh={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function Uh(e){var t=zt(),{receivedUserInput:r,onUserInput:n}=Vh(),o=Wh(e,r),a=x.exports.useMemo(()=>new jh(t,o),[o,t]),s=x.exports.useRef(null),i=x.exports.useRef(!1),u=x.exports.useCallback(c=>{!r.current||(i.current=!0,a.flush(c),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{i.current=!1,s.current=null},250))},[]);return iu(e,u,Hh),{isReconciling:i,onUserInput:n}}var qh=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ts(Object(r),!0).forEach(function(n){qi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Gh=20,Jh=e=>{var{autoFocus:t,decorate:r=ou,onDOMBeforeInput:n,placeholder:o,readOnly:a=!1,renderElement:s,renderLeaf:i,renderPlaceholder:u=g=>C(nu,{...Object.assign({},g)}),style:c={},as:h="div"}=e,p=Rr(e,qh),l=Zi(),[d,v]=x.exports.useState(!1),D=x.exports.useRef(null),B=Uh(D);Pn.set(l,a);var y=x.exports.useMemo(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]),_=ua(l);tt(()=>{var g;D.current&&(g=Rn(D.current))?(ia.set(l,g),Nr.set(l,D.current),Lt.set(l,D.current),Er.set(D.current,l)):Lt.delete(l);try{var{selection:m}=l,E=I.findDocumentOrShadowRoot(l),A=E.getSelection();if(y.isComposing||!A||!I.isFocused(l))return;var $=A.type!=="None";if(!m&&!$)return;var P=Nr.get(l),j=!1;if(P.contains(A.anchorNode)&&P.contains(A.focusNode)&&(j=!0),$&&j&&m){var N=I.toSlateRange(l,A,{exactMatch:!0,suppressThrow:!0});if(N&&O.equals(N,m))return}if(m&&!I.hasRange(l,m)){l.selection=I.toSlateRange(l,A,{exactMatch:!1,suppressThrow:!1});return}var R=I.toDOMNode(l,l);y.isUpdatingSelection=!0;var z=m&&I.toDOMRange(l,m);if(z){O.isBackward(m)?A.setBaseAndExtent(z.endContainer,z.endOffset,z.startContainer,z.startOffset):A.setBaseAndExtent(z.startContainer,z.startOffset,z.endContainer,z.endOffset);var M=z.startContainer.parentElement;M.getBoundingClientRect=z.getBoundingClientRect.bind(z),zi(M,{scrollMode:"if-needed",boundary:R}),delete M.getBoundingClientRect}else A.removeAllRanges();setTimeout(()=>{y.isUpdatingSelection=!1})}catch{y.isUpdatingSelection=!1}}),x.exports.useEffect(()=>{D.current&&t&&D.current.focus()},[t]);var F=x.exports.useCallback(Li(()=>{try{if(!y.isComposing&&!y.isUpdatingSelection&&!B.isReconciling.current){var g=I.findDocumentOrShadowRoot(l),{activeElement:m}=g,E=I.toDOMNode(l,l),A=g.getSelection();if(m===E?(y.latestElement=m,et.set(l,!0)):et.delete(l),!A)return k.deselect(l);var{anchorNode:$,focusNode:P}=A,j=ve(l,$)||mn(l,$),N=ve(l,P)||mn(l,P);if(j&&N){var R=I.toSlateRange(l,A,{exactMatch:!1,suppressThrow:!1});k.select(l,R)}else k.deselect(l)}}catch{}},100),[a]),w=x.exports.useMemo(()=>ra(F,0),[F]),T=x.exports.useCallback(g=>{!a&&ve(l,g.target)&&!au(g,n)&&(w.flush(),B.onUserInput())},[a,n]);tt(()=>{var g=D.current;return g==null||g.addEventListener("beforeinput",T),()=>g==null?void 0:g.removeEventListener("beforeinput",T)},[_,n]),tt(()=>{var g=I.getWindow(l);return g.document.addEventListener("selectionchange",w),()=>{g.document.removeEventListener("selectionchange",w)}},[w]);var S=r([l,[]]);if(o&&l.children.length===1&&Array.from(V.texts(l)).length===1&&V.string(l)===""&&!d){var L=f.start(l,[]);S.push({[er]:!0,placeholder:o,anchor:L,focus:L})}return C(da.Provider,{value:a,children:C(la.Provider,{value:r,children:C(h,{...Object.assign({key:_,role:a?void 0:"textbox"},p,{spellCheck:p.spellCheck,autoCorrect:p.autoCorrect,autoCapitalize:p.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:a?void 0:!0,suppressContentEditableWarning:!0,ref:D,style:Kh({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},c),onCopy:x.exports.useCallback(g=>{ve(l,g.target)&&!Ce(g,p.onCopy)&&(g.preventDefault(),I.setFragmentData(l,g.clipboardData,"copy"))},[p.onCopy]),onCut:x.exports.useCallback(g=>{if(!a&&ve(l,g.target)&&!Ce(g,p.onCut)){g.preventDefault(),I.setFragmentData(l,g.clipboardData,"cut");var{selection:m}=l;if(m)if(O.isExpanded(m))f.deleteFragment(l);else{var E=V.parent(l,m.anchor.path);f.isVoid(l,E)&&k.delete(l)}}},[a,p.onCut]),onFocus:x.exports.useCallback(g=>{if(!a&&!y.isUpdatingSelection&&ve(l,g.target)&&!Ce(g,p.onFocus)){var m=I.findDocumentOrShadowRoot(l);y.latestElement=m.activeElement,et.set(l,!0)}},[a,p.onFocus]),onBlur:x.exports.useCallback(g=>{if(!(a||y.isUpdatingSelection||!ve(l,g.target)||Ce(g,p.onBlur))){var m=I.findDocumentOrShadowRoot(l);if(y.latestElement!==m.activeElement){var{relatedTarget:E}=g,A=I.toDOMNode(l,l);if(E!==A&&!(Ie(E)&&E.hasAttribute("data-slate-spacer"))){if(E!=null&&bt(E)&&I.hasDOMNode(l,E)){var $=I.toSlateNode(l,E);if(ie.isElement($)&&!l.isVoid($))return}et.delete(l)}}}},[a,p.onBlur]),onClick:x.exports.useCallback(g=>{if(!a&&Gt(l,g.target)&&!Ce(g,p.onClick)&&bt(g.target)){var m=I.toSlateNode(l,g.target),E=I.findPath(l,m);if(f.hasPath(l,E)){var A=V.get(l,E);if(A===m){var $=f.start(l,E),P=f.end(l,E),j=f.void(l,{at:$}),N=f.void(l,{at:P});if(j&&N&&b.equals(j[1],N[1])){var R=f.range(l,$);k.select(l,R)}}}}},[a,p.onClick]),onCompositionEnd:x.exports.useCallback(g=>{ve(l,g.target)&&!Ce(g,p.onCompositionEnd)&&(w.flush(),setTimeout(()=>{y.isComposing&&v(!1),y.isComposing=!1,un.set(l,!1),Ao.set(l,!0);var m=Fo.get(l)||[];if(!!m.length){Fo.set(l,[]);var{selection:E}=l;m.forEach(A=>{var $=A.text.insertText,P=su(l,E,A);k.setSelection(l,P),f.insertText(l,$)})}},Gh))},[p.onCompositionEnd]),onCompositionUpdate:x.exports.useCallback(g=>{ve(l,g.target)&&!Ce(g,p.onCompositionUpdate)&&(!y.isComposing&&v(!0),y.isComposing=!0,un.set(l,!0))},[p.onCompositionUpdate]),onCompositionStart:x.exports.useCallback(g=>{ve(l,g.target)&&!Ce(g,p.onCompositionStart)&&(!y.isComposing&&v(!0),y.isComposing=!0,un.set(l,!0))},[p.onCompositionStart]),onPaste:x.exports.useCallback(g=>{g.clipboardData=bh(g.clipboardData),ve(l,g.target)&&!Ce(g,p.onPaste)&&!a&&(g.preventDefault(),I.insertData(l,g.clipboardData))},[a,p.onPaste])}),children:ca({decorations:S,node:l,renderElement:s,renderPlaceholder:u,renderLeaf:i,selection:l.selection})})})})},Yh=x.exports.createContext(!1),Xh=["editor","children","onChange","value"],Zh=e=>{var{editor:t,children:r,onChange:n,value:o}=e,a=Rr(e,Xh),s=x.exports.useRef(!1),[i,u]=H.useState(()=>{if(!V.isNodeList(o))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(JSON.stringify(o)));if(!f.isEditor(t))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(JSON.stringify(t)));return t.children=o,Object.assign(t,a),[t]}),c=x.exports.useCallback(()=>{n(t.children),u([t])},[n]);wo.set(t,c),x.exports.useEffect(()=>()=>{wo.set(t,()=>{}),s.current=!0},[]);var[h,p]=x.exports.useState(I.isFocused(t));return x.exports.useEffect(()=>{p(I.isFocused(t))}),tt(()=>{var l=()=>{setTimeout(()=>{s.current||p(I.isFocused(t))},0)};return document.addEventListener("focus",l,!0),document.addEventListener("blur",l,!0),()=>{document.removeEventListener("focus",l,!0),document.removeEventListener("blur",l,!0)}},[]),C(Xi.Provider,{value:i,children:C(Yi.Provider,{value:t,children:C(Yh.Provider,{value:h,children:r})})})},Ms=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},Is=(e,t,r)=>{var n=I.toDOMRange(e,t).getBoundingClientRect(),o=I.toDOMRange(e,r).getBoundingClientRect();return Ms(n,o)&&Ms(o,n)},Qh=(e,t)=>{var r=f.range(e,O.end(t)),n=Array.from(f.positions(e,{at:t})),o=0,a=n.length,s=Math.floor(a/2);if(Is(e,f.range(e,n[o]),r))return f.range(e,n[o],r);if(n.length<2)return f.range(e,n[n.length-1],r);for(;s!==n.length&&s!==o;)Is(e,f.range(e,n[s]),r)?a=s:o=s,s=Math.floor((o+a)/2);return f.range(e,n[a],r)},ev=e=>{var t=e,{apply:r,onChange:n,deleteBackward:o}=t;return kn.set(t,new WeakMap),t.deleteBackward=a=>{if(a!=="line")return o(a);if(e.selection&&O.isCollapsed(e.selection)){var s=f.above(e,{match:h=>f.isBlock(e,h),at:e.selection});if(s){var[,i]=s,u=f.range(e,i,e.selection.anchor),c=Qh(t,u);O.isCollapsed(c)||k.delete(e,{at:c})}}},t.apply=a=>{var s=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(var[i,u]of f.levels(t,{at:a.path})){var c=I.findKey(t,i);s.push([u,c])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(var[h,p]of f.levels(t,{at:b.parent(a.path)})){var l=I.findKey(t,h);s.push([p,l])}break}case"move_node":{for(var[d,v]of f.levels(t,{at:b.common(b.parent(a.path),b.parent(a.newPath))})){var D=I.findKey(t,d);s.push([v,D])}break}}r(a);for(var[B,y]of s){var[_]=f.node(t,B);_o.set(_,y)}},t.setFragmentData=a=>{var{selection:s}=t;if(!!s){var[i,u]=O.edges(s),c=f.void(t,{at:i.path}),h=f.void(t,{at:u.path});if(!(O.isCollapsed(s)&&!c)){var p=I.toDOMRange(t,s),l=p.cloneContents(),d=l.childNodes[0];if(l.childNodes.forEach(S=>{S.textContent&&S.textContent.trim()!==""&&(d=S)}),h){var[v]=h,D=p.cloneRange(),B=I.toDOMNode(t,v);D.setEndAfter(B),l=D.cloneContents()}if(c&&(d=l.querySelector("[data-slate-spacer]")),Array.from(l.querySelectorAll("[data-slate-zero-width]")).forEach(S=>{var L=S.getAttribute("data-slate-zero-width")==="n";S.textContent=L?`
`:""}),Qi(d)){var y=d.ownerDocument.createElement("span");y.style.whiteSpace="pre",y.appendChild(d),l.appendChild(y),d=y}var _=t.getFragment(),F=JSON.stringify(_),w=window.btoa(encodeURIComponent(F));d.setAttribute("data-slate-fragment",w),a.setData("application/x-slate-fragment",w);var T=l.ownerDocument.createElement("div");return T.appendChild(l),T.setAttribute("hidden","true"),l.ownerDocument.body.appendChild(T),a.setData("text/html",T.innerHTML),a.setData("text/plain",tu(T)),l.ownerDocument.body.removeChild(T),a}}},t.insertData=a=>{t.insertFragmentData(a)||t.insertTextData(a)},t.insertFragmentData=a=>{var s=a.getData("application/x-slate-fragment")||ru(a);if(s){var i=decodeURIComponent(window.atob(s)),u=JSON.parse(i);return t.insertFragment(u),!0}return!1},t.insertTextData=a=>{var s=a.getData("text/plain");if(s){var i=s.split(/\r\n|\r|\n/),u=!1;for(var c of i)u&&k.splitNodes(t,{always:!0}),t.insertText(c),u=!0;return!0}return!1},t.onChange=()=>{Xu.unstable_batchedUpdates(()=>{var a=wo.get(t);a&&a(),n()})},t},tv=oa?Jh:_h,rv={isHistory(e){return Fe(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||Tt.isOperationList(e.redos[0]))&&(e.undos.length===0||Tt.isOperationList(e.undos[0]))}},no=new WeakMap,oo=new WeakMap,hr={isHistoryEditor(e){return rv.isHistory(e.history)&&f.isEditor(e)},isMerging(e){return oo.get(e)},isSaving(e){return no.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=hr.isMerging(e);oo.set(e,!1),t(),oo.set(e,r)},withoutSaving(e,t){var r=hr.isSaving(e);no.set(e,!1),t(),no.set(e,r)}},nv=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:n}=t,{redos:o}=n;if(o.length>0){var a=o[o.length-1];hr.withoutSaving(t,()=>{f.withoutNormalizing(t,()=>{for(var s of a)t.apply(s)})}),n.redos.pop(),n.undos.push(a)}},t.undo=()=>{var{history:n}=t,{undos:o}=n;if(o.length>0){var a=o[o.length-1];hr.withoutSaving(t,()=>{f.withoutNormalizing(t,()=>{var s=a.map(Tt.inverse).reverse();for(var i of s)t.apply(i)})}),n.redos.push(a),n.undos.pop()}},t.apply=n=>{var{operations:o,history:a}=t,{undos:s}=a,i=s[s.length-1],u=i&&i[i.length-1],c=sv(n,u),h=hr.isSaving(t),p=hr.isMerging(t);if(h==null&&(h=av(n)),h){if(p==null&&(i==null?p=!1:o.length!==0?p=!0:p=ov(n,u)||c),i&&p)c&&i.pop(),i.push(n);else{var l=[n];s.push(l)}for(;s.length>100;)s.shift();iv(n)&&(a.redos=[])}r(n)},t},ov=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&b.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&b.equals(e.path,t.path)),av=(e,t)=>!(e.type==="set_selection"&&(e.properties==null||e.newProperties==null)),sv=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),iv=e=>e.type!=="set_selection";function le(e,t){return t?e.idx!=null&&e.type==t:e.idx!=null}function lu(e){return!le(e)&&e.children!=null&&!f.isEditor(e)}function fa(e){if(le(e)||lu(e)||f.isEditor(e))return!1;if(e.text==null)throw new Wo("can not determine know node type.");return!0}function uv(e,t){return!le(e)||!le(t)?!1:e.idx==t.idx}function Dt(e,t){for(let[r,n]of V.descendants(e))if(uv(r,t))return n}function Ls(e,t){let r;for(let[n,o]of V.ancestors(e,Dt(e,t)))le(n)&&(r=n);return r}function lv(e,t){let r=Array.from(f.nodes(e,{match:n=>n.idx==t}));if(r.length!=0)return r[0][0]}function cv(e,t){const r=t.isInline;return t.isInline=n=>{if(le(n)){let o={},a=e.get_core().get_printer().get_node_first_concept(n);if(a&&(o=a.meta_parameters),o.force_inline||n.type=="inline")return!0;if(o.force_block)return!1}return r(n)},t}function dv(e,t){const r=t.isVoid;return t.isVoid=n=>{if(le(n)){let o={},a=e.get_core().get_printer().get_node_first_concept(n);if(a&&(o=a.meta_parameters),o.force_void||n.type=="support")return!0}return r(n)},t}var Oo={initializing:!1,pasting:!1};function Bn(e){Oo={...Oo,...e}}function Wt(e){return Oo[e]}function fv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(Wt("initializing")){r(n);return}if(le(o,"group")||le(o,"abstract")){if(o.children.length==0){e.add_nodes(e.get_core().create_paragraph(""),[...a,0]);return}if(le(o.children[0],"inline")||fa(o.children[0])){e.delete_node_by_path([...a,0]);return}if(!On(o.children[0])){e.add_nodes(e.get_core().create_paragraph(""),[...a,0]);return}}r(n)},t}function pv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(Wt("initializing")){r(n);return}if(le(o,"inline")){if(o.children.length==0){e.add_nodes(e.get_core().create_text(""),[...a,0]);return}if(!(le(o.children[0],"inline")||fa(o.children[0])||le(o.children[0],"support"))){e.delete_node_by_path([...a,0]);return}}r(n)},t}function hv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(Wt("initializing")){r(n);return}if(le(o,"structure")&&o.children.length>0&&!le(o.children[0],"group")){e.delete_node_by_path([...a,0]);return}r(n)},t}function vv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(Wt("initializing")){r(n);return}if(lu(o)){if(o.children.length==0){e.add_nodes(e.get_core().create_text(""),[...a,0]);return}if(!(le(o.children[0],"inline")||fa(o.children[0])||le(o.children[0],"support"))){e.move_node_by_path([...a,0],a);return}}r(n)},t}function gv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{if(!Wt("pasting")){r(n);return}let o={};for(let[a,s]of V.descendants(t))if(!!le(a)){if(o[a.idx]){e.set_node(a,{idx:e.get_core().gene_idx()});return}o[a.idx]=!0}Bn({pasting:!1}),r(n)},t}function Dv(e,t){const r=t.normalizeNode;let n=o=>le(o)&&(o.type=="group"||o.type=="structure");return t.normalizeNode=o=>{const[a,s]=o;if(Wt("initializing")){r(o);return}if(le(a)&&a.type!="structure"&&a.type!="inline"||f.isEditor(a)){let i=!1;for(let[u,c]of a.children.entries()){if(!n(c))continue;if(!i){i=!0;continue}if(i=!0,u==0)continue;let h=a.children[u-1];if(n(h)&&c.relation=="separating"){e.add_nodes(e.get_core().create_paragraph(),[...s,u]);return}if(!n(h)&&c.relation=="chaining"){e.move_node_by_path([...s,u-1],[...s,u]);return}}}r(o)},t}function Cv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{const[o,a]=n;if(Wt("initializing")){r(n);return}if(le(o)){for(let[s,i]of o.abstract.entries())if(!le(i,"abstract")){e.set_node_by_path(a,{abstract:[...o.abstract.slice(0,s),...o.abstract.slice(s+1)]});return}}r(n)},t}function mv(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{const[o,a]=n;if(Wt("initializing")){r(n);return}if(le(o)){let s=e.get_core().get_printer().get_node_second_concept(o);if(!s){r(n);return}for(let i in s.default_override)if(o.parameters[i]==null){e.auto_set_parameter(o,{[i]:{...s.default_override[i]}});return}for(let i in o.parameters)if(s.default_override[i]==null){let u={...o.parameters};delete u[i],e.set_node(o,{parameters:u});return}}r(n)},t}let Bv=[cv,dv,fv,pv,hv,vv,gv,Dv,Cv,mv];function bv(e,t){for(let r of Bv)t=r(e,t);return t}let Ae={set_node(e,t,r){let n=Dt(e.get_root(),t);if(n.length==0){console.log(t);let o=r;o.children!=null&&e.set_root_children(o.children),delete o.children,e.set_root(o);return}k.setNodes(e.get_slate(),r,{at:n})},set_node_by_path(e,t,r){if(t.length==0){let n=r;n.children!=null&&e.set_root_children(n.children),delete n.children,e.set_root(n);return}k.setNodes(e.get_slate(),r,{at:t})},auto_set_parameter(e,t,r){let n={parameters:{...t.parameters,...r}};Ae.set_node(e,t,n)},delete_concept_node(e,t){let r=Dt(e.get_root(),t);if(r.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.removeNodes(e.get_slate(),{at:r})},delete_node_by_path(e,t){if(t.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.removeNodes(e.get_slate(),{at:t})},delete_nodes_by_paths(e,t){if(t.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");let r=t.reduce((n,o)=>[...n,JSON.stringify(o)],[]);k.removeNodes(e.get_slate(),{match:(n,o)=>r.indexOf(JSON.stringify(o))>=0})},move_concept_node(e,t,r){let n=Dt(e.get_root(),t);if(n.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.moveNodes(e.get_slate(),{at:n,to:r})},unwrap_node(e,t){let r=Dt(e.get_root(),t);if(r.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.unwrapNodes(e.get_slate(),{at:r})},move_node_by_path(e,t,r){if(t.length==0||r.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.moveNodes(e.get_slate(),{at:t,to:r})},add_nodes(e,t,r){if(r.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.insertNodes(e.get_slate(),t,{at:r})},add_nodes_before(e,t,r){let n=Dt(e.get_root(),r);if(n.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");k.insertNodes(e.get_slate(),t,{at:n})},add_nodes_after(e,t,r){let n=Dt(e.get_root(),r);if(n.length==0)throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD");n[n.length-1]++,k.insertNodes(e.get_slate(),t,{at:n})},add_nodes_here(e,t){k.insertNodes(e.get_slate(),t)},wrap_selected_nodes(e,t,r){r.split&&Bn({pasting:!0}),k.wrapNodes(e.get_slate(),t,{match:r.match,split:r.split})},wrap_nodes(e,t,r,n,o){o.split&&Bn({pasting:!0}),k.wrapNodes(e.get_slate(),t,{at:{anchor:r,focus:n},match:o.match,split:o.split})},replace_nodes(e,t,r){let n=Dt(e.get_root(),t),o=t.children.length;o>0&&k.removeNodes(e.get_slate(),{at:{anchor:{path:[...n,0],offset:0},focus:{path:[...n,o-1],offset:0}}}),k.insertNodes(e.get_slate(),r,{at:[...n,0]})}};class Ev extends H.Component{constructor(t){super(t),this.onUpdate=t.onUpdate||(()=>{}),this.onKeyDown=t.onKeyDown||(()=>{}),this.onKeyUp=t.onKeyUp||(()=>{}),this.onKeyPress=t.onKeyPress||(()=>{}),this.onFocusChange=t.onFocusChange||(()=>{}),this.use_tree_op_mixin();let r=this,n=t.plugin||((i,u)=>u),o=this.get_core().create_abstract("root"),[a,s]=(()=>{let{children:i,...u}=o;return[i,u]})();this.state={slate:n(r,bv(r,nv(ev(jd())))),root_children:t.init_rootchildren||a,root_property:t.init_rootproperty||s}}get_core(){return this.props.editorcore}get_root(){return{...this.state.root_property,children:this.state.root_children}}set_root_children(t){this.setState({root_children:t})}set_root(t){this.setState({root_property:{...this.state.root_property,...t}})}get_editorcore(){return this.get_core()}get_slate(){return this.state.slate}use_tree_op_mixin(){let t=this;this.set_node=(r,n)=>Ae.set_node(t,r,n),this.set_node_by_path=(r,n)=>Ae.set_node_by_path(t,r,n),this.auto_set_parameter=(r,n)=>Ae.auto_set_parameter(t,r,n),this.delete_concept_node=r=>Ae.delete_concept_node(t,r),this.delete_node_by_path=r=>Ae.delete_node_by_path(t,r),this.move_concept_node=(r,n)=>Ae.move_concept_node(t,r,n),this.unwrap_node=r=>Ae.unwrap_node(t,r),this.move_node_by_path=(r,n)=>Ae.move_node_by_path(t,r,n),this.add_nodes=(r,n)=>Ae.add_nodes(t,r,n),this.add_nodes_before=(r,n)=>Ae.add_nodes_before(t,r,n),this.add_nodes_after=(r,n)=>Ae.add_nodes_after(t,r,n),this.add_nodes_here=r=>Ae.add_nodes_here(t,r),this.wrap_selected_nodes=(r,n)=>Ae.wrap_selected_nodes(t,r,n),this.wrap_nodes=(r,n,o,a)=>Ae.wrap_nodes(t,r,n,o,a),this.replace_nodes=(r,n)=>Ae.replace_nodes(t,r,n),this.delete_nodes_by_paths=r=>Ae.delete_nodes_by_paths(t,r)}update_value(t){this.setState({root_children:t}),this.onUpdate(t)}renderElement(t){let r=this,n=t.element,o=r.get_core().get_node_renderer(n),a=t.attributes,s={editor:r,node:n,children:t.children},i=!1;if(le(n)){let u=this.get_core().get_meta_param(n);u&&u.force_inline&&(i=!0),n.type=="inline"&&(i=!0)}return i?C("span",{...a,children:C(o,{...s})}):C("div",{...a,children:C(o,{...s})})}renderLeaf(t){let r=this,n=r.get_core().get_first_renderer("text"),o=t.attributes,a={editor:r,node:t.leaf,children:t.children};return C("span",{...o,children:C(n,{...a})})}render(){let t=this,r=t.state.slate,n={editor:t,slate:t.state.slate,core:t.get_core()},o=this.state.root_children;return C(Lr,{value:n,children:C(Zh,{editor:r,value:o,onChange:a=>{JSON.stringify(a)!=JSON.stringify(this.state.root_children)&&(t.update_value(a),t.onFocusChange())},children:C(tv,{renderElement:t.renderElement.bind(t),renderLeaf:t.renderLeaf.bind(t),onClick:a=>{t.onFocusChange()},onCopy:a=>!0,onPaste:()=>(Bn({pasting:!0}),!1),onKeyDown:a=>t.onKeyDown(a),onKeyUp:a=>t.onKeyUp(a),onKeyPress:a=>t.onKeyPress(a)})})})}new_concept_node(t,r){let n=this;if(t=="support"){let o=n.get_editorcore().create_support(r);n.add_nodes_here(o);return}if(t=="structure"){let o=n.get_editorcore().create_structure(r);n.add_nodes_here(o);return}if(t=="group"){let o=n.get_slate().selection,a=!0;o!=null&&(a=JSON.stringify(o.anchor)==JSON.stringify(o.focus));let s=n.get_editorcore().create_group(r);a?n.add_nodes_here(s):n.wrap_selected_nodes(s,{split:!1});return}if(t=="inline"){let o=n.get_slate().selection,a=!0;o!=null&&(a=JSON.stringify(o.anchor)==JSON.stringify(o.focus));let s=n.get_editorcore().create_inline(r,"");a?n.add_nodes_here(s):n.wrap_selected_nodes(s,{split:!0});return}throw new Oe("\u8FD9\u8FD9\u4E0D\u80FD")}}const cu=e=>{let t=H.useContext(Yt);return C(Do,{component:_e,...e,sx:[{...t.editor.fonts.structure,marginY:"auto",height:t.editor.fonts.structure.lineHeight,whiteSpace:"nowrap"},...Array.isArray(e.sx)?e.sx:[e.sx]]})},yv=e=>{let t=H.useContext(Yt);return C(_e,{...e,autogrow:void 0,sx:[{paddingX:t.editor.margins.background,...e.autogrow?{flex:1,minWidth:0}:{}},...Array.isArray(e.sx)?e.sx:[e.sx]]})};H.createContext(1);const _v=e=>C(fn,{elevation:0,variant:"outlined",square:!0,...e,sx:[{width:"100%",height:"100%",overflow:"hidden"},...Array.isArray(e.sx)?e.sx:[e.sx]]});/*!
 * OverlayScrollbars
 * Version: 2.0.0-beta.3
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */function se(e,t){if($n(e))for(let r=0;r<e.length&&t(e[r],r,e)!==!1;r++);else e&&se(Object.keys(e),r=>t(e[r],r,e));return e}function we(e,t){const r=or(t);if(nt(t)||r){let o=r?"":{};if(e){const a=window.getComputedStyle(e,null);o=r?Vs(e,a,t):t.reduce((s,i)=>(s[i]=Vs(e,a,i),s),o)}return o}e&&se(Ve(t),o=>zv(e,o,t[o]))}const Qe=(e,t)=>{const{o:r,u:n,_:o}=e;let a=r,s;const i=(h,p)=>{const l=a,d=h,v=p||(n?!n(l,d):l!==d);return(v||o)&&(a=d,s=l),[a,v,s]};return[t?h=>i(t(a,s),h):i,h=>[a,!!h,s]]},Wr=()=>typeof window!="undefined",du=Wr()&&Node.ELEMENT_NODE,{toString:Av,hasOwnProperty:ao}=Object.prototype,Ft=e=>e===void 0,Nn=e=>e===null,Fv=e=>Ft(e)||Nn(e)?`${e}`:Av.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase(),It=e=>typeof e=="number",or=e=>typeof e=="string",fu=e=>typeof e=="boolean",it=e=>typeof e=="function",nt=e=>Array.isArray(e),$r=e=>typeof e=="object"&&!nt(e)&&!Nn(e),$n=e=>{const t=!!e&&e.length,r=It(t)&&t>-1&&t%1==0;return nt(e)||!it(e)&&r?t>0&&$r(e)?t-1 in e:!0:!1},So=e=>{if(!e||!$r(e)||Fv(e)!=="object")return!1;let t;const r="constructor",n=e[r],o=n&&n.prototype,a=ao.call(e,r),s=o&&ao.call(o,"isPrototypeOf");if(n&&!a&&!s)return!1;for(t in e);return Ft(t)||ao.call(e,t)},pa=e=>{const t=HTMLElement;return e?t?e instanceof t:e.nodeType===du:!1},Tn=e=>{const t=Element;return e?t?e instanceof t:e.nodeType===du:!1},ha=(e,t,r)=>e.indexOf(t,r),de=(e,t,r)=>(!r&&!or(t)&&$n(t)?Array.prototype.push.apply(e,t):e.push(t),e),tr=e=>{const t=Array.from,r=[];return t&&e?t(e):(e instanceof Set?e.forEach(n=>{de(r,n)}):se(e,n=>{de(r,n)}),r)},va=e=>!!e&&e.length===0,wt=(e,t,r)=>{se(e,o=>o&&o.apply(void 0,t||[])),!r&&(e.length=0)},Mn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ve=e=>e?Object.keys(e):[],Be=(e,t,r,n,o,a,s)=>{const i=[t,r,n,o,a,s];return(typeof e!="object"||Nn(e))&&!it(e)&&(e={}),se(i,u=>{se(Ve(u),c=>{const h=u[c];if(e===h)return!0;const p=nt(h);if(h&&(So(h)||p)){const l=e[c];let d=l;p&&!nt(l)?d=[]:!p&&!So(l)&&(d={}),e[c]=Be(d,h)}else e[c]=h})}),e},ga=e=>{for(const t in e)return!1;return!0},pu=(e,t,r,n)=>{if(Ft(n))return r?r[e]:t;r&&(or(n)||It(n))&&(r[e]=n)},je=(e,t,r)=>{if(Ft(r))return e?e.getAttribute(t):null;e&&e.setAttribute(t,r)},hu=(e,t,r,n)=>{if(r){const o=je(e,t)||"",a=new Set(o.split(" "));a[n?"add":"delete"](r),je(e,t,tr(a).join(" ").trim())}},wv=(e,t,r)=>{const n=je(e,t)||"";return new Set(n.split(" ")).has(r)},Jt=(e,t)=>{e&&e.removeAttribute(t)},rt=(e,t)=>pu("scrollLeft",0,e,t),mt=(e,t)=>pu("scrollTop",0,e,t),ko=Wr()&&Element.prototype,vu=(e,t)=>{const r=[],n=t?Tn(t)?t:null:document;return n?de(r,n.querySelectorAll(e)):r},xv=(e,t)=>{const r=t?Tn(t)?t:null:document;return r?r.querySelector(e):null},bn=(e,t)=>Tn(e)?(ko.matches||ko.msMatchesSelector).call(e,t):!1,Da=e=>e?tr(e.childNodes):[],Et=e=>e?e.parentElement:null,vr=(e,t)=>{if(Tn(e)){const r=ko.closest;if(r)return r.call(e,t);do{if(bn(e,t))return e;e=Et(e)}while(e)}return null},Ov=(e,t,r)=>{const n=e&&vr(e,t),o=e&&xv(r,n),a=vr(o,t)===n;return n&&o?n===e||o===e||a&&vr(vr(e,r),t)!==n:!1},Ca=(e,t,r)=>{if(r&&e){let n=t,o;$n(r)?(o=document.createDocumentFragment(),se(r,a=>{a===n&&(n=a.previousSibling),o.appendChild(a)})):o=r,t&&(n?n!==t&&(n=n.nextSibling):n=e.firstChild),e.insertBefore(o,n||null)}},Ge=(e,t)=>{Ca(e,null,t)},Sv=(e,t)=>{Ca(Et(e),e,t)},js=(e,t)=>{Ca(Et(e),e&&e.nextSibling,t)},ut=e=>{if($n(e))se(tr(e),t=>ut(t));else if(e){const t=Et(e);t&&t.removeChild(e)}},Xt=e=>{const t=document.createElement("div");return e&&je(t,"class",e),t},gu=e=>{const t=Xt();return t.innerHTML=e.trim(),se(Da(t),r=>ut(r))},Po=e=>e.charAt(0).toUpperCase()+e.slice(1),kv=()=>Xt().style,Pv=["-webkit-","-moz-","-o-","-ms-"],Rv=["WebKit","Moz","O","MS","webkit","moz","o","ms"],so={},io={},Nv=e=>{let t=io[e];if(Mn(io,e))return t;const r=Po(e),n=kv();return se(Pv,o=>{const a=o.replace(/-/g,"");return!(t=[e,o+e,a+r,Po(a)+r].find(i=>n[i]!==void 0))}),io[e]=t||""},Vr=e=>{if(Wr()){let t=so[e]||window[e];return Mn(so,e)||(se(Rv,r=>(t=t||window[r+Po(e)],!t)),so[e]=t),t}},$v=Vr("MutationObserver"),zs=Vr("IntersectionObserver"),gr=Vr("ResizeObserver"),Du=Vr("cancelAnimationFrame"),Cu=Vr("requestAnimationFrame"),En=Wr()&&window.setTimeout,Ro=Wr()&&window.clearTimeout,In=(e,t,r,n)=>{if(e&&t){let o=!0;return se(r,a=>{const s=n?n(e[a]):e[a],i=n?n(t[a]):t[a];s!==i&&(o=!1)}),o}return!1},mu=(e,t)=>In(e,t,["w","h"]),Bu=(e,t)=>In(e,t,["x","y"]),Tv=(e,t)=>In(e,t,["t","r","b","l"]),Ws=(e,t,r)=>In(e,t,["width","height"],r&&(n=>Math.round(n))),qe=()=>{},fr=e=>{let t;const r=e?En:Cu,n=e?Ro:Du;return[o=>{n(t),t=r(o,it(e)?e():e)},()=>n(t)]},bu=(e,t)=>{let r,n,o,a=qe;const{g:s,v:i,p:u}=t||{},c=function(v){a(),Ro(r),r=n=void 0,a=qe,e.apply(this,v)},h=d=>u&&n?u(n,d):d,p=()=>{a!==qe&&c(h(o)||o)},l=function(){const v=tr(arguments),D=it(s)?s():s;if(It(D)&&D>=0){const y=it(i)?i():i,_=It(y)&&y>=0,F=D>0?En:Cu,w=D>0?Ro:Du,S=h(v)||v,L=c.bind(0,S);a();const g=F(L,D);a=()=>w(g),_&&!r&&(r=En(p,y)),n=o=S}else c(v)};return l.m=p,l},Mv=/[^\x20\t\r\n\f]+/g,ma=(e,t,r)=>{const n=e&&e.classList;let o,a=0,s=!1;if(n&&t&&or(t)){const i=t.match(Mv)||[];for(s=i.length>0;o=i[a++];)s=!!r(n,o)&&s}return s},Iv=(e,t)=>ma(e,t,(r,n)=>r.contains(n)),Br=(e,t)=>{ma(e,t,(r,n)=>r.remove(n))},Le=(e,t)=>(ma(e,t,(r,n)=>r.add(n)),Br.bind(0,e,t)),Lv={opacity:1,zindex:1},Xr=(e,t)=>{const r=t?parseFloat(e):parseInt(e,10);return r===r?r:0},jv=(e,t)=>!Lv[e.toLowerCase()]&&It(t)?`${t}px`:t,Vs=(e,t,r)=>t!=null?t[r]||t.getPropertyValue(r):e.style[r],zv=(e,t,r)=>{try{const{style:n}=e;Ft(n[t])?n.setProperty(t,r):n[t]=jv(t,r)}catch{}},yn=e=>we(e,"direction")==="rtl",Hs=(e,t,r)=>{const n=t?`${t}-`:"",o=r?`-${r}`:"",a=`${n}top${o}`,s=`${n}right${o}`,i=`${n}bottom${o}`,u=`${n}left${o}`,c=we(e,[a,s,i,u]);return{t:Xr(c[a],!0),r:Xr(c[s],!0),b:Xr(c[i],!0),l:Xr(c[u],!0)}},{round:Us}=Math,Ba={w:0,h:0},rr=e=>e?{w:e.offsetWidth,h:e.offsetHeight}:Ba,ln=e=>e?{w:e.clientWidth,h:e.clientHeight}:Ba,_n=e=>e?{w:e.scrollWidth,h:e.scrollHeight}:Ba,An=e=>{const t=parseFloat(we(e,"height"))||0,r=parseFloat(we(e,"width"))||0;return{w:r-Us(r),h:t-Us(t)}},Mt=e=>e.getBoundingClientRect();let Zr;const Wv=()=>{if(Ft(Zr)){Zr=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){Zr=!0}}))}catch{}}return Zr},Eu=e=>e.split(" "),Vv=(e,t,r,n)=>{se(Eu(t),o=>{e.removeEventListener(o,r,n)})},ye=(e,t,r,n)=>{var o;const a=Wv(),s=(o=a&&n&&n.S)!=null?o:a,i=n&&n.$||!1,u=n&&n.C||!1,c=[],h=a?{passive:s,capture:i}:i;return se(Eu(t),p=>{const l=u?d=>{e.removeEventListener(p,l,i),r&&r(d)}:r;de(c,Vv.bind(null,e,p,l,i)),e.addEventListener(p,l,h)}),wt.bind(0,c)},yu=e=>e.stopPropagation(),_u=e=>e.preventDefault(),Hv={x:0,y:0},uo=e=>{const t=e?Mt(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:Hv},qs=(e,t)=>{se(nt(t)?t:[t],e)},ba=e=>{const t=new Map,r=(s,i)=>{if(s){const u=t.get(s);qs(c=>{u&&u[c?"delete":"clear"](c)},i)}else t.forEach(u=>{u.clear()}),t.clear()},n=(s,i)=>{const u=t.get(s)||new Set;return t.set(s,u),qs(c=>{c&&u.add(c)},i),r.bind(0,s,i)},o=(s,i)=>{const u=t.get(s);se(tr(u),c=>{i&&!va(i)?c.apply(0,i):c()})},a=Ve(e);return se(a,s=>{n(s,e[s])}),[n,r,o]},Ks=e=>JSON.stringify(e,(t,r)=>{if(it(r))throw new Error;return r}),Uv={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Au=(e,t)=>{const r={},n=Ve(t).concat(Ve(e));return se(n,o=>{const a=e[o],s=t[o];if($r(a)&&$r(s))Be(r[o]={},Au(a,s)),ga(r[o])&&delete r[o];else if(Mn(t,o)&&s!==a){let i=!0;if(nt(a)||nt(s))try{Ks(a)===Ks(s)&&(i=!1)}catch{}i&&(r[o]=s)}}),r},Fu="os-environment",wu=`${Fu}-flexbox-glue`,qv=`${wu}-max`,Ct="data-overlayscrollbars",xu=`${Ct}-overflow-x`,Ou=`${Ct}-overflow-y`,Or="overflowVisible",Kv="scrollbarHidden",Fn="updating",Gv="os-padding",Ln="os-viewport",lo=`${Ln}-arrange`,Jv="os-content",wn=`${Ln}-scrollbar-hidden`,Cr="os-overflow-visible",Ea="os-size-observer",Yv=`${Ea}-appear`,Xv=`${Ea}-listener`,Zv="os-trinsic-observer",Me="os-scrollbar",Qv=`${Me}-rtl`,eg=`${Me}-horizontal`,tg=`${Me}-vertical`,Su=`${Me}-track`,ya=`${Me}-handle`,rg=`${Me}-visible`,ng=`${Me}-cornerless`,Gs=`${Me}-transitionless`,Js=`${Me}-interaction`,Ys=`${Me}-unusable`,Xs=`${Me}-auto-hidden`,Zs=`${Me}-wheel`,og=`${Su}-interactive`,ag=`${ya}-interactive`,ku={},nr=()=>ku,sg=e=>{const t=[];return se(nt(e)?e:[e],r=>{const n=Ve(r);se(n,o=>{de(t,ku[o]=r[o])})}),t},ig="__osOptionsValidationPlugin",ug="__osSizeObserverPlugin",_a="__osScrollbarsHidingPlugin",lg="__osClickScrollPlugin";let co;const Qs=(e,t,r,n)=>{Ge(e,t);const o=ln(t),a=rr(t),s=An(r);return n&&ut(t),{x:a.h-o.h+s.h,y:a.w-o.w+s.w}},cg=e=>{let t=!1;const r=Le(e,wn);try{t=we(e,Nv("scrollbar-width"))==="none"||window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")==="none"}catch{}return r(),t},dg=(e,t)=>{const r="hidden";we(e,{overflowX:r,overflowY:r,direction:"rtl"}),rt(e,0);const n=uo(e),o=uo(t);rt(e,-999);const a=uo(t);return{i:n.x===o.x,n:o.x!==a.x}},fg=(e,t)=>{const r=Le(e,wu),n=Mt(e),o=Mt(t),a=Ws(o,n,!0),s=Le(e,qv),i=Mt(e),u=Mt(t),c=Ws(u,i,!0);return r(),s(),a&&c},pg=()=>{const{body:e}=document,r=gu(`<div class="${Fu}"><div></div></div>`)[0],n=r.firstChild,[o,,a]=ba(),[s,i]=Qe({o:Qs(e,r,n),u:Bu},Qs.bind(0,e,r,n,!0)),[u]=i(),c=cg(r),h={x:u.x===0,y:u.y===0},p={elements:{host:null,padding:!c,viewport:v=>c&&v===v.ownerDocument.body&&v,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},l=Be({},Uv),d={k:u,I:h,A:c,L:we(r,"zIndex")==="-1",V:dg(r,n),B:fg(r,n),Y:v=>o("_",v),j:Be.bind(0,{},p),q(v){Be(p,v)},N:Be.bind(0,{},l),F(v){Be(l,v)},G:Be({},p),X:Be({},l)};if(Jt(r,"style"),ut(r),!c&&(!h.x||!h.y)){let v;window.addEventListener("resize",()=>{const D=nr()[_a];v=v||D&&D.R(),v&&v(d,s,a.bind(0,"_"))})}return d},He=()=>(co||(co=pg()),co),Pu=(e,t)=>it(e)?e.apply(0,t):e,hg=(e,t,r,n)=>{const o=Ft(n)?r:n;return Pu(o,e)||t.apply(0,e)},Ru=(e,t,r,n)=>{const o=Ft(n)?r:n,a=Pu(o,e);return!!a&&(pa(a)?a:t.apply(0,e))},vg=(e,t,r)=>{const{nativeScrollbarsOverlaid:n,body:o}=r||{},{I:a,A:s}=He(),{nativeScrollbarsOverlaid:i,body:u}=t,c=n!=null?n:i,h=Ft(o)?u:o,p=(a.x||a.y)&&c,l=e&&(Nn(h)?!s:h);return!!p||!!l},Aa=new WeakMap,gg=(e,t)=>{Aa.set(e,t)},Dg=e=>{Aa.delete(e)},Nu=e=>Aa.get(e),ei=(e,t)=>e?t.split(".").reduce((r,n)=>r&&Mn(r,n)?r[n]:void 0,e):void 0,No=(e,t,r)=>n=>[ei(e,n),r||ei(t,n)!==void 0],$u=e=>{let t=e;return[()=>t,r=>{t=Be({},t,r)}]},Qr="tabindex",en=Xt.bind(0,""),fo=e=>{Ge(Et(e),Da(e)),ut(e)},Cg=e=>{const t=He(),{j:r,A:n}=t,o=nr()[_a],a=o&&o.T,{elements:s}=r(),{host:i,viewport:u,padding:c,content:h}=s,p=pa(e),l=p?{}:e,{elements:d}=l,{host:v,padding:D,viewport:B,content:y}=d||{},_=p?e:l.target,F=bn(_,"textarea"),w=_.ownerDocument,T=w.documentElement,S=_===w.body,L=w.defaultView,g=hg.bind(0,[_]),m=Ru.bind(0,[_]),E=g(en,u,B),A=E===_,$=A&&S,P=w.activeElement,j=!A&&L.top===L&&P===_,N={U:_,W:F?g(en,i,v):_,J:E,K:!A&&m(en,c,D),Z:!A&&m(en,h,y),tt:!A&&!n&&a&&a(t),nt:$?T:E,ot:$?w:E,st:L,et:w,ct:F,rt:S,it:p,lt:A,ut:(te,ue)=>A?wv(E,Ct,ue):Iv(E,te),dt:(te,ue,ge)=>A?hu(E,Ct,ue,ge):(ge?Le:Br)(E,te)},R=Ve(N).reduce((te,ue)=>{const ge=N[ue];return de(te,ge&&!Et(ge)?ge:!1)},[]),z=te=>te?ha(R,te)>-1:null,{U:M,W,K:q,J:K,Z:Y,tt:ne}=N,U=[()=>{Jt(W,Ct),S&&Jt(T,Ct)}],X=F&&z(W);let Z=F?M:Da([Y,K,q,W,M].find(te=>z(te)===!1));const ee=Y||K;return[N,()=>{je(W,Ct,A?"viewport":"host");const te=Le(q,Gv),ue=Le(K,!A&&Ln),ge=Le(Y,Jv),Ue=S?Le(Et(_),wn):qe;if(X&&(js(M,W),de(U,()=>{js(W,M),ut(W)})),Ge(ee,Z),Ge(W,q),Ge(q||W,!A&&K),Ge(K,Y),de(U,()=>{Ue(),Jt(K,xu),Jt(K,Ou),z(Y)&&fo(Y),z(K)&&fo(K),z(q)&&fo(q),te(),ue(),ge()}),n&&!A&&de(U,Br.bind(0,K,wn)),ne&&(Sv(K,ne),de(U,ut.bind(0,ne))),j){const fe=je(K,Qr);je(K,Qr,"-1"),K.focus();const Pe=ye(w,"pointerdown keydown",()=>{fe?je(K,Qr,fe):Jt(K,Qr),Pe()})}else P&&P.focus&&P.focus();Z=0},wt.bind(0,U)]},mg=(e,t)=>{const{Z:r}=e,[n]=t;return o=>{const{B:a}=He(),{ft:s}=n(),{_t:i}=o,u=(r||!a)&&i;return u&&we(r,{height:s?"":"100%"}),{ht:u,gt:u}}},Bg=(e,t)=>{const[r,n]=t,{W:o,K:a,J:s,lt:i}=e,[u,c]=Qe({u:Tv,o:Hs()},Hs.bind(0,o,"padding",""));return(h,p,l)=>{let[d,v]=c(l);const{A:D,B}=He(),{vt:y}=r(),{ht:_,gt:F,wt:w}=h,[T,S]=p("paddingAbsolute");(_||v||!B&&F)&&([d,v]=u(l));const g=!i&&(S||w||v);if(g){const m=!T||!a&&!D,E=d.r+d.l,A=d.t+d.b,$={marginRight:m&&!y?-E:0,marginBottom:m?-A:0,marginLeft:m&&y?-E:0,top:m?-d.t:0,right:m?y?-d.r:"auto":0,left:m?y?"auto":-d.l:0,width:m?`calc(100% + ${E}px)`:""},P={paddingTop:m?d.t:0,paddingRight:m?d.r:0,paddingBottom:m?d.b:0,paddingLeft:m?d.l:0};we(a||s,$),we(s,P),n({K:d,bt:!m,M:a?P:Be({},$,P)})}return{yt:g}}},{max:$o}=Math,Nt=$o.bind(0,0),Tu="visible",ti="hidden",bg=42,tn={u:mu,o:{w:0,h:0}},Eg={u:Bu,o:{x:ti,y:ti}},yg=(e,t)=>{const r=window.devicePixelRatio%1!==0?1:0,n={w:Nt(e.w-t.w),h:Nt(e.h-t.h)};return{w:n.w>r?n.w:0,h:n.h>r?n.h:0}},ri=(e,t,r)=>r?Le(e,t):Br(e,t),rn=e=>e.indexOf(Tu)===0,_g=(e,t)=>{const[r,n]=t,{W:o,K:a,J:s,tt:i,lt:u,dt:c,rt:h,st:p}=e,{k:l,B:d,A:v,I:D}=He(),B=nr()[_a],y=!u&&!v&&(D.x||D.y),_=h&&u,[F,w]=Qe(tn,An.bind(0,s)),[T,S]=Qe(tn,_n.bind(0,s)),[L,g]=Qe(tn),[m,E]=Qe(tn),[A]=Qe(Eg),$=(M,W)=>{if(we(s,{height:""}),W){const{bt:q,K}=r(),{St:Y,P:ne}=M,U=An(o),X=ln(o),Z=we(s,"boxSizing")==="content-box",ee=q||Z?K.b+K.t:0,oe=!(D.x&&Z);we(s,{height:X.h+U.h+(Y.x&&oe?ne.x:0)-ee})}},P=(M,W)=>{const q=!v&&!M?bg:0,K=(ue,ge,Ue)=>{const fe=we(s,ue),Ye=(W?W[ue]:fe)==="scroll";return[fe,Ye,Ye&&!v?ge?q:Ue:0,ge&&!!q]},[Y,ne,U,X]=K("overflowX",D.x,l.x),[Z,ee,oe,te]=K("overflowY",D.y,l.y);return{xt:{x:Y,y:Z},St:{x:ne,y:ee},P:{x:U,y:oe},D:{x:X,y:te}}},j=(M,W,q,K)=>{const Y=(ee,oe)=>{const te=rn(ee),ue=oe&&te&&ee.replace(`${Tu}-`,"")||"";return[oe&&!te?ee:"",rn(ue)?"hidden":ue]},[ne,U]=Y(q.x,W.x),[X,Z]=Y(q.y,W.y);return K.overflowX=U&&X?U:ne,K.overflowY=Z&&ne?Z:X,P(M,K)},N=(M,W,q,K)=>{const{P:Y,D:ne}=M,{x:U,y:X}=ne,{x:Z,y:ee}=Y,{M:oe}=r(),te=W?"marginLeft":"marginRight",ue=W?"paddingLeft":"paddingRight",ge=oe[te],Ue=oe.marginBottom,fe=oe[ue],Pe=oe.paddingBottom;K.width=`calc(100% + ${ee+-1*ge}px)`,K[te]=-ee+ge,K.marginBottom=-Z+Ue,q&&(K[ue]=fe+(X?ee:0),K.paddingBottom=Pe+(U?Z:0))},[R,z]=B?B.H(y,d,s,i,r,P,N):[()=>y,()=>[qe]];return(M,W,q)=>{const{ht:K,$t:Y,gt:ne,yt:U,_t:X,wt:Z}=M,{ft:ee,vt:oe}=r(),[te,ue]=W("showNativeOverlaidScrollbars"),[ge,Ue]=W("overflow"),fe=te&&D.x&&D.y,Pe=!u&&!d&&(K||ne||Y||ue||X),Ye=rn(ge.x),dt=rn(ge.y),Vt=Ye||dt;let ft=w(q),sr=S(q),pt=g(q),xt=E(q),Re;if(ue&&v&&c(wn,Kv,!fe),Pe&&(Re=P(fe),$(Re,ee)),K||U||ne||Z||ue){Vt&&c(Cr,Or,!1);const[vt,kt]=z(fe,oe,Re),[at,jn]=ft=F(q),[Pt,zn]=sr=T(q),Wn=ln(s);let Vn=Pt,Hn=Wn;vt(),(zn||jn||ue)&&kt&&!fe&&R(kt,Pt,at,oe)&&(Hn=ln(s),Vn=_n(s));const Gu={w:Nt($o(Pt.w,Vn.w)+at.w),h:Nt($o(Pt.h,Vn.h)+at.h)},xa={w:Nt((_?p.innerWidth:Hn.w+Nt(Wn.w-Pt.w))+at.w),h:Nt((_?p.innerHeight+at.h:Hn.h+Nt(Wn.h-Pt.h))+at.h)};xt=m(xa),pt=L(yg(Gu,xa),q)}const[Ht,Ut]=xt,[Ne,Xe]=pt,[ir,ot]=sr,[Ot,ur]=ft,be={x:Ne.w>0,y:Ne.h>0},St=Ye&&dt&&(be.x||be.y)||Ye&&be.x&&!be.y||dt&&be.y&&!be.x;if(U||Z||ur||ot||Ut||Xe||Ue||ue||Pe){const vt={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},kt=j(fe,be,ge,vt),at=R(kt,ir,Ot,oe);u||N(kt,oe,at,vt),Pe&&$(kt,ee),u?(je(o,xu,vt.overflowX),je(o,Ou,vt.overflowY)):we(s,vt)}hu(o,Ct,Or,St),ri(a,Cr,St),!u&&ri(s,Cr,Vt);const[qt,ht]=A(P(fe).xt);return n({xt:qt,Ct:{x:Ht.w,y:Ht.h},Ot:{x:Ne.w,y:Ne.h},Tt:be}),{Et:ht,zt:Ut,At:Xe}}},ni=(e,t,r)=>{const n={},o=t||{},a=Ve(e).concat(Ve(o));return se(a,s=>{const i=e[s],u=o[s];n[s]=!!(r||i||u)}),n},Ag=(e,t)=>{const{U:r,J:n,dt:o,lt:a}=e,{A:s,I:i,B:u}=He(),c=!s&&(i.x||i.y),h=[mg(e,t),Bg(e,t),_g(e,t)];return(p,l,d)=>{const v=ni(Be({ht:!1,yt:!1,wt:!1,_t:!1,zt:!1,At:!1,Et:!1,$t:!1,gt:!1},l),{},d),D=c||!u,B=D&&rt(n),y=D&&mt(n);o("",Fn,!0);let _=v;return se(h,F=>{_=ni(_,F(_,p,!!d)||{},d)}),rt(n,B),mt(n,y),o("",Fn),a||(rt(r,0),mt(r,0)),_}},Fg=(e,t,r)=>{let n,o=!1;const a=()=>{o=!0},s=i=>{if(r){const u=r.reduce((c,h)=>{if(h){const[p,l]=h,d=l&&p&&(i?i(p):vu(p,e));d&&d.length&&l&&or(l)&&de(c,[d,l.trim()],!0)}return c},[]);se(u,c=>se(c[0],h=>{const p=c[1],l=n.get(h)||[];if(e.contains(h)){const v=ye(h,p,D=>{o?(v(),n.delete(h)):t(D)});n.set(h,de(l,v))}else wt(l),n.delete(h)}))}};return r&&(n=new WeakMap,s()),[a,s]},oi=(e,t,r,n)=>{let o=!1;const{It:a,Lt:s,Ht:i,Mt:u,Pt:c,Dt:h}=n||{},p=bu(()=>{o&&r(!0)},{g:33,v:99}),[l,d]=Fg(e,p,i),v=a||[],D=s||[],B=v.concat(D),y=(F,w)=>{const T=c||qe,S=h||qe,L=new Set,g=new Set;let m=!1,E=!1;if(se(F,A=>{const{attributeName:$,target:P,type:j,oldValue:N,addedNodes:R,removedNodes:z}=A,M=j==="attributes",W=j==="childList",q=e===P,K=M&&or($)?je(P,$):0,Y=K!==0&&N!==K,ne=ha(D,$)>-1&&Y;if(t&&(W||!q)){const U=!M,X=M&&Y,Z=X&&u&&bn(P,u),oe=(Z?!T(P,$,N,K):U||X)&&!S(A,!!Z,e,n);se(R,te=>L.add(te)),se(z,te=>L.add(te)),E=E||oe}!t&&q&&Y&&!T(P,$,N,K)&&(g.add($),m=m||ne)}),L.size>0&&d(A=>tr(L).reduce(($,P)=>(de($,vu(A,P)),bn(P,A)?de($,P):$),[])),t)return!w&&E&&r(!1),[!1];if(g.size>0||m){const A=[tr(g),m];return!w&&r.apply(0,A),A}},_=new $v(F=>y(F));return _.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:B,subtree:t,childList:t,characterData:t}),o=!0,[()=>{o&&(l(),_.disconnect(),o=!1)},()=>{if(o){p.m();const F=_.takeRecords();return!va(F)&&y(F,!0)}}]},nn=3333333,on=e=>e&&(e.height||e.width),Mu=(e,t,r)=>{const{Rt:n=!1,kt:o=!1}=r||{},a=nr()[ug],{V:s}=He(),u=gu(`<div class="${Ea}"><div class="${Xv}"></div></div>`)[0],c=u.firstChild,h=yn.bind(0,e),[p]=Qe({o:void 0,_:!0,u:(D,B)=>!(!D||!on(D)&&on(B))}),l=D=>{const B=nt(D)&&D.length>0&&$r(D[0]),y=!B&&fu(D[0]);let _=!1,F=!1,w=!0;if(B){const[T,,S]=p(D.pop().contentRect),L=on(T),g=on(S);_=!S||!L,F=!g&&L,w=!_}else y?[,w]=D:F=D===!0;if(n&&w){const T=y?D[0]:yn(u);rt(u,T?s.n?-nn:s.i?0:nn:nn),mt(u,nn)}_||t({ht:!y,Vt:y?D:void 0,kt:!!F})},d=[];let v=o?l:!1;return[()=>{wt(d),ut(u)},()=>{if(gr){const D=new gr(l);D.observe(c),de(d,()=>{D.disconnect()})}else if(a){const[D,B]=a.O(c,l,o);v=D,de(d,B)}if(n){const[D]=Qe({o:!h()},h);de(d,ye(u,"scroll",B=>{const y=D(),[_,F]=y;F&&(Br(c,"ltr rtl"),_?Le(c,"rtl"):Le(c,"ltr"),l(y)),yu(B)}))}v&&(Le(u,Yv),de(d,ye(u,"animationstart",v,{C:!!gr}))),(gr||a)&&Ge(e,u)}]},wg=e=>e.h===0||e.isIntersecting||e.intersectionRatio>0,xg=(e,t)=>{let r;const n=Xt(Zv),o=[],[a]=Qe({o:!1}),s=(u,c)=>{if(u){const h=a(wg(u)),[,p]=h;if(p)return!c&&t(h),[h]}},i=(u,c)=>{if(u&&u.length>0)return s(u.pop(),c)};return[()=>{wt(o),ut(n)},()=>{if(zs)r=new zs(u=>i(u),{root:e}),r.observe(n),de(o,()=>{r.disconnect()});else{const u=()=>{const p=rr(n);s(p)},[c,h]=Mu(n,u);de(o,c),h(),u()}Ge(e,n)},()=>{if(r)return i(r.takeRecords(),!0)}]},ai=`[${Ct}]`,Og=`.${Ln}`,po=["tabindex"],si=["wrap","cols","rows"],ho=["id","class","style","open"],Sg=(e,t,r)=>{let n,o,a;const{W:s,J:i,Z:u,ct:c,lt:h,ut:p,dt:l}=e,{B:d}=He(),[v]=Qe({u:mu,o:{w:0,h:0}},()=>{const j=p(Cr,Or),N=p(lo,""),R=N&&rt(i),z=N&&mt(i);l(Cr,Or),l(lo,""),l("",Fn,!0);const M=_n(u),W=_n(i),q=An(i);return l(Cr,Or,j),l(lo,"",N),l("",Fn),rt(i,R),mt(i,z),{w:W.w+M.w+q.w,h:W.h+M.h+q.h}}),D=c?si:ho.concat(si),B=bu(r,{g:()=>n,v:()=>o,p(j,N){const[R]=j,[z]=N;return[Ve(R).concat(Ve(z)).reduce((M,W)=>(M[W]=R[W]||z[W],M),{})]}}),y=j=>{se(j||po,N=>{if(ha(po,N)>-1){const R=je(s,N);or(R)?je(i,N,R):Jt(i,N)}})},_=(j,N)=>{const[R,z]=j,M={_t:z};return t({ft:R}),!N&&r(M),M},F=({ht:j,Vt:N,kt:R})=>{const z=!j||R?r:B;let M=!1;if(N){const[W,q]=N;M=q,t({vt:W})}z({ht:j,wt:M})},w=(j,N)=>{const[,R]=v(),z={gt:R};return R&&!N&&(j?r:B)(z),z},T=(j,N,R)=>{const z={$t:N};return N?!R&&B(z):h||y(j),z},[S,L,g]=u||!d?xg(s,_):[qe,qe,qe],[m,E]=h?[qe,qe]:Mu(s,F,{kt:!0,Rt:!0}),[A,$]=oi(s,!1,T,{Lt:ho,It:ho.concat(po)}),P=h&&gr&&new gr(F.bind(0,{ht:!0}));return P&&P.observe(s),y(),[()=>{S(),m(),a&&a[0](),P&&P.disconnect(),A()},()=>{E(),L()},()=>{const j={},N=$(),R=g(),z=a&&a[1]();return N&&Be(j,T.apply(0,de(N,!0))),R&&Be(j,_.apply(0,de(R,!0))),z&&Be(j,w.apply(0,de(z,!0))),j},j=>{const[N]=j("update.ignoreMutation"),[R,z]=j("update.attributes"),[M,W]=j("update.elementEvents"),[q,K]=j("update.debounce"),Y=W||z,ne=U=>it(N)&&N(U);if(Y&&(a&&(a[1](),a[0]()),a=oi(u||i,!0,w,{It:D.concat(R||[]),Ht:M,Mt:ai,Dt:(U,X)=>{const{target:Z,attributeName:ee}=U;return(!X&&ee&&!h?Ov(Z,ai,Og):!1)||!!vr(Z,`.${Me}`)||!!ne(U)}})),K)if(B.m(),nt(q)){const U=q[0],X=q[1];n=It(U)&&U,o=It(X)&&X}else It(q)?(n=q,o=!1):(n=!1,o=!1)}]},ii={x:0,y:0},kg={K:{t:0,r:0,b:0,l:0},bt:!1,M:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},Ct:ii,Ot:ii,xt:{x:"hidden",y:"hidden"},Tt:{x:!1,y:!1},ft:!1,vt:!1},Pg=(e,t)=>{const r=No(t,{}),n=$u(kg),[o,a,s]=ba(),[i,u]=n,[c,h,p]=Cg(e),l=Ag(c,n),d=(F,w,T)=>{const L=Ve(F).some(g=>F[g])||!ga(w)||T;return L&&s("u",[F,w,T]),L},[v,D,B,y]=Sg(c,u,F=>d(l(r,F),{},!1)),_=i.bind(0);return _.Bt=F=>o("u",F),_.Yt=()=>{const{U:F,J:w}=c,T=rt(F),S=mt(F);D(),h(),rt(w,T),mt(w,S)},_.jt=c,[(F,w)=>{const T=No(t,F,w);return y(T),d(l(T,B(),w),F,!!w)},_,()=>{a(),v(),p()}]},{round:ui}=Math,Rg=e=>{const{width:t,height:r}=Mt(e),{w:n,h:o}=rr(e);return{x:ui(t)/n||1,y:ui(r)/o||1}},Ng=(e,t,r)=>{const n=t.scrollbars,{button:o,isPrimary:a,pointerType:s}=e,{pointers:i}=n;return o===0&&a&&n[r?"dragScroll":"clickScroll"]&&(i||[]).includes(s)},$g=(e,t)=>ye(e,"mousedown",ye.bind(0,t,"click",yu,{C:!0,$:!0}),{$:!0}),Tg=(e,t,r,n,o,a)=>{const{V:s}=He(),{qt:i,Nt:u,Ft:c}=r,h=`scroll${a?"Left":"Top"}`,p=`client${a?"X":"Y"}`,l=a?"width":"height",d=a?"left":"top",v=a?"w":"h",D=a?"x":"y",B=(y,_)=>F=>{const{Ot:w}=o(),T=rr(u)[v]-rr(i)[v],L=_*F/T*w[D],m=yn(c)&&a?s.n||s.i?1:-1:1;n[h]=y+L*m};return ye(u,"pointerdown",y=>{const _=vr(y.target,`.${ya}`)===i;if(Ng(y,e,_)){const F=!_&&y.shiftKey,w=()=>Mt(i),T=()=>Mt(u),S=(R,z)=>(R||w())[d]-(z||T())[d],L=B(n[h]||0,1/Rg(n)[D]),g=y[p],m=w(),E=T(),A=m[l],$=S(m,E)+A/2,P=g-E[d],j=_?0:P-$,N=[ye(t,"selectstart",R=>_u(R),{S:!1}),ye(u,"pointermove",R=>{const z=R[p]-g;(_||F)&&L(j+z)})];if(F)L(j);else if(!_){const R=nr()[lg];R&&de(N,R.O(L,S,j,A,P))}ye(u,"pointerup",R=>{wt(N),u.releasePointerCapture(R.pointerId)},{C:!0}),u.setPointerCapture(y.pointerId)}})},Mg=(e,t)=>(r,n,o,a,s,i)=>{const{Ft:u}=r,[c,h]=fr(333),p=!!s.scrollBy;let l=!0;return wt.bind(0,[ye(u,"pointerenter",()=>{n(Js,!0)}),ye(u,"pointerleave pointercancel",()=>{n(Js)}),ye(u,"wheel",d=>{const{deltaX:v,deltaY:D,deltaMode:B}=d;p&&l&&B===0&&Et(u)===a&&s.scrollBy({left:v,top:D,behavior:"smooth"}),l=!1,n(Zs,!0),c(()=>{l=!0,n(Zs)}),_u(d)},{S:!1,$:!0}),$g(u,o),Tg(e,o,r,s,t,i),h])},{min:To,max:li,abs:Ig,round:Lg}=Math,Iu=(e,t,r,n)=>{if(n){const i=r?"x":"y",{Ot:u,Ct:c}=n,h=c[i],p=u[i];return li(0,To(1,h/(h+p)))}const o=r?"w":"h",a=rr(e)[o],s=rr(t)[o];return li(0,To(1,a/s))},jg=(e,t,r,n,o,a)=>{const{V:s}=He(),i=a?"x":"y",u=a?"Left":"Top",{Ot:c}=n,h=Lg(c[i]),p=Ig(r[`scroll${u}`]),l=a&&o,d=s.i?p:h-p,D=To(1,(l?d:p)/h),B=Iu(e,t,a);return 1/B*(1-B)*D},zg=(e,t,r)=>{const{j:n}=He(),{scrollbars:o}=n(),{slot:a}=o,{et:s,U:i,W:u,J:c,it:h,nt:p}=t,{scrollbars:l}=h?{}:e,{slot:d}=l||{},v=Ru([i,u,c],()=>u,a,d),D=(P,j,N)=>{const R=N?Le:Br;se(P,z=>{R(z.Ft,j)})},B=(P,j)=>{se(P,N=>{const[R,z]=j(N);we(R,z)})},y=(P,j,N)=>{B(P,R=>{const{qt:z,Nt:M}=R;return[z,{[N?"width":"height"]:`${(100*Iu(z,M,N,j)).toFixed(3)}%`}]})},_=(P,j,N)=>{const R=N?"X":"Y";B(P,z=>{const{qt:M,Nt:W,Ft:q}=z,K=jg(M,W,p,j,yn(q),N);return[M,{transform:K===K?`translate${R}(${(100*K).toFixed(3)}%)`:""}]})},F=[],w=[],T=[],S=(P,j,N)=>{const R=fu(N),z=R?N:!0,M=R?!N:!0;z&&D(w,P,j),M&&D(T,P,j)},L=P=>{y(w,P,!0),y(T,P)},g=P=>{_(w,P,!0),_(T,P)},m=P=>{const j=P?eg:tg,N=P?w:T,R=va(N)?Gs:"",z=Xt(`${Me} ${j} ${R}`),M=Xt(Su),W=Xt(ya),q={Ft:z,Nt:M,qt:W};return Ge(z,M),Ge(M,W),de(N,q),de(F,[ut.bind(0,z),r(q,S,s,u,p,P)]),q},E=m.bind(0,!0),A=m.bind(0,!1),$=()=>{Ge(v,w[0].Ft),Ge(v,T[0].Ft),En(()=>{S(Gs)},300)};return E(),A(),[{Gt:L,Xt:g,Ut:S,Wt:{Jt:w,Kt:E,Zt:B.bind(0,w)},Qt:{Jt:T,Kt:A,Zt:B.bind(0,T)}},$,wt.bind(0,F)]},Wg=(e,t,r)=>{let n,o,a,s,i,u=0;const c=$u({}),[h]=c,[p,l]=fr(),[d,v]=fr(),[D,B]=fr(100),[y,_]=fr(100),[F,w]=fr(()=>u),[T,S,L]=zg(e,r.jt,Mg(t,r)),{W:g,J:m,nt:E,ot:A,lt:$,rt:P}=r.jt,{Wt:j,Qt:N,Ut:R,Gt:z,Xt:M}=T,{Zt:W}=j,{Zt:q}=N,K=Z=>{const{Ft:ee}=Z,oe=$&&!P&&Et(ee)===m&&ee;return[oe,{transform:oe?`translate(${rt(E)}px, ${mt(E)}px)`:""}]},Y=(Z,ee)=>{if(w(),Z)R(Xs);else{const oe=()=>R(Xs,!0);u>0&&!ee?F(oe):oe()}},ne=()=>{s=o,s&&Y(!0)},U=[B,w,_,v,l,L,ye(g,"pointerover",ne,{C:!0}),ye(g,"pointerenter",ne),ye(g,"pointerleave",()=>{s=!1,o&&Y(!1)}),ye(g,"pointermove",()=>{n&&p(()=>{B(),Y(!0),y(()=>{n&&Y(!1)})})}),ye(A,"scroll",()=>{d(()=>{M(r()),a&&Y(!0),D(()=>{a&&!s&&Y(!1)})}),$&&W(K),$&&q(K)})],X=h.bind(0);return X.jt=T,X.Yt=S,[(Z,ee,oe)=>{const{zt:te,At:ue,Et:ge,wt:Ue}=oe,fe=No(t,Z,ee),Pe=r(),{Ot:Ye,xt:dt,vt:Vt}=Pe,[ft,sr]=fe("scrollbars.theme"),[pt,xt]=fe("scrollbars.visibility"),[Re,Ht]=fe("scrollbars.autoHide"),[Ut]=fe("scrollbars.autoHideDelay"),[Ne,Xe]=fe("scrollbars.dragScroll"),[ir,ot]=fe("scrollbars.clickScroll"),Ot=te||ue||Ue||ee,ur=ge||xt||ee,be=(St,qt)=>{const ht=pt==="visible"||pt==="auto"&&St==="scroll";return R(rg,ht,qt),ht};if(u=Ut,sr&&(R(i),R(ft,!0),i=ft),Ht&&(n=Re==="move",o=Re==="leave",a=Re!=="never",Y(!a,!0)),Xe&&R(ag,Ne),ot&&R(og,ir),ur){const St=be(dt.x,!0),qt=be(dt.y,!1);R(ng,!(St&&qt))}Ot&&(z(Pe),M(Pe),R(Ys,!Ye.x,!0),R(Ys,!Ye.y,!1),R(Qv,Vt&&!P))},X,wt.bind(0,U)]},Lu=(e,t,r)=>{it(e)&&e(t||void 0,r||void 0)},Tr=(e,t,r)=>{const{N:n,j:o,Y:a}=He(),s=nr(),i=pa(e),u=i?e:e.target,c=Nu(u);if(t&&!c){let h=!1;const p=E=>{const A=nr()[ig],$=A&&A.O;return $?$(E,!0):E},l=Be({},n(),p(t)),[d,v,D]=ba(r),[B,y,_]=Pg(e,l),[F,w,T]=Wg(e,l,y),S=(E,A)=>B(E,!!A),L=a(S.bind(0,{},!0)),g=E=>{Dg(u),L(),T(),_(),h=!0,D("destroyed",[m,!!E]),v()},m={options(E){if(E){const A=Au(l,p(E));ga(A)||(Be(l,A),S(A))}return Be({},l)},on:d,off:(E,A)=>{E&&A&&v(E,A)},state(){const{Ct:E,Ot:A,xt:$,Tt:P,K:j,bt:N,vt:R}=y();return Be({},{overflowEdge:E,overflowAmount:A,overflowStyle:$,hasOverflow:P,padding:j,paddingAbsolute:N,directionRTL:R,destroyed:h})},elements(){const{U:E,W:A,K:$,J:P,Z:j,nt:N,ot:R}=y.jt,{Wt:z,Qt:M}=w.jt,W=K=>{const{qt:Y,Nt:ne,Ft:U}=K;return{scrollbar:U,track:ne,handle:Y}},q=K=>{const{Jt:Y,Kt:ne}=K,U=W(Y[0]);return Be({},U,{clone:()=>{const X=W(ne());return F({},!0,{}),X}})};return Be({},{target:E,host:A,padding:$||P,viewport:P,content:j||P,scrollOffsetElement:N,scrollEventElement:R,scrollbarHorizontal:q(z),scrollbarVertical:q(M)})},update:E=>S({},E),destroy:g.bind(0)};return y.Bt((E,A,$)=>{F(A,$,E)}),gg(u,m),se(Ve(s),E=>Lu(s[E],0,m)),vg(y.jt.rt,o().cancel,!i&&e.cancel)?(g(!0),m):(y.Yt(),w.Yt(),D("initialized",[m]),y.Bt((E,A,$)=>{const{ht:P,wt:j,_t:N,zt:R,At:z,Et:M,gt:W,$t:q}=E;D("updated",[m,{updateHints:{sizeChanged:P,directionChanged:j,heightIntrinsicChanged:N,overflowEdgeChanged:R,overflowAmountChanged:z,overflowStyleChanged:M,contentMutation:W,hostMutation:q},changedOptions:A,force:$}])}),m.update(!0),m)}return c};Tr.plugin=e=>{se(sg(e),t=>Lu(t,Tr))};Tr.valid=e=>{const t=e&&e.elements,r=it(t)&&t();return So(r)&&!!Nu(r.target)};Tr.env=()=>{const{k:e,I:t,A:r,V:n,B:o,L:a,G:s,X:i,j:u,q:c,N:h,F:p}=He();return Be({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:r,rtlScrollBehavior:n,flexboxGlue:o,cssCustomProperties:a,staticDefaultInitialization:s,staticDefaultOptions:i,getDefaultInitialization:u,setDefaultInitialization:c,getDefaultOptions:h,setDefaultOptions:p})};class ju extends H.Component{constructor(r){super(r);re(this,"divref");re(this,"os");this.divref=H.createRef(),this.os=void 0}componentDidMount(){for(;!(this.divref&&this.divref.current););this.os=Tr(this.divref.current,{scrollbars:{autoHide:"leave",autoHideDelay:700}})}render(){let{children:r,...n}=this.props;return C(_e,{...n,"data-overlayscrollbars":"",ref:this.divref,children:r})}}class Vg extends H.Component{constructor(t){super(t),this.state={val:t.parameter_item.val}}get_item(){let{val:t,type:r,...n}=this.props.parameter_item;return{val:this.state.val,type:this.props.parameter_item.type,...n}}componentDidUpdte(t){JSON.stringify(t.parameter_item.val)!=JSON.stringify(this.props.parameter_item.val)&&this.setState({val:this.props.parameter_item.val})}render(){let t=this,r=this.props.name,n=this.props.parameter_item.type,o=this.state.val,a={value:o,label:r,variant:"standard",sx:{marginLeft:"5%"}},s={marginLeft:"5%"};if(this.props.parameter_item.choices){let i=this.props.parameter_item.choices;return pe(Bl,{sx:{...s,width:"100%"},children:[C(bl,{children:r},"form"),C(Gc,{value:o,onChange:u=>{t.setState({val:u.target.value})},children:i.map((u,c)=>C(Ta,{sx:{marginLeft:"5%"},value:u,label:u,control:C(Uc,{})},c))},"ratio")]})}return n=="string"?C(Ra,{onChange:i=>{t.setState({val:i.target.value})},...a,sx:s}):n=="number"?C(Ra,{onChange:i=>{t.setState({val:Number(i.target.value)})},type:"number",...a,sx:s}):n=="boolean"?C(Ta,{label:r,control:C(Ai,{checked:o,onChange:i=>{t.setState({val:i.target.checked})}}),sx:s}):C(jt,{})}}class Hg extends H.Component{constructor(r){super(r);re(this,"item_refs");this.item_refs=Object.keys(this.props.parameters).reduce((n,o)=>(n[o]=H.createRef(),n),{})}get_parameters(){let r=this,n={};for(let o in this.props.parameters)r.item_refs[o]&&r.item_refs[o].current?n[o]=r.item_refs[o].current.get_item():n[o]=this.props.parameters[o];return n}render(){let r=this;return C(El,{children:Object.keys(r.props.parameters).map((n,o)=>C(bc,{children:C(Vg,{ref:this.item_refs[n],name:n,parameter_item:r.props.parameters[n]})},o))})}}class zu extends H.Component{constructor(r){super(r);re(this,"container_ref");this.container_ref=H.createRef()}get_parameters(){let r=this.get_container();return r?r.get_parameters():this.props.node.parameters}get_container(){if(this.container_ref&&this.container_ref.current)return this.container_ref.current}render(){let r=this;return C(Hg,{ref:r.container_ref,parameters:r.props.node.parameters})}}function Ug(e){let t=e.onClose||(a=>{}),r=H.useRef(null),[n,o]=H.useState(void 0);return C(Te.Consumer,{children:a=>{let s=a.editor;return pe(zo,{anchor:"left",open:e.open,onClose:t,ModalProps:{keepMounted:!0},SlideProps:{onEnter:()=>{o({...s.get_slate().selection})},onExited:()=>{if(r&&r.current){let i=r.current.get_parameters();s.auto_set_parameter(e.node,i)}I.focus(s.get_slate()),n&&n.anchor&&n.anchor.path&&k.select(s.get_slate(),n)}},PaperProps:{sx:{width:"40%"}},children:[C(_e,{children:pe(cu,{children:["idx: ",e.node.idx]})}),C(Lo,{}),C(zu,{node:e.node,ref:r}),C(jo,{onClick:t,children:"Close"})]})}})}function ar(e){let t=e.icon,r=e.component||"button",n=e.icon_props||{};return C(jr,{title:e.title,children:x.exports.createElement(Ir,{onClick:e.onClick,size:e.size,component:r,...n,key:"button"},C(t,{}))})}class y0 extends H.PureComponent{constructor(t){super(t),this.state={open:!1}}run(){this.setState({open:!0})}render(){let t=this.props,r=t.onExit||(o=>{}),n=this;return pe(_e,{sx:{marginX:"auto"},children:[C(ar,{onClick:n.run.bind(n),title:"\u8BBE\u7F6E\u53C2\u6570",icon:Fi}),C(Ug,{node:t.node,open:n.state.open,onClose:o=>{r(o),n.setState({open:!1})}})]})}}class qg extends H.PureComponent{constructor(t){super(t)}run(){this.context.editor.delete_concept_node(this.props.node)}render(){return C(ar,{onClick:this.run.bind(this),title:"\u5220\u9664\u7EC4\u4EF6",icon:hd})}}re(qg,"contextType",Te);class Kg extends H.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor;if(this.props.puretext){let n=V.string(this.props.node),o=Dt(r.get_root(),this.props.node);r.delete_node_by_path(o),r.add_nodes(r.get_core().create_paragraph(n),o)}else r.unwrap_node(this.props.node)}render(){return C(ar,{onClick:this.run.bind(this),title:"\u89E3\u9664\u7EC4\u4EF6",icon:Cd})}}re(Kg,"contextType",Te);class Gg extends H.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor;r.add_nodes_before(r.get_core().create_paragraph(),this.props.node)}render(){return C(ar,{onClick:this.run.bind(this),title:"\u5411\u4E0A\u6DFB\u52A0\u6BB5\u843D",icon:md})}}re(Gg,"contextType",Te);class Jg extends H.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor;r.add_nodes_after(r.get_core().create_paragraph(),this.props.node)}render(){return C(ar,{onClick:this.run.bind(this),title:"\u5411\u4E0B\u6DFB\u52A0\u6BB5\u843D",icon:Ed})}}re(Jg,"contextType",Te);class Yg extends H.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor,n=this.props.node,o;n.type=="group"?(o=r.get_core().create_group(n.concept,"chaining"),o.parameters=JSON.parse(JSON.stringify(n.parameters))):n.type=="structure"?(o=r.get_core().create_structure(n.concept,"chaining"),o.parameters=JSON.parse(JSON.stringify(n.parameters))):n.type=="support"&&(o=r.get_core().create_support(n.concept),o.parameters=JSON.parse(JSON.stringify(n.parameters))),o&&r.add_nodes_after(o,this.props.node)}render(){return C(ar,{onClick:this.run.bind(this),title:"\u590D\u5236\u6B64\u8282\u70B9",icon:Bd})}}re(Yg,"contextType",Te);class Xg extends H.PureComponent{constructor(r){super(r);re(this,"switchref");this.state={checked:r.node.relation=="chaining"},this.switchref=H.createRef()}get_switch(){if(this.switchref&&this.switchref.current)return this.switchref.current}switch_check_change(r){let o=this.context.editor,a=this.props.node,s=this.get_switch().checked;this.setState({checked:s}),s?o.set_node(a,{relation:"chaining"}):o.set_node(a,{relation:"separating"})}update(){let r=this.props.node;r.relation=="chaining"!=this.state.checked&&this.setState({checked:r.relation=="chaining"})}componentDidMount(){this.update()}componentDidUpdate(){this.update()}run(){this.get_switch().click()}render(){return C(jr,{title:"\u8D34\u8D34",children:C(Ai,{checked:this.state.checked,onChange:this.switch_check_change.bind(this),inputRef:this.switchref},"switch")})}}re(Xg,"contextType",Te);class Fa extends H.PureComponent{constructor(r){super(r);re(this,"menu_anchor_ref");this.state={menu_open:!1},this.menu_anchor_ref=H.createRef()}set_menu_open(r){this.setState({menu_open:r}),r||(this.props.onExit||(()=>{}))()}get_anchor(){if(this.menu_anchor_ref&&this.menu_anchor_ref.current)return this.menu_anchor_ref.current}run(r=void 0){this.set_menu_open(!this.state.menu_open)}render(){let r=this.props,n=r.children||C(jt,{}),o=r.outer_button;this.context.editor;let s=pe(H.Fragment,{children:[C(jr,{title:r.label,children:C(o,{onClick:this.run.bind(this),ref:this.menu_anchor_ref,...r.outer_props},"b")}),C(wd,{anchorEl:this.get_anchor(),open:this.state.menu_open,...r.poper_props,children:n},"autostackpoper")]});return r.close_on_otherclick?C(Pl,{onClickAway:()=>{this.set_menu_open(!1)},children:C(_e,{children:s})}):s}}re(Fa,"contextType",Te);var Wu=H.createContext([void 0,void 0]);function vo(e){return e=="ArrowLeft"||e=="ArrowRight"||e=="ArrowDown"||e=="ArrowUp"}function go(e){return e=="Enter"}let wa=H.createContext([()=>{},()=>{}]);class Zg extends H.Component{constructor(r){super(r);re(this,"spaces");re(this,"non_space_oprations");re(this,"ctrl_key");re(this,"elements");this.state={cur_positions:{}},this.update_props(),this.ctrl_key={},this.elements={}}ctrl_down(){return this.ctrl_key.Control}get_cur_activating(){for(let r in this.state.cur_positions)if(this.ctrl_key[r])return r}get_cur_position(r){return this.state.cur_positions[r]}set_cur_position(r,n){this.setState({cur_positions:{...this.state.cur_positions,[r]:n}})}get_position_list(r){let n=this.elements[r];return n==null?[]:Object.keys(n)}get_position_operation(r,n,o){let a=this.elements[r];if(a==null)return;let s=a[n];if(s!=null)return s[o]}activate_position(r,n){let o=this.get_position_operation(r,n,"activate");o!=null&&o()}unactivate_position(r,n,o){let a=this.get_position_operation(r,n,"unactivate");a!=null&&a(o)}run_position(r,n,o){let a=this.get_position_operation(n,o,"run");a!=null&&a(r)}activate_position_and_unactivate_old(r,n){this.setState(an(this.state,o=>{o.cur_positions[r]=n}))}regester_space(r,n,o,a,s){if(this.elements[r]==null){this.elements[r]={[n]:{activate:o,unactivate:a,run:s}};return}this.elements[r][n]={activate:o,unactivate:a,run:s}}unregister_space(r,n){if(this.elements[r]==null)throw new Oe("can not unregister a position that is not registered.");delete this.elements[r][n]}update_props(){if(this.spaces==null||JSON.stringify(Object.keys(this.props.spaces))!=JSON.stringify(Object.keys(this.spaces))){this.spaces={};for(let r of this.props.spaces)this.spaces[r.key]=r}if(this.non_space_oprations==null||JSON.stringify(Object.keys(this.props.non_space_oprations))!=JSON.stringify(Object.keys(this.non_space_oprations))){this.non_space_oprations={};for(let r of this.props.non_space_oprations)this.non_space_oprations[r.key]=r}}componentDidMount(){this.update_props()}componentDidUpdate(r,n){this.update_props();for(let o in this.state.cur_positions){let a=this.state.cur_positions[o],s=n.cur_positions[o];a!=s&&(s!=null&&this.unactivate_position(o,s,a),this.activate_position(o,a))}}flush_key_state(r,n){let o=this;if(n.ctrlKey){if(n.key)if(r){if(o.ctrl_key[n.key])return!1;o.ctrl_key[n.key]=!0}else delete o.ctrl_key[n.key]}else o.ctrl_key={};return!0}do_nothing(r){if(!this.ctrl_down())return!1;let n=r.key;return this.non_space_oprations[n]||this.spaces[n]||this.get_cur_activating()&&(vo(n)||go(n))?(r.preventDefault(),!0):!1}keyup_proxy(r){let n=this;if(this.flush_key_state(!1,r),!this.ctrl_down())return!1;let o=r.key;if(this.non_space_oprations[o]||this.spaces[o])return r.preventDefault(),!0;let a=this.get_cur_activating();if(a){if(vo(o)){let s=o,i=this.get_position_list(a),u=this.get_cur_position(a),c=this.spaces[a].switch_position(i,u,s,n.ctrl_key);return this.setState(an(this.state,h=>{h.cur_positions[a]=c})),r.preventDefault(),!0}if(go(o)){let s=this.get_cur_position(a);return this.run_position(r,a,s),r.preventDefault(),!0}}return!1}keydown_proxy(r){if(!this.flush_key_state(!0,r))return this.do_nothing(r);if(!this.ctrl_down())return!1;let n=r.key;if(this.non_space_oprations[n])return this.non_space_oprations[n].on_activate(),r.preventDefault(),!0;if(this.spaces[n]){let a=n,s=this.get_position_list(a),i=this.get_cur_position(a),u=this.spaces[a].activate_position(s,i);return this.setState(an(this.state,c=>{c.cur_positions[a]=u})),r.preventDefault(),!0}return this.get_cur_activating()&&(vo(n)||go(n))?(r.preventDefault(),!0):!1}render(){let r=this;return C(Wu.Provider,{value:[r.keydown_proxy.bind(r),r.keyup_proxy.bind(r)],children:C(wa.Provider,{value:[r.regester_space.bind(r),r.unregister_space.bind(r)],children:r.props.children})})}}function cn(e){let{space:t,position:r,run:n,children:o,extra_activate:a,extra_unactivate:s}=e,[i,u]=H.useState(!1),[c,h]=H.useContext(wa),p=H.useRef(void 0);return H.useEffect(()=>(c(t,r,()=>{u(!0),a&&a(),p.current.scrollIntoView({block:"center",inline:"center"})},l=>{u(!1),s&&s(l)},n),()=>{h(t,r)}),[]),C("div",{ref:p,children:C(_e,{sx:{border:i?"2px solid":"none"},children:o})})}const xn="e";function Qg(e){return{key:xn,activate_position:Uu(e),switch_position:e0(e)}}function Vu(e,t){let r=e.idx;return JSON.stringify([r,t])}function Mo(e,t){return t.reduce((n,o)=>{let[a,s]=JSON.parse(o);return a==e.idx?[...n,s]:n},[])}function Hu(e,t,r,n){let o=t;if(n&&(o=Ls(e.get_slate(),o),o==null))return[void 0,[]];let a=Mo(o,r);for(;!(f.isEditor(o)||a.length!=0)&&(o=Ls(e.get_slate(),o),o!=null);)a=Mo(o,r);return f.isEditor(o)||a.length==0?[void 0,a]:[o,a]}function e0(e){return(t,r,n,o)=>{if(r==null)return Uu(e)(t,r);let a=!1;for(let p of["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"])o[p]&&p!=n&&(a=!0);let[s,i]=JSON.parse(r);for(;a;){let p=lv(e.get_slate(),s);if(!p)break;let[l,d]=Hu(e,p,t,!0);if(l==null||d.length==0)break;return d.sort((v,D)=>v-D),JSON.stringify([l.idx,d[0]])}let u=t.reduce((p,l)=>{let[d,v]=JSON.parse(l);return d==s?[...p,v]:p},[]);u.sort((p,l)=>p-l);let c=u.indexOf(i);(n=="ArrowLeft"||n=="ArrowUp")&&c--,(n=="ArrowRight"||n=="ArrowDown")&&c++,c=(c%u.length+u.length)%u.length;let h=u[c];return JSON.stringify([s,h])}}function ci(e,t,r){let n=e.get_slate().selection;if(!n)return;let o=n.anchor.path,a=o[o.length-2]||0;o=o.slice(0,o.length-2);let i=f.node(e.get_slate(),o)[0].children;if(!i)return r;let u,c=[];for(let h in i){let p=parseInt(h);if(p>=a)break;let l=i[p];if(!le(l))continue;let d=Mo(l,t);d.length>0&&(u=l,c=d)}return u?(c.sort((h,p)=>h-p),JSON.stringify([u.idx,c[0]])):r}function Uu(e){return(t,r)=>{let n=e.get_slate().selection;if(!n)return;let o=n.anchor.path;for(;o.length>0&&!le(f.node(e.get_slate(),o)[0]);)o=o.slice(0,o.length-1);let a=f.node(e.get_slate(),o)[0];if(o.length==0||!le(a))return ci(e,t,r);let[s,i]=Hu(e,a,t,!1);if(s==null)return ci(e,t,r);let u=s.idx;if(r!=null){let[c,h]=JSON.parse(r);if(c==u)return r}return i.sort((c,h)=>c-h),JSON.stringify([u,i[0]])}}class t0 extends H.Component{constructor(r){super(r);re(this,"childref");this.childref=H.createRef()}run(r){this.childref&&this.childref.current&&this.childref.current.run(r),this.props.extra_run&&this.props.extra_run(r)}render(){let r=this.props.component,n=this.props.other_props||{};return C(cn,{space:xn,run:this.run.bind(this),position:Vu(this.props.node,this.props.idx),extra_activate:this.props.extra_activate,extra_unactivate:this.props.extra_unactivate,children:C(r,{node:this.props.node,...n,ref:this.childref})})}}class r0 extends H.Component{constructor(t){super(t)}render(){let t=this.props.buttons,r=this.props.node,n=this.props.idxs||[];for(n.length==0&&(n=[0]);n.length<t.length;)n=[...n,Math.max(...n)+1];let o=Object.keys(t).map(a=>{let s={},i=t[a],u=!1;if(t[a].component){let{other_props:c,component:h,skip_mouseless:p}=t[a];s=c||{},i=h,u=p||!1}return u?C(i,{node:r,...s},a):C(t0,{node:r,idx:n[a],other_props:s,component:i,extra_run:this.props.extra_run,extra_activate:this.props.extra_activate,extra_unactivate:this.props.extra_unactivate},a)});return this.props.autostack?C(Uo,{children:o}):o}}class n0 extends H.Component{constructor(r){super(r);re(this,"button_ref");this.state={menu_open:!1,active:!1},this.button_ref=H.createRef()}get_button(){if(this.button_ref&&this.button_ref.current)return this.button_ref.current}set_active(r){this.setState({active:r})}get_idxs(){let r=this.props.idxs||[];for(r.length==0&&(r=[1]);r.length<this.props.buttons.length+1;)r=[...r,Math.max(...r)+1];return r}get_position(){return Vu(this.props.node,this.get_idxs()[0])}extra_unactive(r){if(r!=null){let[n,o]=JSON.parse(r);n!=this.props.node.idx&&this.get_button().set_menu_open(!1),this.get_idxs().indexOf(o)<0&&this.get_button().set_menu_open(!1)}r==null&&this.get_button().set_menu_open(!1)}componentDidMount(){let r=this,[n,o]=this.context;n(xn,r.get_position(),()=>{r.get_button().set_menu_open(!0),r.set_active(!0)},a=>{r.extra_unactive(a),r.set_active(!1)},()=>{r.get_button().run()})}componentWillUnmount(){let[r,n]=this.context;n(xn,this.get_position())}render(){let r=this.props,n=r.children||C(jt,{}),o=this.get_idxs().slice(1);return C(_e,{sx:{border:this.state.active?"2px solid":"none"},children:pe(Fa,{outer_button:this.props.outer_button,outer_props:this.props.outer_props,poper_props:this.props.poper_props,label:this.props.label,close_on_otherclick:this.props.close_on_otherclick,onExit:this.props.onExit,ref:this.button_ref,children:[n,C(_e,{sx:{marginX:"auto"},children:C(r0,{node:r.node,buttons:r.buttons,idxs:o,extra_unactivate:this.extra_unactive.bind(this)})})]})})}}re(n0,"contextType",wa);function o0(e){let t=e.onClose||(s=>{}),r=H.useRef(null),[n,o]=H.useState(void 0),a=e.editor;return C(Lr,{value:{editor:e.editor},children:pe(zo,{anchor:"left",open:e.open,onClose:t,ModalProps:{keepMounted:!0},SlideProps:{onEnter:()=>{o({...a.get_slate().selection})},onExited:()=>{if(r&&r.current){let s=r.current.get_parameters();a.set_root({parameters:{...a.get_root().parameters,...s}})}I.focus(a.get_slate()),n&&n.anchor&&n.anchor.path&&k.select(a.get_slate(),n)}},PaperProps:{sx:{width:"40%"}},children:[C(_e,{children:pe(cu,{children:["idx: ",e.root.idx," [root]"]})}),C(Lo,{}),C(zu,{node:e.root,ref:r}),C(jo,{onClick:t,children:"Close"})]})})}class a0 extends H.PureComponent{constructor(t){super(t),this.state={open:!1}}run(){this.setState({open:!0})}render(){let t=this.props,r=t.onExit||(o=>{}),n=this;return pe(_e,{sx:{marginX:"auto"},children:[C(ar,{onClick:n.run.bind(n),title:"\u8BBE\u7F6E\u53C2\u6570",icon:Fi}),C(o0,{root:t.root,editor:t.editor,open:n.state.open,onClose:o=>{r(o),n.setState({open:!1})}})]})}}const dn="q",qu=["group","inline","support","structure"];function s0(e){return{key:dn,activate_position:Ku(),switch_position:l0(e)}}function di(e,t){let r=qu.indexOf(e);return JSON.stringify([r,t])}function i0(e){return JSON.stringify([e+qu.length,0])}function u0(e,t,r){return()=>{let n=e.get_core().get_sec_concept_list(t)[r];e.new_concept_node(t,n)}}function Ku(){return(e,t)=>{if(t!=null)return t;if(e.length==0)return;let r=e.reduce((n,o)=>[...n,JSON.parse(o)],[]);return r.sort((n,o)=>n[0]==o[0]?n[1]-o[1]:n[0]-o[0]),JSON.stringify(r[0])}}function l0(e){return e==null?()=>{}:(t,r,n)=>{if(r==null)return Ku()(t,r);let[o,a]=JSON.parse(r),s=t.reduce((h,p)=>[...h,JSON.parse(p)[0]],[]);s=Array.from(new Set(s)),s.sort((h,p)=>parseInt(h)-parseInt(p));let i=s.indexOf(o);n=="ArrowUp"?i--:n=="ArrowDown"&&i++,i=(i%s.length+s.length)%s.length,o=s[i];let u=t.reduce((h,p)=>{let[l,d]=JSON.parse(p);return l==o?[...h,d]:h},[]);u.sort((h,p)=>parseInt(h)-parseInt(p));let c=u.indexOf(a);return c<0&&(c=u.length-1),n=="ArrowLeft"?c--:n=="ArrowRight"&&c++,c=(c%u.length+u.length)%u.length,a=u[c],JSON.stringify([o,a])}}class c0 extends H.Component{constructor(t){super(t)}render(){return C(ju,{sx:{maxWidth:"30rem"},overflow:"auto",children:this.props.children})}}function d0(e){let t=e.editor,r=e.extra?e.extra(t):[],n={group:pd,inline:vd,support:gd,structure:bd},o={group:H.useRef(),inline:H.useRef(),support:H.useRef(),structure:H.useRef()};return pe(H.Fragment,{children:[["group","inline","support","structure"].map(a=>{let s=n[a],i=t.get_core().get_sec_concept_list(a);return C(_e,{sx:{marginX:"auto"},children:C(cn,{space:dn,position:di(a,0),run:()=>{o[a].current&&o[a].current.run()},children:C(Fa,{poper_props:{stacker:Fd,component:c0,sx:{opacity:"80%"}},outer_button:Ir,outer_props:{children:C(s,{})},label:a,ref:o[a],children:i.map((u,c)=>C(_e,{flexShrink:0,children:C(cn,{space:dn,position:di(a,c+1),run:u0(t,a,c),children:C(jo,{onClick:h=>t.new_concept_node(a,u),variant:"text",sx:{marginX:"0.1rem"},children:u})})},c))})})},a)}),Object.keys(r).map(a=>{let s=parseInt(a),i=r[s].button,u=r[s].run;return C(_e,{sx:{marginX:"auto"},children:C(cn,{space:dn,position:i0(s),run:()=>{u&&u()},children:i})},s)})]})}class f0 extends H.Component{constructor(r){super(r);re(this,"onUpdate");re(this,"onFocusChange");re(this,"onSave");re(this,"editor_ref");this.onUpdate=r.onUpdate||(n=>{}),this.onFocusChange=r.onFocusChange||(()=>{}),this.onSave=r.onSave||(()=>{}),this.editor_ref=H.createRef()}get_editor(){if(this.editor_ref&&this.editor_ref.current)return this.editor_ref.current}get_root(){var r;return(r=this.get_editor())==null?void 0:r.get_root()}componentDidMount(){for(;!this.get_editor(););this.forceUpdate()}render(){let r={xs:"87%",md:"90%",xl:"93%"},n={xs:"89%",md:"92%",xl:"95%"},o={xs:"10%",md:"7%",xl:"5%"},a=Sr(Ho,this.props.theme),s=this;return C(Lr,{value:{theme:a},children:C(wi,{value:a,children:C(_v,{children:pe(Zg,{spaces:[s0(s.get_editor()),Qg(s.get_editor())],non_space_oprations:[{key:"s",on_activate:()=>{s.onSave()}}],children:[C(ju,{sx:{position:"absolute",top:"1%",height:"98%",paddingRight:"1%",width:r,overflow:"auto"},children:C(yv,{children:C(Wu.Consumer,{children:([i,u])=>C(Ev,{ref:s.editor_ref,editorcore:s.props.editorcore,plugin:s.props.plugin,init_rootchildren:s.props.init_rootchildren,init_rootproperty:s.props.init_rootproperty,onUpdate:s.props.onUpdate,onKeyPress:s.props.onKeyPress,onFocusChange:s.props.onFocusChange,onKeyDown:i,onKeyUp:u})})})},"area-1"),C(_e,{sx:{position:"absolute",top:"1%",height:"99%",left:n,width:o},children:(()=>{let i=s.get_editor(),u=s.get_root();return i&&u?pe(Uo,{force_direction:"column",children:[C(a0,{root:u,editor:i}),s.props.extra_buttons,C(Lo,{}),C(d0,{editor:s.get_editor(),extra:s.props.sidebar_extra})]}):C(jt,{})})()},"area-2")]})})})})}}function p0(e){let t=H.useContext(Te),r=e.node,n=t.editor,o=n.get_editorcore().get_sec_concept_list("abstract"),a=e.onClose||(i=>{});function s(i){return u=>{if(a(u),i==null||o[i]==null)return;let c=[...r.abstract,n.get_editorcore().create_abstract(o[i])];n.set_node(r,{abstract:c})}}return pe(Ci,{anchorEl:e.anchor_element,open:e.open,onClose:a,children:[o.map((i,u)=>C(pn,{onClick:s(u),children:i},i)),C(pn,{onClick:i=>a(i),children:"\u7B97\u4E86"})]})}class h0 extends H.Component{constructor(r){super(r);re(this,"subeditor_ref");this.state={drawer_open:!1,enter_selection:void 0},this.subeditor_ref=H.createRef()}get_editor(){if(!!(this.subeditor_ref&&this.subeditor_ref.current&&this.subeditor_ref.current.get_editor()))return this.subeditor_ref.current.get_editor()}render(){let r=this,n=this.props.father.abstract[this.props.sonidx];if(!n)return;let[o,a]=(()=>{let{children:s,...i}=n;return[s,i]})();return C(Te.Consumer,{children:s=>{let i=s.editor,u=s.theme;return C(zo,{anchor:"left",open:r.props.open,onClose:r.props.onClose,ModalProps:{keepMounted:!0},PaperProps:{sx:{width:"60%"}},SlideProps:{onEnter:()=>{let c=r.get_editor();!c||(r.setState({enter_selection:{...i.get_slate().selection}}),setTimeout(()=>{I.focus(c.get_slate())},1e3))},onExited:()=>{let c=r.get_editor();if(!c)return;let h=c.get_root(),p=r.props.father,l=p.abstract,d=an(l,D=>{D[r.props.sonidx].children=h.children});i.set_node(p,{abstract:d}),I.focus(i.get_slate());let v=r.state.enter_selection;v&&v.anchor&&v.anchor.path&&k.select(i.get_slate(),v)}},children:C(xi.Provider,{value:!0,children:C(f0,{ref:r.subeditor_ref,editorcore:i.get_editorcore(),init_rootchildren:o,init_rootproperty:a,theme:u,sidebar_extra:c=>[{button:C(Ir,{onClick:h=>{r.props.onClose(h),h.preventDefault()},children:C(fd,{})}),run:()=>{r.props.onClose(void 0)}}]})})})}})}}function v0(e){let t=e.node,r=t.abstract,n=e.onClose||(s=>{}),[o,a]=x.exports.useState(void 0);return pe(H.Fragment,{children:[pe(Ci,{anchorEl:e.anchor_element,open:e.open,onClose:e.onClose,children:[Object.keys(r).map(s=>pe(pn,{onClick:i=>{a(s),n(i)},children:[r[s].concept,"-",s]},s)),C(pn,{onClick:s=>{n(s)},children:"\u7B97\u4E86"})]}),Object.keys(r).map(s=>C(h0,{father:t,sonidx:parseInt(s),open:o==s,onClose:i=>{a(void 0)}},s))]})}class _0 extends H.Component{constructor(r){super(r);re(this,"boxref");this.state={ae:void 0},this.boxref=H.createRef()}get_box(){if(this.boxref&&this.boxref.current)return this.boxref.current}open(){this.setState({ae:this.get_box()})}close(){this.setState({ae:void 0})}run(){this.open()}render(){let r=this.props.node;return C(Te.Consumer,{children:n=>(n.editor,pe(H.Fragment,{children:[C(_e,{sx:{marginX:"auto"},ref:this.boxref,children:C(jr,{title:"\u65B0\u5EFA\u62BD\u8C61",children:C(Ir,{onClick:()=>this.open(),children:C(dd,{})})})}),C(p0,{node:r,anchor_element:this.state.ae,open:this.state.ae!=null,onClose:()=>this.close()})]}))})}}class A0 extends H.Component{constructor(r){super(r);re(this,"boxref");this.state={ae:void 0},this.boxref=H.createRef()}get_box(){if(this.boxref&&this.boxref.current)return this.boxref.current}open(){this.setState({ae:this.get_box()})}close(){this.setState({ae:void 0})}run(){this.open()}render(){let r=this.props.node;return C(Te.Consumer,{children:n=>(n.editor,pe(H.Fragment,{children:[C(_e,{sx:{marginX:"auto"},ref:this.boxref,children:C(jr,{title:"\u7F16\u8F91\u62BD\u8C61",children:C(Ir,{onClick:()=>this.open(),children:C(Dd,{})})})}),C(v0,{node:r,anchor_element:this.state.ae,open:this.state.ae!=null,onClose:()=>this.close()})]}))})}}export{Pl as C,zo as D,Lr as G,b0 as P,Ml as S,wi as T,hd as a,ju as b,E0 as c,Wt as g,le as s};
