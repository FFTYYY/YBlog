var dn=Object.defineProperty;var fn=(t,e,r)=>e in t?dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var He=(t,e,r)=>(fn(t,typeof e!="symbol"?e+"":e,r),r);import{r as p,q as pn,R as Ve,a as Ke,B as Ue,I as st,j,l as hn,a0 as gn,u as mn,A as vn}from"./titleword.ef3c9aa8.js";import{k as Ge,j as A,a as bn,g as yn,s as xn,a2 as Dn,Z as cr,_ as Be,O as En,u as Sn,b as Tn,e as On,P as k,W as Cn,h as Qe,v as a,H as Me,U as xt,V as Dt,y as $,J as Et,G as Ze,M as In,K as ur,z as lr,B as we,ac as wn,L as Nn,ad as Ft,I as Pn}from"./Link.a41e9b5a.js";import{_ as _n,T as dr,s as Te,u as St,d as Rn,a as fr,e as pr,b as Ye}from"./TransitionGroupContext.67793ce2.js";import{S as Mn}from"./SwitchBase.ee63ccdc.js";import{S as kn}from"./Save.a6faa839.js";let Ht=0;function jn(t){const[e,r]=p.exports.useState(t),o=t||e;return p.exports.useEffect(()=>{e==null&&(Ht+=1,r(`mui-${Ht}`))},[e]),o}const Ut=pn["useId"];function Ln(t){if(Ut!==void 0){const e=Ut();return t!=null?t:e}return jn(t)}function $n(t,e,r,o,n){const i=n||e;return typeof t[e]!="undefined"?new Error(`The prop \`${i}\` is not supported. Please remove it.`):null}function Vt({controlled:t,default:e,name:r,state:o="value"}){const{current:n}=p.exports.useRef(t!==void 0),[i,s]=p.exports.useState(e),u=n?t:i;{p.exports.useEffect(()=>{n!==(t!==void 0)&&console.error([`MUI: A component is changing the ${n?"":"un"}controlled ${o} state of ${r} to be ${n?"un":""}controlled.`,"Elements should not switch from uncontrolled to controlled (or vice versa).",`Decide between using a controlled or uncontrolled ${r} element for the lifetime of the component.`,"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.","More info: https://fb.me/react-controlled-components"].join(`
`))},[o,r,t]);const{current:f}=p.exports.useRef(e);p.exports.useEffect(()=>{!n&&f!==e&&console.error([`MUI: A component is changing the default ${o} state of an uncontrolled ${r} after being initialized. To suppress this warning opt to use a controlled ${r}.`].join(`
`))},[JSON.stringify(e)])}const d=p.exports.useCallback(f=>{n||s(f)},[]);return[u,d]}var An=Ge(A("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Fn=Ge(A("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Hn=Ge(A("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Un(t){return yn("MuiCheckbox",t)}const Vn=bn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);var at=Vn;const zn=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Bn=t=>{const{classes:e,indeterminate:r,color:o}=t,n={root:["root",r&&"indeterminate",`color${cr(o)}`]},i=Qe(n,Un,e);return Be({},e,i)},qn=xn(Mn,{shouldForwardProp:t=>Dn(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,r.color!=="default"&&e[`color${cr(r.color)}`]]}})(({theme:t,ownerState:e})=>Be({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:En(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${at.checked}, &.${at.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${at.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),Gn=A(Fn,{}),Wn=A(An,{}),Kn=A(Hn,{}),hr=p.exports.forwardRef(function(e,r){var o,n;const i=Sn({props:e,name:"MuiCheckbox"}),{checkedIcon:s=Gn,color:u="primary",icon:d=Wn,indeterminate:f=!1,indeterminateIcon:m=Kn,inputProps:x,size:y="medium",className:h}=i,O=Tn(i,zn),v=f?m:d,b=f?m:s,w=Be({},i,{color:u,indeterminate:f,size:y}),R=Bn(w);return A(qn,Be({type:"checkbox",inputProps:Be({"data-indeterminate":f},x),icon:p.exports.cloneElement(v,{fontSize:(o=v.props.fontSize)!=null?o:y}),checkedIcon:p.exports.cloneElement(b,{fontSize:(n=b.props.fontSize)!=null?n:y}),ownerState:w,ref:r,className:On(R.root,h)},O,{classes:R}))});hr.propTypes={checked:k.bool,checkedIcon:k.node,classes:k.object,className:k.string,color:k.oneOfType([k.oneOf(["default","primary","secondary","error","info","success","warning"]),k.string]),defaultChecked:k.bool,disabled:k.bool,disableRipple:k.bool,icon:k.node,id:k.string,indeterminate:k.bool,indeterminateIcon:k.node,inputProps:k.object,inputRef:Cn,onChange:k.func,required:k.bool,size:k.oneOfType([k.oneOf(["medium","small"]),k.string]),sx:k.oneOfType([k.arrayOf(k.oneOfType([k.func,k.object,k.bool])),k.func,k.object]),value:k.any};var Yn=hr;function Xn(t){function e(r,o){o[r.my_id]=r;for(let n of r.sons)e(n,o);return o}return e(t,{})}function Jn(t,e=-1){if(t.sort((o,n)=>o[2]<n[2]?1:0),e>0){let o=t.filter(n=>n[0]==e)[0];o[1]=-1}let r=o=>Object.values(t.filter(n=>n[1]==o)).map(n=>({my_id:n[0],father_id:o,sons:r(n[0]),secret:n[3]}));return{my_id:-1,father_id:-1,sons:r(-1),secret:!0}}function Qn(t){let e=(r,o)=>{let n=[[r.my_id,r.father_id,o,r.secret]];r.my_id<0&&(n=[]);for(let i in r.sons){let s=parseInt(i);n=[...n,...e(r.sons[s],s)]}return n};return e(t,-1)}class Tt{constructor(e,r){He(this,"root_id");He(this,"nodetree");He(this,"_id2node");e!=null&&this.update_rawinfo(e,r)}deepcopy(){return new Tt(this.get_raw(),this.root_id)}update_nodetree(e){return this.nodetree=e,this._id2node=Xn(e),this}update_rawinfo(e,r){this.root_id=r;let o=Jn(e,r);return this.update_nodetree(o),this}id2node(e){return this._id2node[e]}get_raw(){return Qn(this.nodetree)}get_root(){return this.nodetree}is_son(e,r){for(;r=this.id2node(r).father_id,r!=-1;)if(r==e)return!0;return!1}}var Zn=Ge(A("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),eo=Ge(A("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),zt={disabled:!1},to=a.oneOfType([a.number,a.shape({enter:a.number,exit:a.number,appear:a.number}).isRequired]);a.oneOfType([a.string,a.shape({enter:a.string,exit:a.string,active:a.string}),a.shape({enter:a.string,enterDone:a.string,enterActive:a.string,exit:a.string,exitDone:a.string,exitActive:a.string})]);var ro=function(e){return e.scrollTop},ze="unmounted",De="exited",Ee="entering",Re="entered",ht="exiting",ce=function(t){_n(e,t);function e(o,n){var i;i=t.call(this,o,n)||this;var s=n,u=s&&!s.isMounting?o.enter:o.appear,d;return i.appearStatus=null,o.in?u?(d=De,i.appearStatus=Ee):d=Re:o.unmountOnExit||o.mountOnEnter?d=ze:d=De,i.state={status:d},i.nextCallback=null,i}e.getDerivedStateFromProps=function(n,i){var s=n.in;return s&&i.status===ze?{status:De}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var s=this.state.status;this.props.in?s!==Ee&&s!==Re&&(i=Ee):(s===Ee||s===Re)&&(i=ht)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,s,u;return i=s=u=n,n!=null&&typeof n!="number"&&(i=n.exit,s=n.enter,u=n.appear!==void 0?n.appear:s),{exit:i,enter:s,appear:u}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===Ee){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Ve.findDOMNode(this);s&&ro(s)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===De&&this.setState({status:ze})},r.performEnter=function(n){var i=this,s=this.props.enter,u=this.context?this.context.isMounting:n,d=this.props.nodeRef?[u]:[Ve.findDOMNode(this),u],f=d[0],m=d[1],x=this.getTimeouts(),y=u?x.appear:x.enter;if(!n&&!s||zt.disabled){this.safeSetState({status:Re},function(){i.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:Ee},function(){i.props.onEntering(f,m),i.onTransitionEnd(y,function(){i.safeSetState({status:Re},function(){i.props.onEntered(f,m)})})})},r.performExit=function(){var n=this,i=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:Ve.findDOMNode(this);if(!i||zt.disabled){this.safeSetState({status:De},function(){n.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:ht},function(){n.props.onExiting(u),n.onTransitionEnd(s.exit,function(){n.safeSetState({status:De},function(){n.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,i.nextCallback=null,n(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Ve.findDOMNode(this),u=n==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=d[0],m=d[1];this.props.addEndListener(f,m)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===ze)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=Me(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ke.createElement(dr.Provider,{value:null},typeof s=="function"?s(n,u):Ke.cloneElement(Ke.Children.only(s),u))},e}(Ke.Component);ce.contextType=dr;ce.propTypes={nodeRef:a.shape({current:typeof Element=="undefined"?a.any:function(t,e,r,o,n,i){var s=t[e];return a.instanceOf(s&&"ownerDocument"in s?s.ownerDocument.defaultView.Element:Element)(t,e,r,o,n,i)}}),children:a.oneOfType([a.func.isRequired,a.element.isRequired]).isRequired,in:a.bool,mountOnEnter:a.bool,unmountOnExit:a.bool,appear:a.bool,enter:a.bool,exit:a.bool,timeout:function(e){var r=to;e.addEndListener||(r=r.isRequired);for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return r.apply(void 0,[e].concat(n))},addEndListener:a.func,onEnter:a.func,onEntering:a.func,onEntered:a.func,onExit:a.func,onExiting:a.func,onExited:a.func};function Ne(){}ce.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ne,onEntering:Ne,onEntered:Ne,onExit:Ne,onExiting:Ne,onExited:Ne};ce.UNMOUNTED=ze;ce.EXITED=De;ce.ENTERING=Ee;ce.ENTERED=Re;ce.EXITING=ht;var no=ce;function Bt(t,e){var r,o;const{timeout:n,easing:i,style:s={}}=t;return{duration:(r=s.transitionDuration)!=null?r:typeof n=="number"?n:n[e.mode]||0,easing:(o=s.transitionTimingFunction)!=null?o:typeof i=="object"?i[e.mode]:i,delay:s.transitionDelay}}function oo(t){return xt("MuiCollapse",t)}Dt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const io=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],so=t=>{const{orientation:e,classes:r}=t,o={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Qe(o,oo,r)},ao=Te("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>$({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&$({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),co=Te("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>$({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),uo=Te("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>$({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ot=p.exports.forwardRef(function(e,r){const o=St({props:e,name:"MuiCollapse"}),{addEndListener:n,children:i,className:s,collapsedSize:u="0px",component:d,easing:f,in:m,onEnter:x,onEntered:y,onEntering:h,onExit:O,onExited:v,onExiting:b,orientation:w="vertical",style:R,timeout:D=Rn.standard,TransitionComponent:q=no}=o,F=Me(o,io),z=$({},o,{orientation:w,collapsedSize:u}),U=so(z),me=fr(),Oe=p.exports.useRef(),X=p.exports.useRef(null),ue=p.exports.useRef(),le=typeof u=="number"?`${u}px`:u,Z=w==="horizontal",J=Z?"width":"height";p.exports.useEffect(()=>()=>{clearTimeout(Oe.current)},[]);const oe=p.exports.useRef(null),I=Et(r,oe),G=T=>_=>{if(T){const K=oe.current;_===void 0?T(K):T(K,_)}},N=()=>X.current?X.current[Z?"clientWidth":"clientHeight"]:0,ie=G((T,_)=>{X.current&&Z&&(X.current.style.position="absolute"),T.style[J]=le,x&&x(T,_)}),re=G((T,_)=>{const K=N();X.current&&Z&&(X.current.style.position="");const{duration:Y,easing:H}=Bt({style:R,timeout:D,easing:f},{mode:"enter"});if(D==="auto"){const ne=me.transitions.getAutoHeightDuration(K);T.style.transitionDuration=`${ne}ms`,ue.current=ne}else T.style.transitionDuration=typeof Y=="string"?Y:`${Y}ms`;T.style[J]=`${K}px`,T.style.transitionTimingFunction=H,h&&h(T,_)}),ve=G((T,_)=>{T.style[J]="auto",y&&y(T,_)}),B=G(T=>{T.style[J]=`${N()}px`,O&&O(T)}),de=G(v),W=G(T=>{const _=N(),{duration:K,easing:Y}=Bt({style:R,timeout:D,easing:f},{mode:"exit"});if(D==="auto"){const H=me.transitions.getAutoHeightDuration(_);T.style.transitionDuration=`${H}ms`,ue.current=H}else T.style.transitionDuration=typeof K=="string"?K:`${K}ms`;T.style[J]=le,T.style.transitionTimingFunction=Y,b&&b(T)});return A(q,$({in:m,onEnter:ie,onEntered:ve,onEntering:re,onExit:B,onExited:de,onExiting:W,addEndListener:T=>{D==="auto"&&(Oe.current=setTimeout(T,ue.current||0)),n&&n(oe.current,T)},nodeRef:oe,timeout:D==="auto"?null:D},F,{children:(T,_)=>A(ao,$({as:d,className:Ze(U.root,s,{entered:U.entered,exited:!m&&le==="0px"&&U.hidden}[T]),style:$({[Z?"minWidth":"minHeight"]:le},R),ownerState:$({},z,{state:T}),ref:I},_,{children:A(co,{ownerState:$({},z,{state:T}),className:U.wrapper,ref:X,children:A(uo,{ownerState:$({},z,{state:T}),className:U.wrapperInner,children:i})})}))}))});Ot.propTypes={addEndListener:a.func,children:a.node,classes:a.object,className:a.string,collapsedSize:a.oneOfType([a.number,a.string]),component:pr,easing:a.oneOfType([a.shape({enter:a.string,exit:a.string}),a.string]),in:a.bool,onEnter:a.func,onEntered:a.func,onEntering:a.func,onExit:a.func,onExited:a.func,onExiting:a.func,orientation:a.oneOf(["horizontal","vertical"]),style:a.object,sx:a.oneOfType([a.arrayOf(a.oneOfType([a.func,a.object,a.bool])),a.func,a.object]),timeout:a.oneOfType([a.oneOf(["auto"]),a.number,a.shape({appear:a.number,enter:a.number,exit:a.number})])};Ot.muiSupportAuto=!0;var gr=Ot;const mr=p.exports.createContext({});mr.displayName="TreeViewContext";var Ct=mr;const lo=["element"];function fo(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}function po(t,e){let r=0,o=t.length-1;for(;r<=o;){const n=Math.floor((r+o)/2);if(t[n].element===e)return n;t[n].element.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING?o=n-1:r=n+1}return r}const It=p.exports.createContext({});It.displayName="DescendantContext";function ho(t){const e=p.exports.useRef(null);return p.exports.useEffect(()=>{e.current=t},[t]),e.current}const qt=()=>{};function go(t){const[,e]=p.exports.useState(),{registerDescendant:r=qt,unregisterDescendant:o=qt,descendants:n=[],parentId:i=null}=p.exports.useContext(It),s=fo(n,f=>f.element===t.element),u=ho(n),d=n.some((f,m)=>u&&u[m]&&u[m].element!==f.element);return In(()=>{if(t.element)return r($({},t,{index:s})),()=>{o(t.element)};e({})},[r,o,s,d,t]),{parentId:i,index:s}}function wt(t){const{children:e,id:r}=t,[o,n]=p.exports.useState([]),i=p.exports.useCallback(d=>{let{element:f}=d,m=Me(d,lo);n(x=>{let y;if(x.length===0)return[$({},m,{element:f,index:0})];const h=po(x,f);if(x[h]&&x[h].element===f)y=x;else{const O=$({},m,{element:f,index:h});y=x.slice(),y.splice(h,0,O)}return y.forEach((O,v)=>{O.index=v}),y})},[]),s=p.exports.useCallback(d=>{n(f=>f.filter(m=>d!==m.element))},[]),u=p.exports.useMemo(()=>({descendants:o,registerDescendant:i,unregisterDescendant:s,parentId:r}),[o,i,s,r]);return A(It.Provider,{value:u,children:e})}wt.propTypes={children:a.node,id:a.string};function mo(t){const{focus:e,isExpanded:r,isExpandable:o,isFocused:n,isDisabled:i,isSelected:s,multiSelect:u,selectNode:d,selectRange:f,toggleExpansion:m}=p.exports.useContext(Ct),x=o?o(t):!1,y=r?r(t):!1,h=n?n(t):!1,O=i?i(t):!1,v=s?s(t):!1;return{disabled:O,expanded:y,selected:v,focused:h,handleExpansion:D=>{if(!O){h||e(D,t);const q=u&&(D.shiftKey||D.ctrlKey||D.metaKey);x&&!(q&&r(t))&&m(D,t)}},handleSelection:D=>{O||(h||e(D,t),u&&(D.shiftKey||D.ctrlKey||D.metaKey)?D.shiftKey?f(D,{end:t}):d(D,t,!0):d(D,t))},preventSelection:D=>{(D.shiftKey||D.ctrlKey||D.metaKey||O)&&D.preventDefault()}}}const vo=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],vr=p.exports.forwardRef(function(e,r){const{classes:o,className:n,displayIcon:i,expansionIcon:s,icon:u,label:d,nodeId:f,onClick:m,onMouseDown:x}=e,y=Me(e,vo),{disabled:h,expanded:O,selected:v,focused:b,handleExpansion:w,handleSelection:R,preventSelection:D}=mo(f),q=u||s||i,F=U=>{D(U),x&&x(U)},z=U=>{w(U),R(U),m&&m(U)};return ur("div",$({className:Ze(n,o.root,O&&o.expanded,v&&o.selected,b&&o.focused,h&&o.disabled),onClick:z,onMouseDown:F,ref:r},y,{children:[A("div",{className:o.iconContainer,children:q}),A("div",{className:o.label,children:d})]}))});vr.propTypes={classes:a.object,className:a.string,displayIcon:a.node,expansionIcon:a.node,icon:a.node,label:a.node,nodeId:a.string.isRequired,onClick:a.func,onMouseDown:a.func};var br=vr;function bo(t){return xt("MuiTreeItem",t)}const yo=Dt("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);var ge=yo;const xo=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Do=t=>{const{classes:e}=t;return Qe({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},bo,e)},Eo=Te("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(t,e)=>e.root})({listStyle:"none",margin:0,padding:0,outline:0}),So=Te(br,{name:"MuiTreeItem",slot:"Content",overridesResolver:(t,e)=>[e.content,e.iconContainer&&{[`& .${ge.iconContainer}`]:e.iconContainer},e.label&&{[`& .${ge.label}`]:e.label}]})(({theme:t})=>({padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ge.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${ge.focused}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ge.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ye(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ye(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ye(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ge.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ye(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`& .${ge.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${ge.label}`]:$({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},t.typography.body1)})),To=Te(gr,{name:"MuiTreeItem",slot:"Group",overridesResolver:(t,e)=>e.group})({margin:0,padding:0,marginLeft:17}),yr=p.exports.forwardRef(function(e,r){const o=St({props:e,name:"MuiTreeItem"}),{children:n,className:i,collapseIcon:s,ContentComponent:u=br,ContentProps:d,endIcon:f,expandIcon:m,disabled:x,icon:y,id:h,label:O,nodeId:v,onClick:b,onMouseDown:w,TransitionComponent:R=gr,TransitionProps:D}=o,q=Me(o,xo),{icons:F={},focus:z,isExpanded:U,isFocused:me,isSelected:Oe,isDisabled:X,multiSelect:ue,disabledItemsFocusable:le,mapFirstChar:Z,unMapFirstChar:J,registerNode:oe,unregisterNode:I,treeId:G}=p.exports.useContext(Ct);let N=null;h!=null?N=h:G&&v&&(N=`${G}-${v}`);const[ie,re]=p.exports.useState(null),ve=p.exports.useRef(null),B=Et(re,r),de=p.exports.useMemo(()=>({element:ie,id:v}),[v,ie]),{index:W,parentId:fe}=go(de),T=Boolean(Array.isArray(n)?n.length:n),_=U?U(v):!1,K=me?me(v):!1,Y=Oe?Oe(v):!1,H=X?X(v):!1,ne=$({},o,{expanded:_,focused:K,selected:Y,disabled:H}),Q=Do(ne);let be,ye;T&&(_?ye=s||F.defaultCollapseIcon:ye=m||F.defaultExpandIcon),T?be=F.defaultParentIcon:be=f||F.defaultEndIcon,p.exports.useEffect(()=>{if(oe&&I&&W!==-1)return oe({id:v,idAttribute:N,index:W,parentId:fe,expandable:T,disabled:x}),()=>{I(v)}},[oe,I,fe,W,v,T,x,N]),p.exports.useEffect(()=>{if(Z&&J&&O)return Z(v,ve.current.textContent.substring(0,1).toLowerCase()),()=>{J(v)}},[Z,J,v,O]);let je;ue?je=Y:Y&&(je=!0);function it(pe){pe.target===pe.currentTarget&&lr(pe.target).getElementById(G).focus({preventScroll:!0});const se=!le&&H;!K&&pe.currentTarget===pe.target&&!se&&z(pe,v)}return ur(Eo,$({className:Ze(Q.root,i),role:"treeitem","aria-expanded":T?_:null,"aria-selected":je,"aria-disabled":H||null,ref:B,id:N,tabIndex:-1},q,{ownerState:ne,onFocus:it,children:[A(So,$({as:u,ref:ve,classes:{root:Q.content,expanded:Q.expanded,selected:Q.selected,focused:Q.focused,disabled:Q.disabled,iconContainer:Q.iconContainer,label:Q.label},label:O,nodeId:v,onClick:b,onMouseDown:w,icon:y,expansionIcon:ye,displayIcon:be,ownerState:ne},d)),n&&A(wt,{id:v,children:A(To,$({as:R,unmountOnExit:!0,className:Q.group,in:_,component:"ul",role:"group"},D,{children:n}))})]}))});yr.propTypes={children:a.node,classes:a.object,className:a.string,collapseIcon:a.node,ContentComponent:pr,ContentProps:a.object,disabled:a.bool,endIcon:a.node,expandIcon:a.node,icon:a.node,id:a.string,label:a.node,nodeId:a.string.isRequired,onClick:a.func,onFocus:$n,onMouseDown:a.func,sx:a.oneOfType([a.arrayOf(a.oneOfType([a.func,a.object,a.bool])),a.func,a.object]),TransitionComponent:a.elementType,TransitionProps:a.object};var Oo=yr;function Co(t){return xt("MuiTreeView",t)}Dt("MuiTreeView",["root"]);const Io=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],wo=t=>{const{classes:e}=t;return Qe({root:["root"]},Co,e)},No=Te("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,margin:0,listStyle:"none",outline:0});function Po(t){return t&&t.length===1&&t.match(/\S/)}function Gt(t,e,r){for(let o=e;o<t.length;o+=1)if(r===t[o])return o;return-1}function Wt(){return!1}const _o=[],Ro=[],xr=p.exports.forwardRef(function(e,r){const o=St({props:e,name:"MuiTreeView"}),{children:n,className:i,defaultCollapseIcon:s,defaultEndIcon:u,defaultExpanded:d=_o,defaultExpandIcon:f,defaultParentIcon:m,defaultSelected:x=Ro,disabledItemsFocusable:y=!1,disableSelection:h=!1,expanded:O,id:v,multiSelect:b=!1,onBlur:w,onFocus:R,onKeyDown:D,onNodeFocus:q,onNodeSelect:F,onNodeToggle:z,selected:U}=o,me=Me(o,Io),X=fr().direction==="rtl",ue=$({},o,{defaultExpanded:d,defaultSelected:x,disabledItemsFocusable:y,disableSelection:h,multiSelect:b}),le=wo(ue),Z=Ln(v),J=p.exports.useRef(null),oe=Et(J,r),[I,G]=p.exports.useState(null),N=p.exports.useRef({}),ie=p.exports.useRef({}),[re,ve]=Vt({controlled:O,default:d,name:"TreeView",state:"expanded"}),[B,de]=Vt({controlled:U,default:x,name:"TreeView",state:"selected"}),W=p.exports.useCallback(c=>Array.isArray(re)?re.indexOf(c)!==-1:!1,[re]),fe=p.exports.useCallback(c=>N.current[c]&&N.current[c].expandable,[]),T=p.exports.useCallback(c=>Array.isArray(B)?B.indexOf(c)!==-1:B===c,[B]),_=p.exports.useCallback(c=>{let l=N.current[c];if(!l)return!1;if(l.disabled)return!0;for(;l.parentId!=null;)if(l=N.current[l.parentId],l.disabled)return!0;return!1},[]),K=c=>I===c,Y=c=>Object.keys(N.current).map(l=>N.current[l]).filter(l=>l.parentId===c).sort((l,g)=>l.index-g.index).map(l=>l.id),H=c=>{let l=Y(c);return y||(l=l.filter(g=>!_(g))),l},ne=c=>{if(W(c)&&H(c).length>0)return H(c)[0];let l=N.current[c];for(;l!=null;){const g=H(l.parentId),S=g[g.indexOf(l.id)+1];if(S)return S;l=N.current[l.parentId]}return null},Q=c=>{const l=N.current[c],g=H(l.parentId),S=g.indexOf(c);if(S===0)return l.parentId;let C=g[S-1];for(;W(C)&&H(C).length>0;)C=H(C).pop();return C},be=()=>{let c=H(null).pop();for(;W(c);)c=H(c).pop();return c},ye=()=>H(null)[0],je=c=>N.current[c].parentId,it=(c,l)=>{if(c===l)return[c,l];const g=N.current[c],S=N.current[l];if(g.parentId===S.id||S.parentId===g.id)return S.parentId===g.id?[g.id,S.id]:[S.id,g.id];const C=[g.id],P=[S.id];let M=g.parentId,V=S.parentId,ee=P.indexOf(M)!==-1,$e=C.indexOf(V)!==-1,Ie=!0,Ae=!0;for(;!$e&&!ee;)Ie&&(C.push(M),ee=P.indexOf(M)!==-1,Ie=M!==null,!ee&&Ie&&(M=N.current[M].parentId)),Ae&&!ee&&(P.push(V),$e=C.indexOf(V)!==-1,Ae=V!==null,!$e&&Ae&&(V=N.current[V].parentId));const Fe=ee?M:V,At=Y(Fe),un=C[C.indexOf(Fe)-1],ln=P[P.indexOf(Fe)-1];return At.indexOf(un)<At.indexOf(ln)?[c,l]:[l,c]},pe=(c,l)=>{const[g,S]=it(c,l),C=[g];let P=g;for(;P!==S;)P=ne(P),C.push(P);return C},se=(c,l)=>{l&&(G(l),q&&q(c,l))},jt=(c,l)=>se(c,ne(l)),Hr=(c,l)=>se(c,Q(l)),Ur=c=>se(c,ye()),Vr=c=>se(c,be()),zr=(c,l,g)=>{let S,C;const P=g.toLowerCase(),M=[],V=[];Object.keys(ie.current).forEach(ee=>{const $e=ie.current[ee],Ie=N.current[ee],Ae=Ie.parentId?W(Ie.parentId):!0,Fe=y?!1:_(ee);Ae&&!Fe&&(M.push(ee),V.push($e))}),S=M.indexOf(l)+1,S>=M.length&&(S=0),C=Gt(V,S,P),C===-1&&(C=Gt(V,0,P)),C>-1&&se(c,M[C])},We=(c,l=I)=>{let g;re.indexOf(l)!==-1?g=re.filter(S=>S!==l):g=[l].concat(re),z&&z(c,g),ve(g)},Br=(c,l)=>{const g=N.current[l],C=Y(g.parentId).filter(M=>fe(M)&&!W(M)),P=re.concat(C);C.length>0&&(ve(P),z&&z(c,P))},he=p.exports.useRef(null),Ce=p.exports.useRef(!1),ae=p.exports.useRef([]),qr=(c,l)=>{let g=B.slice();const{start:S,next:C,current:P}=l;!C||!P||(ae.current.indexOf(P)===-1&&(ae.current=[]),Ce.current?ae.current.indexOf(C)!==-1?(g=g.filter(M=>M===S||M!==P),ae.current=ae.current.filter(M=>M===S||M!==P)):(g.push(C),ae.current.push(C)):(g.push(C),ae.current.push(P,C)),F&&F(c,g),de(g))},Gr=(c,l)=>{let g=B.slice();const{start:S,end:C}=l;Ce.current&&(g=g.filter(V=>ae.current.indexOf(V)===-1));let P=pe(S,C);P=P.filter(V=>!_(V)),ae.current=P;let M=g.concat(P);M=M.filter((V,ee)=>M.indexOf(V)===ee),F&&F(c,M),de(M)},Wr=(c,l)=>{let g;B.indexOf(l)!==-1?g=B.filter(S=>S!==l):g=[l].concat(B),F&&F(c,g),de(g)},Kr=(c,l)=>{const g=b?[l]:l;F&&F(c,g),de(g)},Le=(c,l,g=!1)=>l?(g?Wr(c,l):Kr(c,l),he.current=l,Ce.current=!1,ae.current=[],!0):!1,xe=(c,l,g=!1)=>{const{start:S=he.current,end:C,current:P}=l;g?qr(c,{start:S,next:C,current:P}):S!=null&&C!=null&&Gr(c,{start:S,end:C}),Ce.current=!0},Yr=(c,l)=>{he.current||(he.current=l);const g=Ce.current?he.current:l;xe(c,{start:g,end:ye()})},Xr=(c,l)=>{he.current||(he.current=l);const g=Ce.current?he.current:l;xe(c,{start:g,end:be()})},Jr=(c,l)=>{_(ne(l))||xe(c,{end:ne(l),current:l},!0)},Qr=(c,l)=>{_(Q(l))||xe(c,{end:Q(l),current:l},!0)},Zr=c=>{xe(c,{start:ye(),end:be()})},en=p.exports.useCallback(c=>{const{id:l,index:g,parentId:S,expandable:C,idAttribute:P,disabled:M}=c;N.current[l]={id:l,index:g,parentId:S,expandable:C,idAttribute:P,disabled:M}},[]),tn=p.exports.useCallback(c=>{const l=$({},N.current);delete l[c],N.current=l,G(g=>g===c&&J.current===lr(J.current).activeElement?Y(null)[0]:g)},[]),rn=p.exports.useCallback((c,l)=>{ie.current[c]=l},[]),nn=p.exports.useCallback(c=>{const l=$({},ie.current);delete l[c],ie.current=l},[]),Lt=c=>(fe(I)&&(W(I)?jt(c,I):_(I)||We(c)),!0),$t=c=>{if(W(I)&&!_(I))return We(c,I),!0;const l=je(I);return l?(se(c,l),!0):!1},on=c=>{let l=!1;const g=c.key;if(c.altKey||c.currentTarget!==c.target||!I)return;const S=c.ctrlKey||c.metaKey;switch(g){case" ":!h&&!_(I)&&(b&&c.shiftKey?(xe(c,{end:I}),l=!0):b?l=Le(c,I,!0):l=Le(c,I)),c.stopPropagation();break;case"Enter":_(I)||(fe(I)?(We(c),l=!0):b?l=Le(c,I,!0):l=Le(c,I)),c.stopPropagation();break;case"ArrowDown":b&&c.shiftKey&&!h&&Jr(c,I),jt(c,I),l=!0;break;case"ArrowUp":b&&c.shiftKey&&!h&&Qr(c,I),Hr(c,I),l=!0;break;case"ArrowRight":X?l=$t(c):l=Lt(c);break;case"ArrowLeft":X?l=Lt(c):l=$t(c);break;case"Home":b&&S&&c.shiftKey&&!h&&!_(I)&&Yr(c,I),Ur(c),l=!0;break;case"End":b&&S&&c.shiftKey&&!h&&!_(I)&&Xr(c,I),Vr(c),l=!0;break;default:g==="*"?(Br(c,I),l=!0):b&&S&&g.toLowerCase()==="a"&&!h?(Zr(c),l=!0):!S&&!c.shiftKey&&Po(g)&&(zr(c,I,g),l=!0)}l&&(c.preventDefault(),c.stopPropagation()),D&&D(c)},sn=c=>{if(c.target===c.currentTarget){const l=Array.isArray(B)?B[0]:B;se(c,l||H(null)[0])}R&&R(c)},an=c=>{G(null),w&&w(c)},cn=N.current[I]?N.current[I].idAttribute:null;return A(Ct.Provider,{value:{icons:{defaultCollapseIcon:s,defaultExpandIcon:f,defaultParentIcon:m,defaultEndIcon:u},focus:se,toggleExpansion:We,isExpanded:W,isExpandable:fe,isFocused:K,isSelected:T,isDisabled:_,selectNode:h?Wt:Le,selectRange:h?Wt:xe,multiSelect:b,disabledItemsFocusable:y,mapFirstChar:rn,unMapFirstChar:nn,registerNode:en,unregisterNode:tn,treeId:Z},children:A(wt,{children:A(No,$({role:"tree",id:Z,"aria-activedescendant":cn,"aria-multiselectable":b,className:Ze(le.root,i),ref:oe,tabIndex:0,onKeyDown:on,onFocus:sn,onBlur:an,ownerState:ue},me,{children:n}))})})});xr.propTypes={children:a.node,classes:a.object,className:a.string,defaultCollapseIcon:a.node,defaultEndIcon:a.node,defaultExpanded:a.arrayOf(a.string),defaultExpandIcon:a.node,defaultParentIcon:a.node,defaultSelected:a.oneOfType([a.arrayOf(a.string),a.string]),disabledItemsFocusable:a.bool,disableSelection:a.bool,expanded:a.arrayOf(a.string),id:a.string,multiSelect:a.bool,onBlur:a.func,onFocus:a.func,onKeyDown:a.func,onNodeFocus:a.func,onNodeSelect:a.func,onNodeToggle:a.func,selected:a.oneOfType([a.arrayOf(a.string),a.string]),sx:a.oneOfType([a.arrayOf(a.oneOfType([a.func,a.object,a.bool])),a.func,a.object])};var Mo=xr;const Dr=p.exports.createContext({dragDropManager:void 0});var Kt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ct=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yt={INIT:"@@redux/INIT"+ct(),REPLACE:"@@redux/REPLACE"+ct(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ct()}};function ko(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function jo(t){if(t===void 0)return"undefined";if(t===null)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(Ao(t))return"date";if($o(t))return"error";var r=Lo(t);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}function Lo(t){return typeof t.constructor=="function"?t.constructor.name:null}function $o(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function Ao(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function Pe(t){var e=typeof t;return e=jo(t),e}function Er(t,e,r){var o;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof e=="function"&&typeof r=="undefined"&&(r=e,e=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error("Expected the enhancer to be a function. Instead, received: '"+Pe(r)+"'");return r(Er)(t,e)}if(typeof t!="function")throw new Error("Expected the root reducer to be a function. Instead, received: '"+Pe(t)+"'");var n=t,i=e,s=[],u=s,d=!1;function f(){u===s&&(u=s.slice())}function m(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function x(v){if(typeof v!="function")throw new Error("Expected the listener to be a function. Instead, received: '"+Pe(v)+"'");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var b=!0;return f(),u.push(v),function(){if(!!b){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");b=!1,f();var R=u.indexOf(v);u.splice(R,1),s=null}}}function y(v){if(!ko(v))throw new Error("Actions must be plain objects. Instead, the actual type was: '"+Pe(v)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(typeof v.type=="undefined")throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,i=n(i,v)}finally{d=!1}for(var b=s=u,w=0;w<b.length;w++){var R=b[w];R()}return v}function h(v){if(typeof v!="function")throw new Error("Expected the nextReducer to be a function. Instead, received: '"+Pe(v));n=v,y({type:Yt.REPLACE})}function O(){var v,b=x;return v={subscribe:function(R){if(typeof R!="object"||R===null)throw new Error("Expected the observer to be an object. Instead, received: '"+Pe(R)+"'");function D(){R.next&&R.next(m())}D();var q=b(D);return{unsubscribe:q}}},v[Kt]=function(){return this},v}return y({type:Yt.INIT}),o={dispatch:y,subscribe:x,getState:m,replaceReducer:h},o[Kt]=O,o}function Fo(t){typeof console!="undefined"&&typeof console.error=="function"&&console.error(t);try{throw new Error(t)}catch{}}function Xt(){}typeof Xt.name=="string"&&Xt.name!=="isCrushed"&&Fo('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');function E(t,e,...r){if(Ho()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let o;if(e===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;o=new Error(e.replace(/%s/g,function(){return r[n++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}function Ho(){return typeof process!="undefined"&&process.env.NODE_ENV==="production"}function Uo(t,e,r){return e.split(".").reduce((o,n)=>o&&o[n]?o[n]:r||null,t)}function Vo(t,e){return t.filter(r=>r!==e)}function Sr(t){return typeof t=="object"}function zo(t,e){const r=new Map,o=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(o),e.forEach(o);const n=[];return r.forEach((i,s)=>{i===1&&n.push(s)}),n}function Bo(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Nt="dnd-core/INIT_COORDS",et="dnd-core/BEGIN_DRAG",Pt="dnd-core/PUBLISH_DRAG_SOURCE",tt="dnd-core/HOVER",rt="dnd-core/DROP",nt="dnd-core/END_DRAG";function Jt(t,e){return{type:Nt,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const qo={type:Nt,payload:{clientOffset:null,sourceClientOffset:null}};function Go(t){return function(r=[],o={publishSource:!0}){const{publishSource:n=!0,clientOffset:i,getSourceClientOffset:s}=o,u=t.getMonitor(),d=t.getRegistry();t.dispatch(Jt(i)),Wo(r,u,d);const f=Xo(r,u);if(f==null){t.dispatch(qo);return}let m=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");Ko(s),m=s(f)}t.dispatch(Jt(i,m));const y=d.getSource(f).beginDrag(u,f);if(y==null)return;Yo(y),d.pinSource(f);const h=d.getSourceType(f);return{type:et,payload:{itemType:h,item:y,sourceId:f,clientOffset:i||null,sourceClientOffset:m||null,isSourcePublic:!!n}}}}function Wo(t,e,r){E(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(o){E(r.getSource(o),"Expected sourceIds to be registered.")})}function Ko(t){E(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Yo(t){E(Sr(t),"Item must be an object.")}function Xo(t,e){let r=null;for(let o=t.length-1;o>=0;o--)if(e.canDragSource(t[o])){r=t[o];break}return r}function Jo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(n){Jo(t,n,r[n])})}return t}function Zo(t){return function(r={}){const o=t.getMonitor(),n=t.getRegistry();ei(o),ni(o).forEach((s,u)=>{const d=ti(s,u,n,o),f={type:rt,payload:{dropResult:Qo({},r,d)}};t.dispatch(f)})}}function ei(t){E(t.isDragging(),"Cannot call drop while not dragging."),E(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function ti(t,e,r,o){const n=r.getTarget(t);let i=n?n.drop(o,t):void 0;return ri(i),typeof i=="undefined"&&(i=e===0?{}:o.getDropResult()),i}function ri(t){E(typeof t=="undefined"||Sr(t),"Drop result must either be an object or undefined.")}function ni(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function oi(t){return function(){const r=t.getMonitor(),o=t.getRegistry();ii(r);const n=r.getSourceId();return n!=null&&(o.getSource(n,!0).endDrag(r,n),o.unpinSource()),{type:nt}}}function ii(t){E(t.isDragging(),"Cannot call endDrag while not dragging.")}function gt(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function si(t){return function(r,{clientOffset:o}={}){ai(r);const n=r.slice(0),i=t.getMonitor(),s=t.getRegistry(),u=i.getItemType();return ui(n,s,u),ci(n,i,s),li(n,i,s),{type:tt,payload:{targetIds:n,clientOffset:o||null}}}}function ai(t){E(Array.isArray(t),"Expected targetIds to be an array.")}function ci(t,e,r){E(e.isDragging(),"Cannot call hover while not dragging."),E(!e.didDrop(),"Cannot call hover after drop.");for(let o=0;o<t.length;o++){const n=t[o];E(t.lastIndexOf(n)===o,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(n);E(i,"Expected targetIds to be registered.")}}function ui(t,e,r){for(let o=t.length-1;o>=0;o--){const n=t[o],i=e.getTargetType(n);gt(i,r)||t.splice(o,1)}}function li(t,e,r){t.forEach(function(o){r.getTarget(o).hover(e,o)})}function di(t){return function(){if(t.getMonitor().isDragging())return{type:Pt}}}function fi(t){return{beginDrag:Go(t),publishDragSource:di(t),hover:si(t),drop:Zo(t),endDrag:oi(t)}}class pi{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function o(i){return(...s)=>{const u=i.apply(e,s);typeof u!="undefined"&&r(u)}}const n=fi(this);return Object.keys(n).reduce((i,s)=>{const u=n[s];return i[s]=o(u),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const o=this.store.getState().refCount>0;this.backend&&(o&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!o&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function hi(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Tr(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gi(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:o}=t;return!e||!r||!o?null:Tr(hi(e,o),r)}function mi(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Tr(e,r)}const qe=[],_t=[];qe.__IS_NONE__=!0;_t.__IS_ALL__=!0;function vi(t,e){return t===qe?!1:t===_t||typeof e=="undefined"?!0:Bo(e,t).length>0}class bi{subscribeToStateChange(e,r={}){const{handlerIds:o}=r;E(typeof e=="function","listener must be a function."),E(typeof o=="undefined"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),u=s.stateId;try{u===n||u===n+1&&!vi(s.dirtyHandlerIds,o)||e()}finally{n=u}};return this.store.subscribe(i)}subscribeToOffsetChange(e){E(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const o=()=>{const n=this.store.getState().dragOffset;n!==r&&(r=n,e())};return this.store.subscribe(o)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return E(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(E(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const o=this.registry.getTargetType(e),n=this.getItemType();return gt(o,n)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(E(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const o=this.registry.getSourceType(e),n=this.getItemType();return o!==n?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:o}=r;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();if(i&&!gt(n,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const u=s.indexOf(e);return o?u===s.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return gi(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return mi(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Qt=typeof global!="undefined"?global:self,Or=Qt.MutationObserver||Qt.WebKitMutationObserver;function Cr(t){return function(){const r=setTimeout(n,0),o=setInterval(n,50);function n(){clearTimeout(r),clearInterval(o),t()}}}function yi(t){let e=1;const r=new Or(t),o=document.createTextNode("");return r.observe(o,{characterData:!0}),function(){e=-e,o.data=e}}const xi=typeof Or=="function"?yi:Cr;class Di{enqueueTask(e){const{queue:r,requestFlush:o}=this;r.length||(o(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let o=0,n=e.length-this.index;o<n;o++)e[o]=e[o+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=xi(this.flush),this.requestErrorThrow=Cr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ei{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Si{create(e){const r=this.freeTasks,o=r.length?r.pop():new Ei(this.onError,n=>r[r.length]=n);return o.task=e,o}constructor(e){this.onError=e,this.freeTasks=[]}}const Ir=new Di,Ti=new Si(Ir.registerPendingError);function Oi(t){Ir.enqueueTask(Ti.create(t))}const Rt="dnd-core/ADD_SOURCE",Mt="dnd-core/ADD_TARGET",kt="dnd-core/REMOVE_SOURCE",ot="dnd-core/REMOVE_TARGET";function Ci(t){return{type:Rt,payload:{sourceId:t}}}function Ii(t){return{type:Mt,payload:{targetId:t}}}function wi(t){return{type:kt,payload:{sourceId:t}}}function Ni(t){return{type:ot,payload:{targetId:t}}}function Pi(t){E(typeof t.canDrag=="function","Expected canDrag to be a function."),E(typeof t.beginDrag=="function","Expected beginDrag to be a function."),E(typeof t.endDrag=="function","Expected endDrag to be a function.")}function _i(t){E(typeof t.canDrop=="function","Expected canDrop to be a function."),E(typeof t.hover=="function","Expected hover to be a function."),E(typeof t.drop=="function","Expected beginDrag to be a function.")}function mt(t,e){if(e&&Array.isArray(t)){t.forEach(r=>mt(r,!1));return}E(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var te;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(te||(te={}));let Ri=0;function Mi(){return Ri++}function ki(t){const e=Mi().toString();switch(t){case te.SOURCE:return`S${e}`;case te.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Zt(t){switch(t[0]){case"S":return te.SOURCE;case"T":return te.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function er(t,e){const r=t.entries();let o=!1;do{const{done:n,value:[,i]}=r.next();if(i===e)return!0;o=!!n}while(!o);return!1}class ji{addSource(e,r){mt(e),Pi(r);const o=this.addHandler(te.SOURCE,e,r);return this.store.dispatch(Ci(o)),o}addTarget(e,r){mt(e,!0),_i(r);const o=this.addHandler(te.TARGET,e,r);return this.store.dispatch(Ii(o)),o}containsHandler(e){return er(this.dragSources,e)||er(this.dropTargets,e)}getSource(e,r=!1){return E(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return E(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Zt(e)===te.SOURCE}isTargetId(e){return Zt(e)===te.TARGET}removeSource(e){E(this.getSource(e),"Expected an existing source."),this.store.dispatch(wi(e)),Oi(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){E(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Ni(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);E(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){E(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,o){const n=ki(e);return this.types.set(n,r),e===te.SOURCE?this.dragSources.set(n,o):e===te.TARGET&&this.dropTargets.set(n,o),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Li=(t,e)=>t===e;function $i(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Ai(t,e,r=Li){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!r(t[o],e[o]))return!1;return!0}function Fi(t=qe,e){switch(e.type){case tt:break;case Rt:case Mt:case ot:case kt:return qe;case et:case Pt:case nt:case rt:default:return _t}const{targetIds:r=[],prevTargetIds:o=[]}=e.payload,n=zo(r,o);if(!(n.length>0||!Ai(r,o)))return qe;const s=o[o.length-1],u=r[r.length-1];return s!==u&&(s&&n.push(s),u&&n.push(u)),n}function Hi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(n){Hi(t,n,r[n])})}return t}const tr={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Vi(t=tr,e){const{payload:r}=e;switch(e.type){case Nt:case et:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case tt:return $i(t.clientOffset,r.clientOffset)?t:Ui({},t,{clientOffset:r.clientOffset});case nt:case rt:return tr;default:return t}}function zi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(n){zi(t,n,r[n])})}return t}const Bi={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function qi(t=Bi,e){const{payload:r}=e;switch(e.type){case et:return _e({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Pt:return _e({},t,{isSourcePublic:!0});case tt:return _e({},t,{targetIds:r.targetIds});case ot:return t.targetIds.indexOf(r.targetId)===-1?t:_e({},t,{targetIds:Vo(t.targetIds,r.targetId)});case rt:return _e({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case nt:return _e({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Gi(t=0,e){switch(e.type){case Rt:case Mt:return t+1;case kt:case ot:return t-1;default:return t}}function Wi(t=0){return t+1}function Ki(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(n){Ki(t,n,r[n])})}return t}function Xi(t={},e){return{dirtyHandlerIds:Fi(t.dirtyHandlerIds,{type:e.type,payload:Yi({},e.payload,{prevTargetIds:Uo(t,"dragOperation.targetIds",[])})}),dragOffset:Vi(t.dragOffset,e),refCount:Gi(t.refCount,e),dragOperation:qi(t.dragOperation,e),stateId:Wi(t.stateId)}}function Ji(t,e=void 0,r={},o=!1){const n=Qi(o),i=new bi(n,new ji(n)),s=new pi(n,i),u=t(s,e,r);return s.receiveBackend(u),s}function Qi(t){const e=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Er(Xi,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Zi(t,e){if(t==null)return{};var r=es(t,e),o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)o=i[n],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,o)||(r[o]=t[o]))}return r}function es(t,e){if(t==null)return{};var r={},o=Object.keys(t),n,i;for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}let rr=0;const Je=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ts=p.exports.memo(function(e){var{children:r}=e,o=Zi(e,["children"]);const[n,i]=rs(o);return p.exports.useEffect(()=>{if(i){const s=wr();return++rr,()=>{--rr===0&&(s[Je]=null)}}},[]),A(Dr.Provider,{value:n,children:r})});function rs(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=ns(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function ns(t,e=wr(),r,o){const n=e;return n[Je]||(n[Je]={dragDropManager:Ji(t,e,r,o)}),n[Je]}function wr(){return typeof global!="undefined"?global:window}var os=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var o,n,i;if(Array.isArray(e)){if(o=e.length,o!=r.length)return!1;for(n=o;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(r).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;n--!==0;){var s=i[n];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const Se=typeof window!="undefined"?p.exports.useLayoutEffect:p.exports.useEffect;function is(t,e,r){const[o,n]=p.exports.useState(()=>e(t)),i=p.exports.useCallback(()=>{const s=e(t);os(o,s)||(n(s),r&&r())},[o,t,r]);return Se(i),[o,i]}function ss(t,e,r){const[o,n]=is(t,e,r);return Se(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(n,{handlerIds:[s]})},[t,n]),o}function Nr(t,e,r){return ss(e,t||(()=>({})),()=>r.reconnect())}function Pr(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),p.exports.useMemo(()=>typeof t=="function"?t():t,r)}function as(t){return p.exports.useMemo(()=>t.hooks.dragSource(),[t])}function cs(t){return p.exports.useMemo(()=>t.hooks.dragPreview(),[t])}let ut=!1,lt=!1;class us{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){E(!ut,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ut=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ut=!1}}isDragging(){if(!this.sourceId)return!1;E(!lt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return lt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{lt=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let dt=!1;class ls{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;E(!dt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return dt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{dt=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function ds(t,e,r){const o=r.getRegistry(),n=o.addTarget(t,e);return[n,()=>o.removeTarget(n)]}function fs(t,e,r){const o=r.getRegistry(),n=o.addSource(t,e);return[n,()=>o.removeSource(n)]}function vt(t,e,r,o){let n=r?r.call(o,t,e):void 0;if(n!==void 0)return!!n;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;const u=Object.prototype.hasOwnProperty.bind(e);for(let d=0;d<i.length;d++){const f=i[d];if(!u(f))return!1;const m=t[f],x=e[f];if(n=r?r.call(o,m,x,f):void 0,n===!1||n===void 0&&m!==x)return!1}return!0}function bt(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ps(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function hs(t){return(e=null,r=null)=>{if(!p.exports.isValidElement(e)){const i=e;return t(i,r),i}const o=e;return ps(o),gs(o,r?i=>t(i,r):t)}}function _r(t){const e={};return Object.keys(t).forEach(r=>{const o=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const n=hs(o);e[r]=()=>n}}),e}function nr(t,e){typeof t=="function"?t(e):t.current=e}function gs(t,e){const r=t.ref;return E(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?p.exports.cloneElement(t,{ref:o=>{nr(r,o),nr(e,o)}}):p.exports.cloneElement(t,{ref:e})}class ms{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,o=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!vt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!vt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=_r({dragSource:(r,o)=>{this.clearDragSource(),this.dragSourceOptions=o||null,bt(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,o)=>{this.clearDragPreview(),this.dragPreviewOptions=o||null,bt(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class vs{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(!!this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!vt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=_r({dropTarget:(r,o)=>{this.clearDropTarget(),this.dropTargetOptions=o,bt(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ke(){const{dragDropManager:t}=p.exports.useContext(Dr);return E(t!=null,"Expected drag drop context"),t}function bs(t,e){const r=ke(),o=p.exports.useMemo(()=>new ms(r.getBackend()),[r]);return Se(()=>(o.dragSourceOptions=t||null,o.reconnect(),()=>o.disconnectDragSource()),[o,t]),Se(()=>(o.dragPreviewOptions=e||null,o.reconnect(),()=>o.disconnectDragPreview()),[o,e]),o}function ys(){const t=ke();return p.exports.useMemo(()=>new us(t),[t])}class xs{beginDrag(){const e=this.spec,r=this.monitor;let o=null;return typeof e.item=="object"?o=e.item:typeof e.item=="function"?o=e.item(r):o={},o!=null?o:null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const o=this.spec,n=this.monitor,{isDragging:i}=o;return i?i(n):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,o=this.connector,{end:n}=e;n&&n(r.getItem(),r),o.reconnect()}constructor(e,r,o){this.spec=e,this.monitor=r,this.connector=o}}function Ds(t,e,r){const o=p.exports.useMemo(()=>new xs(t,e,r),[e,r]);return p.exports.useEffect(()=>{o.spec=t},[t]),o}function Es(t){return p.exports.useMemo(()=>{const e=t.type;return E(e!=null,"spec.type must be defined"),e},[t])}function Ss(t,e,r){const o=ke(),n=Ds(t,e,r),i=Es(t);Se(function(){if(i!=null){const[u,d]=fs(i,n,o);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}},[o,e,r,n,i])}function Ts(t,e){const r=Pr(t,e);E(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const o=ys(),n=bs(r.options,r.previewOptions);return Ss(r,o,n),[Nr(r.collect,o,n),as(n),cs(n)]}function Os(t){return p.exports.useMemo(()=>t.hooks.dropTarget(),[t])}function Cs(t){const e=ke(),r=p.exports.useMemo(()=>new vs(e.getBackend()),[e]);return Se(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function Is(){const t=ke();return p.exports.useMemo(()=>new ls(t),[t])}function ws(t){const{accept:e}=t;return p.exports.useMemo(()=>(E(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Ns{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function Ps(t,e){const r=p.exports.useMemo(()=>new Ns(t,e),[e]);return p.exports.useEffect(()=>{r.spec=t},[t]),r}function _s(t,e,r){const o=ke(),n=Ps(t,e),i=ws(t);Se(function(){const[u,d]=ds(i,n,o);return e.receiveHandlerId(u),r.receiveHandlerId(u),d},[o,e,n,r,i.map(s=>s.toString()).join("|")])}function or(t,e){const r=Pr(t,e),o=Is(),n=Cs(r.options);return _s(r,o,n),[Nr(r.collect,o,n),Os(n)]}function Rr(t){let e=null;return()=>(e==null&&(e=t()),e)}function Rs(t,e){return t.filter(r=>r!==e)}function Ms(t,e){const r=new Set,o=i=>r.add(i);t.forEach(o),e.forEach(o);const n=[];return r.forEach(i=>n.push(i)),n}class ks{enter(e){const r=this.entered.length,o=n=>this.isNodeInDocument(n)&&(!n.contains||n.contains(e));return this.entered=Ms(this.entered.filter(o),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Rs(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class js{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(o=>{const n=this.config.exposeProperties[o];n!=null&&(r[o]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Mr="__NATIVE_FILE__",kr="__NATIVE_URL__",jr="__NATIVE_TEXT__",Lr="__NATIVE_HTML__";var ir=Object.freeze(Object.defineProperty({__proto__:null,FILE:Mr,URL:kr,TEXT:jr,HTML:Lr},Symbol.toStringTag,{value:"Module"}));function ft(t,e,r){const o=e.reduce((n,i)=>n||t.getData(i),"");return o!=null?o:r}const yt={[Mr]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Lr]:{exposeProperties:{html:(t,e)=>ft(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[kr]:{exposeProperties:{urls:(t,e)=>ft(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[jr]:{exposeProperties:{text:(t,e)=>ft(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Ls(t,e){const r=yt[t];if(!r)throw new Error(`native type ${t} has no configuration`);const o=new js(r);return o.loadDataTransfer(e),o}function pt(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(yt).filter(r=>{const o=yt[r];return o!=null&&o.matchesTypes?o.matchesTypes.some(n=>e.indexOf(n)>-1):!1})[0]||null}const $s=Rr(()=>/firefox/i.test(navigator.userAgent)),$r=Rr(()=>Boolean(window.safari));class sr{interpolate(e){const{xs:r,ys:o,c1s:n,c2s:i,c3s:s}=this;let u=r.length-1;if(e===r[u])return o[u];let d=0,f=s.length-1,m;for(;d<=f;){m=Math.floor(.5*(d+f));const h=r[m];if(h<e)d=m+1;else if(h>e)f=m-1;else return o[m]}u=Math.max(0,f);const x=e-r[u],y=x*x;return o[u]+n[u]*x+i[u]*y+s[u]*x*y}constructor(e,r){const{length:o}=e,n=[];for(let h=0;h<o;h++)n.push(h);n.sort((h,O)=>e[h]<e[O]?-1:1);const i=[],s=[];let u,d;for(let h=0;h<o-1;h++)u=e[h+1]-e[h],d=r[h+1]-r[h],i.push(u),s.push(d/u);const f=[s[0]];for(let h=0;h<i.length-1;h++){const O=s[h],v=s[h+1];if(O*v<=0)f.push(0);else{u=i[h];const b=i[h+1],w=u+b;f.push(3*w/((w+b)/O+(w+u)/v))}}f.push(s[s.length-1]);const m=[],x=[];let y;for(let h=0;h<f.length-1;h++){y=s[h];const O=f[h],v=1/i[h],b=O+f[h+1]-y-y;m.push((y-O-b)*v),x.push(b*v*v)}this.xs=e,this.ys=r,this.c1s=f,this.c2s=m,this.c3s=x}}const As=1;function Ar(t){const e=t.nodeType===As?t:t.parentElement;if(!e)return null;const{top:r,left:o}=e.getBoundingClientRect();return{x:o,y:r}}function Xe(t){return{x:t.clientX,y:t.clientY}}function Fs(t){var e;return t.nodeName==="IMG"&&($s()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Hs(t,e,r,o){let n=t?e.width:r,i=t?e.height:o;return $r()&&t&&(i/=window.devicePixelRatio,n/=window.devicePixelRatio),{dragPreviewWidth:n,dragPreviewHeight:i}}function Us(t,e,r,o,n){const i=Fs(e),u=Ar(i?t:e),d={x:r.x-u.x,y:r.y-u.y},{offsetWidth:f,offsetHeight:m}=t,{anchorX:x,anchorY:y}=o,{dragPreviewWidth:h,dragPreviewHeight:O}=Hs(i,e,f,m),v=()=>{let z=new sr([0,.5,1],[d.y,d.y/m*O,d.y+O-m]).interpolate(y);return $r()&&i&&(z+=(window.devicePixelRatio-1)*O),z},b=()=>new sr([0,.5,1],[d.x,d.x/f*h,d.x+h-f]).interpolate(x),{offsetX:w,offsetY:R}=n,D=w===0||w,q=R===0||R;return{x:D?w:b(),y:q?R:v()}}class Vs{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function zs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(n){zs(t,n,r[n])})}return t}class Bs{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,o){return this.sourcePreviewNodeOptions.set(e,o),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,o){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,o);const n=s=>this.handleDragStart(s,e),i=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",n),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",n),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const o=s=>this.handleDragEnter(s,e),n=s=>this.handleDragOver(s,e),i=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",o),r.addEventListener("dragover",n),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",o),r.removeEventListener("dragover",n),r.removeEventListener("drop",i)}}addEventListeners(e){!e.addEventListener||(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){!e.removeEventListener||(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return ar({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return ar({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ir).some(r=>ir[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ls(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var o;return(o=this.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,o){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=n=>{const i=this.sourceNodes.get(n);return i&&Ar(i)||null},this.endDragNativeItem=()=>{!this.isDraggingNativeItem()||(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=n=>Boolean(n&&this.document&&this.document.body&&this.document.body.contains(n)),this.endDragIfSourceWasRemovedFromDOM=()=>{const n=this.currentDragSourceNode;n==null||this.isNodeInDocument(n)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=n=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(n||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=n=>{if(n.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=Xe(n);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:u}=n,d=pt(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const m=this.monitor.getSourceId(),x=this.sourceNodes.get(m),y=this.sourcePreviewNodes.get(m)||x;if(y){const{anchorX:h,anchorY:O,offsetX:v,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),D=Us(x,y,s,{anchorX:h,anchorY:O},{offsetX:v,offsetY:b});u.setDragImage(y,D.x,D.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(n.target);const{captureDraggingState:f}=this.getCurrentSourcePreviewNodeOptions();f?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(u&&!u.types&&(n.target&&!n.target.hasAttribute||!n.target.hasAttribute("draggable")))return;n.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=n=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(n.dataTransfer)}if(!this.enterLeaveCounter.enter(n.target)||this.monitor.isDragging())return;const{dataTransfer:u}=n,d=pt(u);d&&this.beginDragNativeItem(d,u)},this.handleTopDragEnter=n=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=n.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Xe(n)}),i.some(u=>this.monitor.canDropOnTarget(u))&&(n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=n=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(n.dataTransfer)}},this.handleTopDragOver=n=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="none");return}this.altKeyPressed=n.altKey,this.lastClientOffset=Xe(n),this.scheduleHover(i),(i||[]).some(u=>this.monitor.canDropOnTarget(u))?(n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?n.preventDefault():(n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=n=>{this.isDraggingNativeItem()&&n.preventDefault(),this.enterLeaveCounter.leave(n.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=n=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;n.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(n.dataTransfer)}else pt(n.dataTransfer)&&n.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=n=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Xe(n)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=n=>{const i=n.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(n.preventDefault(),i.dragDrop()))},this.options=new Vs(r,o),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new ks(this.isNodeInDocument)}}const qs=function(e,r,o){return new Bs(e,r,o)};var L="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\nodetree\\App.tsx";class Gs extends p.exports.Component{constructor(e){super(e),this.state={snackbar_open:!1,status:!1}}render(){return j.exports.jsxDEV(p.exports.Fragment,{children:j.exports.jsxDEV(vn,{title:"\u4FDD\u5B58",children:j.exports.jsxDEV(Pn,{size:"small",onClick:()=>this.props.save_func(),children:j.exports.jsxDEV(kn,{fontSize:"small",color:"primary"},void 0,!1,{fileName:L,lineNumber:49,columnNumber:21},this)},void 0,!1,{fileName:L,lineNumber:48,columnNumber:37},this)},void 0,!1,{fileName:L,lineNumber:48,columnNumber:13},this)},void 0,!1,{fileName:L,lineNumber:47,columnNumber:16},this)}}function Fr(t,e){return e.secret?!0:e.father_id>0?Fr(t,t.id2node(e.father_id)):!1}class Ws extends p.exports.Component{constructor(r){super(r);He(this,"raw_nodetree");this.state={nodetree:new Tt([]),expanded:[]}}async componentDidMount(){let r=[];Ue.shallow?r=await st.get.shallowtree(Ue.node_id):r=await st.get.nodetree(Ue.node_id),this.setState({nodetree:this.state.nodetree.update_rawinfo(r,Ue.node_id),expanded:Object.values(r).map(o=>o[1])}),this.raw_nodetree=r}move_node(r,o,n){let i=this.state.nodetree.deepcopy(),s=r.idx_in_father,u=i.id2node(r.father_id);o=i.id2node(o.my_id),r=i.id2node(r.my_id),u.my_id==o.my_id&&s<n&&n--;let d=u.sons;u.sons=[...d.slice(0,s),...d.slice(s+1,d.length)];let f=o.sons;o.sons=[...f.slice(0,n),r,...f.slice(n,f.length)],r.father_id=o.my_id,this.setState({nodetree:i})}DroppableSpace(r){let o=this,n=r.node,i=r.expect_idx,s=this.state.nodetree;const[{is_over_can_drop:u},d]=or(()=>({accept:"treeitem",drop:(f,m)=>{!m.isOver({shallow:!0})||o.move_node(f,n,i)},collect:f=>({is_over_can_drop:f.isOver({shallow:!0})&&f.canDrop()}),canDrop:f=>n.my_id!=f.my_id&&!s.is_son(f.my_id,n.my_id)}));return j.exports.jsxDEV(we,{ref:d,sx:{border:u?"1px dashed grey":"0",height:"6px"}},void 0,!1,{fileName:L,lineNumber:173,columnNumber:16},this)}DragableTreeItem(r){let o=this,n=r.node,i=n.my_id,s=n.father_id,u=r.idx_in_father,d=this.state.nodetree,f=this.DroppableSpace.bind(this),m=Fr(this.state.nodetree,n);const[{is_dragging:x},y]=Ts(()=>({type:"treeitem",item:{...n,idx_in_father:u},collect:b=>({is_dragging:b.isDragging()})})),[{is_over:h,can_drop:O},v]=or(()=>({accept:"treeitem",drop:(b,w)=>{!w.isOver({shallow:!0})||b.my_id!=n.my_id&&o.move_node(b,n,n.sons.length)},collect:b=>({is_over:b.isOver({shallow:!0}),can_drop:b.canDrop()}),canDrop:b=>n.my_id==b.my_id||!d.is_son(b.my_id,n.my_id)}));return j.exports.jsxDEV(we,{ref:v,sx:{border:h&&O?"1px dashed grey":"0"},children:[j.exports.jsxDEV(f,{node:d.id2node(s),expect_idx:u},void 0,!1,{fileName:L,lineNumber:233,columnNumber:13},this),j.exports.jsxDEV(Oo,{label:j.exports.jsxDEV(we,{color:m?"text.secondary":"text.primary",children:j.exports.jsxDEV(hn,{force_direction:"row",children:[j.exports.jsxDEV(wn,{sx:{marginY:"auto"},children:["[",i,"] ",j.exports.jsxDEV(gn,{node_id:i},void 0,!1,{fileName:L,lineNumber:239,columnNumber:70},this)]},void 0,!0,{fileName:L,lineNumber:239,columnNumber:25},this),j.exports.jsxDEV(Yn,{onClick:b=>{b.stopPropagation()},defaultChecked:n.secret,onChange:b=>{let w=this.state.nodetree.deepcopy();w.id2node(i).secret=b.target.checked,this.setState({nodetree:w})}},void 0,!1,{fileName:L,lineNumber:240,columnNumber:25},this),j.exports.jsxDEV(Nn,{href:mn(`/edit/content/${i}`),children:"\u7F16\u8F91"},void 0,!1,{fileName:L,lineNumber:249,columnNumber:25},this)]},void 0,!0,{fileName:L,lineNumber:238,columnNumber:22},this)},void 0,!1,{fileName:L,lineNumber:236,columnNumber:21},this),nodeId:`${i}`,ref:y,onFocusCapture:b=>b.stopPropagation(),sx:{cursor:"move",opacity:x?.5:1},children:[r.children,j.exports.jsxDEV(f,{node:n,expect_idx:n.sons.length},void 0,!1,{fileName:L,lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:L,lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:L,lineNumber:227,columnNumber:16},this)}get_subtree(r){let o=this,n=this.DragableTreeItem.bind(this);return j.exports.jsxDEV(j.exports.Fragment,{children:Object.values(r.sons).map((i,s)=>j.exports.jsxDEV(n,{node:i,idx_in_father:s,children:o.get_subtree(i)},`${s}`,!1,{fileName:L,lineNumber:276,columnNumber:20},this))},void 0,!1)}async save_nodetree(){let o=this.raw_nodetree.reduce((d,f)=>{let[m,x,y,h]=f;return d[m]=[x,y,h],d},{}),n=this.state.nodetree.get_raw(),i=[];for(let[d,f,m,x]of n){let y=[f,m,x];JSON.stringify(y)!=JSON.stringify(o[d])&&i.push([d,f,m,x])}console.log(i.length);let s=!0,u=50;for(let d=0;d<i.length;d+=u)s=s&&await st.post.nodetree({nodetree:i.slice(d,d+u)},Ue.node_id),console.log(`${d} / ${i.length}`),console.log(s);return s}render(){let r=this,o=this.state.nodetree;return j.exports.jsxDEV(we,{sx:{position:"absolute",top:"2%",left:"2%",height:"96%",width:"96%",display:"flex"},children:[j.exports.jsxDEV(we,{sx:{marginRight:"1%"},children:j.exports.jsxDEV(Gs,{save_func:r.save_nodetree.bind(r)},void 0,!1,{fileName:L,lineNumber:329,columnNumber:5},this)},void 0,!1,{fileName:L,lineNumber:326,columnNumber:13},this),j.exports.jsxDEV(we,{sx:{position:"relative",width:"100%",flex:1},children:[j.exports.jsxDEV(Ft,{},void 0,!1,{fileName:L,lineNumber:337,columnNumber:17},this),j.exports.jsxDEV(ts,{backend:qs,children:j.exports.jsxDEV(Mo,{expanded:Object.values(r.state.expanded).map(n=>`${n}`),onNodeToggle:(n,i)=>{r.setState({expanded:i})},defaultCollapseIcon:j.exports.jsxDEV(eo,{},void 0,!1,{fileName:L,lineNumber:341,columnNumber:44},this),defaultExpandIcon:j.exports.jsxDEV(Zn,{},void 0,!1,{fileName:L,lineNumber:342,columnNumber:42},this),children:r.get_subtree(o.get_root())},void 0,!1,{fileName:L,lineNumber:338,columnNumber:53},this)},void 0,!1,{fileName:L,lineNumber:338,columnNumber:17},this),j.exports.jsxDEV(Ft,{},void 0,!1,{fileName:L,lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:L,lineNumber:332,columnNumber:13},this)]},void 0,!0,{fileName:L,lineNumber:318,columnNumber:16},this)}}var Ks="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\nodetree\\main.tsx";Ve.render(j.exports.jsxDEV(Ws,{},void 0,!1,{fileName:Ks,lineNumber:6,columnNumber:2},globalThis),document.getElementById("root"));
