var Tt=Object.defineProperty,Nt=Object.defineProperties;var Pt=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable;var ge=(r,e,t)=>e in r?Tt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))jt.call(e,t)&&ge(r,t,e[t]);if(Ce)for(var t of Ce(e))Mt.call(e,t)&&ge(r,t,e[t]);return r},F=(r,e)=>Nt(r,Pt(e));var d=(r,e,t)=>(ge(r,typeof e!="symbol"?e+"":e,t),t);import{g as Qe,a as Ye,s as et,_ as P,u as tt,K as It,b as rt,d as nt,e as it,L as ae,M as be,h as Rt,N as Gt,J as lt,O as Wt,Q as zt,A as E,R as j,S as ye,U as R,V as oe,W as we,X as K,Y as G,Z as Se,$ as se,a0 as ue,a1 as at,a2 as q,p as Z,a3 as ce,a4 as u,T as Q,a5 as ot,P as st,a6 as Ot,B as ne,o as De,q as Te,v as Ne,a7 as Lt,a8 as Ut,a9 as Jt,l as ut,aa as ie,ab as ct,ac as xe,ad as Ht,ae as le,af as k,ag as Xt,ah as Vt,ai as Kt,aj as dt,ak as ht,al as qt,I as Fe,am as ft,an as Zt,ao as Qt,ap as Pe,k as je,aq as pe,ar as Yt}from"./snackbar.3cac17a8.js";import{r as V,j as l,b as p,F as b,a as w}from"./jsx-runtime.71fbd6ab.js";const er=V.exports.createContext();var Me=er;function tr(r){return Qe("MuiGrid",r)}const rr=[0,1,2,3,4,5,6,7,8,9,10],nr=["column-reverse","column","row-reverse","row"],ir=["nowrap","wrap-reverse","wrap"],L=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],$e=Ye("MuiGrid",["root","container","item","zeroMinWidth",...rr.map(r=>`spacing-xs-${r}`),...nr.map(r=>`direction-xs-${r}`),...ir.map(r=>`wrap-xs-${r}`),...L.map(r=>`grid-xs-${r}`),...L.map(r=>`grid-sm-${r}`),...L.map(r=>`grid-md-${r}`),...L.map(r=>`grid-lg-${r}`),...L.map(r=>`grid-xl-${r}`)]),lr=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function I(r){const e=parseFloat(r);return`${e}${String(r).replace(String(e),"")||"px"}`}function ar({theme:r,ownerState:e}){let t;return r.breakpoints.keys.reduce((n,i)=>{let a={};if(e[i]&&(t=e[i]),!t)return n;if(t===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(t==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=ae({values:e.columns,breakpoints:r.breakpoints.values}),s=typeof o=="object"?o[i]:o;if(s==null)return n;const c=`${Math.round(t/s*1e8)/1e6}%`;let x={};if(e.container&&e.item&&e.columnSpacing!==0){const _=r.spacing(e.columnSpacing);if(_!=="0px"){const f=`calc(${c} + ${I(_)})`;x={flexBasis:f,maxWidth:f}}}a=P({flexBasis:c,flexGrow:0,maxWidth:c},x)}return r.breakpoints.values[i]===0?Object.assign(n,a):n[r.breakpoints.up(i)]=a,n},{})}function or({theme:r,ownerState:e}){const t=ae({values:e.direction,breakpoints:r.breakpoints.values});return be({theme:r},t,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${$e.item}`]={maxWidth:"none"}),i})}function sr({theme:r,ownerState:e}){const{container:t,rowSpacing:n}=e;let i={};if(t&&n!==0){const a=ae({values:n,breakpoints:r.breakpoints.values});i=be({theme:r},a,o=>{const s=r.spacing(o);return s!=="0px"?{marginTop:`-${I(s)}`,[`& > .${$e.item}`]:{paddingTop:I(s)}}:{}})}return i}function ur({theme:r,ownerState:e}){const{container:t,columnSpacing:n}=e;let i={};if(t&&n!==0){const a=ae({values:n,breakpoints:r.breakpoints.values});i=be({theme:r},a,o=>{const s=r.spacing(o);return s!=="0px"?{width:`calc(100% + ${I(s)})`,marginLeft:`-${I(s)}`,[`& > .${$e.item}`]:{paddingLeft:I(s)}}:{}})}return i}function _t(r,e,t={}){if(!e||!r||r<=0)return[];if(typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number")return[t[`spacing-xs-${String(r)}`]||`spacing-xs-${String(r)}`];const{xs:n,sm:i,md:a,lg:o,xl:s}=r;return[Number(n)>0&&(t[`spacing-xs-${String(n)}`]||`spacing-xs-${String(n)}`),Number(i)>0&&(t[`spacing-sm-${String(i)}`]||`spacing-sm-${String(i)}`),Number(a)>0&&(t[`spacing-md-${String(a)}`]||`spacing-md-${String(a)}`),Number(o)>0&&(t[`spacing-lg-${String(o)}`]||`spacing-lg-${String(o)}`),Number(s)>0&&(t[`spacing-xl-${String(s)}`]||`spacing-xl-${String(s)}`)]}const cr=et("div",{name:"MuiGrid",slot:"Root",overridesResolver:(r,e)=>{const{container:t,direction:n,item:i,lg:a,md:o,sm:s,spacing:c,wrap:x,xl:_,xs:f,zeroMinWidth:g}=r.ownerState;return[e.root,t&&e.container,i&&e.item,g&&e.zeroMinWidth,..._t(c,t,e),n!=="row"&&e[`direction-xs-${String(n)}`],x!=="wrap"&&e[`wrap-xs-${String(x)}`],f!==!1&&e[`grid-xs-${String(f)}`],s!==!1&&e[`grid-sm-${String(s)}`],o!==!1&&e[`grid-md-${String(o)}`],a!==!1&&e[`grid-lg-${String(a)}`],_!==!1&&e[`grid-xl-${String(_)}`]]}})(({ownerState:r})=>P({boxSizing:"border-box"},r.container&&{display:"flex",flexWrap:"wrap",width:"100%"},r.item&&{margin:0},r.zeroMinWidth&&{minWidth:0},r.wrap!=="wrap"&&{flexWrap:r.wrap}),or,sr,ur,ar),dr=r=>{const{classes:e,container:t,direction:n,item:i,lg:a,md:o,sm:s,spacing:c,wrap:x,xl:_,xs:f,zeroMinWidth:g}=r,y={root:["root",t&&"container",i&&"item",g&&"zeroMinWidth",..._t(c,t),n!=="row"&&`direction-xs-${String(n)}`,x!=="wrap"&&`wrap-xs-${String(x)}`,f!==!1&&`grid-xs-${String(f)}`,s!==!1&&`grid-sm-${String(s)}`,o!==!1&&`grid-md-${String(o)}`,a!==!1&&`grid-lg-${String(a)}`,_!==!1&&`grid-xl-${String(_)}`]};return nt(y,tr,e)},hr=V.exports.forwardRef(function(e,t){const n=tt({props:e,name:"MuiGrid"}),i=It(n),{className:a,columns:o,columnSpacing:s,component:c="div",container:x=!1,direction:_="row",item:f=!1,lg:g=!1,md:y=!1,rowSpacing:m,sm:v=!1,spacing:$=0,wrap:O="wrap",xl:M=!1,xs:$t=!1,zeroMinWidth:Et=!1}=i,kt=rt(i,lr),At=m||$,Bt=s||$,Ct=V.exports.useContext(Me),Ae=x?o||12:Ct,Be=P({},i,{columns:Ae,container:x,direction:_,item:f,lg:g,md:y,sm:v,rowSpacing:At,columnSpacing:Bt,wrap:O,xl:M,xs:$t,zeroMinWidth:Et}),Dt=dr(Be);return l(Me.Provider,{value:Ae,children:l(cr,P({ownerState:Be,className:it(Dt.root,a),as:c,ref:t},kt))})});var N=hr;function fr(r){return Qe("MuiToolbar",r)}Ye("MuiToolbar",["root","gutters","regular","dense"]);const _r=["className","component","disableGutters","variant"],mr=r=>{const{classes:e,disableGutters:t,variant:n}=r;return nt({root:["root",!t&&"gutters",n]},fr,e)},gr=et("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(({theme:r,ownerState:e})=>P({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:r,ownerState:e})=>e.variant==="regular"&&r.mixins.toolbar),pr=V.exports.forwardRef(function(e,t){const n=tt({props:e,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:o=!1,variant:s="regular"}=n,c=rt(n,_r),x=P({},n,{component:a,disableGutters:o,variant:s}),_=mr(x);return l(gr,P({as:a,className:it(_.root,i),ref:t,ownerState:x},c))});var xr=pr,Y=Rt(l("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");class wn{constructor(e){d(this,"styles");d(this,"notifications");this.styles={inline:{},group:{},struct:{},support:{},abstract:{}};for(let t of e)this.add_style(t);this.notifications={}}add_notificatioon(e,t){this.notifications[t]=e}remove_notificatioon(e){delete this.notifications[e]}add_style(e){this.styles[e.type][e.name]=e}get_style(e,t){return this.styles[e][t]}}class de{constructor(e,t,n={},i={}){d(this,"type","inline");d(this,"name");d(this,"parameter_prototype");d(this,"flags");d(this,"makenode");d(this,"parameter_labels");this.name=e,this.parameter_prototype=t,this.flags=i,this.parameter_labels=n,this.makenode=()=>Gt(e,t,i)}}class B{constructor(e,t,n={},i={}){d(this,"type","group");d(this,"name");d(this,"parameter_prototype");d(this,"flags");d(this,"makenode");d(this,"parameter_labels");this.name=e,this.parameter_prototype=t,this.flags=i,this.parameter_labels=n,this.makenode=()=>lt(e,t,i)}}class vr{constructor(e,t,n={},i={}){d(this,"type","struct");d(this,"name");d(this,"parameter_prototype");d(this,"flags");d(this,"makenode");d(this,"parameter_labels");this.name=e,this.parameter_prototype=t,this.flags=i,this.parameter_labels=n,this.makenode=()=>Wt(e,t,i)}}class he{constructor(e,t,n={},i={}){d(this,"type","support");d(this,"name");d(this,"parameter_prototype");d(this,"flags");d(this,"makenode");d(this,"parameter_labels");this.name=e,this.parameter_prototype=t,this.flags=i,this.parameter_labels=n,this.makenode=()=>zt(e,t,i)}}class br{constructor(e,t,n={}){d(this,"type","abstract");d(this,"name");d(this,"parameter_prototype");d(this,"flags");d(this,"makehidden");d(this,"parameter_labels");this.name=e,this.parameter_prototype=t,this.parameter_labels=n,this.flags={},this.makehidden=()=>lt(e,t)}}class Sn{constructor(e,t={}){d(this,"core");d(this,"default_vals");d(this,"styled_vals");this.core=e,this.default_vals=t,this.styled_vals={inline:{},group:{},struct:{},support:{}}}get(e,t=void 0){return t==null?this.default_vals[e]:this.styled_vals[e][t]||this.default_vals[e]}set(e,t,n=void 0){if(n==null){this.default_vals[t]=e;return}this.styled_vals[t][n]=e}}class yr{constructor(e,t,n,i){d(this,"name");d(this,"target_style");d(this,"fixed_parameters");d(this,"default_parameters");this.name=e,this.target_style=t,this.fixed_parameters=n,this.default_parameters=i}get_proxy_parameters(e){let t={},n=(a,o)=>{if(typeof a!="object"||a.length!=null)return o;let s=h({},a);for(let c in o)o[c]!=null&&(o[c]=="object",s[c]=h(h({},s[c]),o[c]));return s},i=n(n(this.target_style.parameter_prototype,this.default_parameters),e);for(let a in i)this.fixed_parameters[a]==null&&(t[a]=n(t[a],i[a]));return t}get_real_parameters(e){let t={},n=this.target_style.parameter_prototype;for(let i in n)if(this.fixed_parameters[i]!=null){let a=this.fixed_parameters[i];if(a.type=="function"){let s=new Function(`return ${a.val}`)()(e);t[i]={val:s,type:typeof s}}else t[i]=a}else e[i]==null?this.default_parameters[i]==null?t[i]=n[i]:t[i]=this.default_parameters[i]:t[i]=e[i];return t}makenode(){let e=this.target_style.makenode();return e.proxy_info.proxy_name=this.name,e.proxy_info.proxy_params=this.get_proxy_parameters(e.parameters),e.parameters=this.get_real_parameters(e.proxy_info.proxy_params),e}makehidden(){let e=this.target_style.makehidden();return e.proxy_info.proxy_name=this.name,e.proxy_info.proxy_params=this.get_proxy_parameters(e.parameters),e.parameters=this.get_real_parameters(e.proxy_info.proxy_params),e}get_styletype(){return this.target_style.type}get_stylename(){return this.target_style.name}}let mt=r=>l(ce,F(h({},r),{sx:r.element.relation=="chaining"?{marginTop:"0"}:{}}));function gt({get_label:r=n=>u(n,"label"),appbar_extra:e=n=>l(b,{}),surrounder:t=n=>l(b,{children:n.children})}){return n=>{let i=n.element,a=n.editor,o=r(i);return l(mt,{element:i,children:p(E,{force_direction:"column",children:[l(j,{children:l(xr,{sx:{overflow:"auto"},children:p(E,{children:[l(ye,{children:o}),l(R,{editor:a,element:i}),l(oe,{editor:a,element:i}),l(we,{editor:a,element:i}),l(K,{editor:a,element:i}),l(G,{editor:a,element:i}),l(Se,{editor:a,element:i}),l(e,{editor:a,element:i})]})})}),l(se,{}),l(ue,{autogrow:!0,children:l(t,{editor:a,element:i,children:n.children})})]})})}}function W({get_label:r=n=>u(n,"label"),rightbar_extra:e=n=>l(b,{}),surrounder:t=n=>l(b,{children:n.children})}){return n=>{let i=n.element,a=n.editor,o=r(i),s=e;return l(mt,{element:i,children:p(at,{force_direction:"row",children:[l(ue,{autogrow:!0,children:l(t,{editor:a,element:i,children:n.children})}),l(j,{sx:{textAlign:"center"},children:p(E,{children:[l(s,{editor:a,element:i}),l(ye,{variant:"overline",children:o}),p(q,{close_on_otherclick:!0,button_class:Z,button_props:{size:"small",children:l(Y,{fontSize:"small"})},title:"\u5C55\u5F00",children:[l(R,{editor:a,element:i}),l(oe,{editor:a,element:i}),l(we,{editor:a,element:i}),l(G,{editor:a,element:i}),l(Se,{editor:a,element:i}),l(K,{editor:a,element:i})]})]})})]})})}}function fe({get_label:r=n=>u(n,"label"),surrounder:e=n=>l(w.Fragment,{children:n.children}),rightbar_extra:t=n=>l(b,{})}){return n=>{let i=n.element,a=n.editor,o=r(i),s=t;return l(ce,{is_inline:!0,children:p(E,{force_direction:"row",children:[l(ue,{children:l(e,{editor:a,element:i,children:n.children})}),l(j,{children:p(E,{force_direction:"row",children:[l(s,{editor:a,element:i}),p(q,{close_on_otherclick:!0,button_class:Z,button_props:{sx:{height:"1rem",width:"1rem",margin:"0"},children:l(Y,{sx:{height:"1rem"}})},title:"\u5C55\u5F00"+(o?` / ${o}`:""),children:[l(Q,{children:o}),l(R,{editor:a,element:i}),l(oe,{editor:a,element:i}),l(G,{editor:a,element:i})]})]})})]})})}}function wr(r){let e=r.element,t=r.editor,[n,i]=w.useState(!1),[a,o]=w.useState(!1),s=l(st,{sx:{height:"5px"},variant:"outlined"});return l(j,{children:l(ot,{children:p(Ot.Provider,{value:"row",children:[r.children,p(N,{container:!0,spacing:2,children:[l(N,{item:!0,xs:6,children:l(ne,{onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),children:(()=>n?l(De,{title:"\u5411\u4E0A\u6DFB\u52A0\u6BB5\u843D",children:l(Te,{onClick:c=>{t.add_nodes_before(Ne(),e)},size:"small",variant:"outlined",fullWidth:!0,children:l(Lt,{fontSize:"small"})})}):s)()})}),l(N,{item:!0,xs:6,children:l(ne,{onMouseOver:()=>o(!0),onMouseOut:()=>o(!1),children:(()=>a?l(De,{title:"\u5411\u4E0B\u6DFB\u52A0\u6BB5\u843D",children:l(Te,{onClick:c=>{t.add_nodes_after(Ne(),e)},size:"small",variant:"outlined",fullWidth:!0,children:l(Ut,{fontSize:"small"})})}):s)()})})]})]})})})}function pt({get_title:r=e=>u(e,"title")}){return e=>{let t=e.editor,n=e.element,i=r(n);return l(j,{children:l(ot,{children:p(se,{children:[l(st,{variant:"outlined",children:p(E,{force_direction:"row",children:[l(Q,{children:i}),p(q,{close_on_otherclick:!0,button_class:Z,button_props:{size:"small",children:l(Y,{fontSize:"small"})},title:"\u5C55\u5F00",children:[l(R,{editor:e.editor,element:e.element}),l(K,{editor:t,element:n}),l(G,{editor:t,element:n})]})]})}),e.children]})})})}}function Sr({get_label:r=n=>u(n,"label"),is_empty:e=n=>!!u(n,"url"),render_element:t=n=>l("img",{src:u(n.element,"url")})}){return n=>{let i=n.editor,a=n.element,o=r(a),s=t;return p(ce,{is_inline:!0,children:[n.children,l(j,{children:p(E,{force_direction:"row",children:[e(a)?l(s,{element:a}):o,p(q,{close_on_otherclick:!0,button_class:Z,button_props:{sx:{height:"1rem",width:"1rem",margin:"0"},children:l(Y,{sx:{height:"1rem"}})},title:"\u5C55\u5F00"+(o?` / ${o}`:""),children:[l(Q,{children:o}),l(R,{editor:i,element:a}),l(K,{editor:i,element:a}),l(G,{editor:i,element:a})]})]})})]})}}function Fr(r){return l(Jt,{children:r.children})}let $r=r=>l(ce,F(h({},r),{sx:r.element.relation=="chaining"?{marginTop:"0"}:{}}));function Er({get_label:r=i=>u(i,"label"),get_widths:e=(i,a)=>[],rightbar_extra:t=i=>l(b,{}),surrounder:n=i=>l(b,{children:i.children})}){return i=>{let a=i.element,o=i.editor,s=r(a),c=t,x=n,_=a.children,f=e(a.num_children,a);for(f=f.splice(0,_.length);f.length<_.length;)f.push(1);let g=f.reduce((v,$)=>v+$,0),[y,m]=w.useState(a.num_children);return w.useEffect(()=>{o.add_delay_operation(`${a.idx}-struct`,()=>{o.set_node(a,{num_children:y})})}),l($r,{element:a,children:p(E,{force_direction:"row",children:[l(N,{container:!0,columns:g,sx:{width:"100%"},children:f.map((v,$)=>l(N,{item:!0,xs:v,sx:{borderRight:$==_.length-1?"none":"1px solid"},children:l(ue,{autogrow:!0,children:l(x,{editor:o,element:a,children:i.children[$]})})},$))}),l(j,{children:p(at,{children:[l(ye,{variant:"overline",children:s}),l(c,{editor:o,element:a}),p(q,{close_on_otherclick:!0,button_class:Z,button_props:{size:"small",children:l(Y,{fontSize:"small"})},title:"\u5C55\u5F00",onClose:()=>{o.apply_delay_operations()},children:[l(R,{editor:o,element:a}),l(oe,{editor:o,element:a}),l(we,{editor:o,element:a}),l(G,{editor:o,element:a}),l(Se,{editor:o,element:a,puretext:!0}),l(K,{editor:o,element:a}),l(ut,{sx:{width:"5rem"},type:"number",label:"number of children",defaultValue:a.num_children,onChange:v=>{m(parseInt(v.target.value))}})]})]})})]})})}}class _e{constructor(e,t,n){d(this,"env_key");d(this,"context_key");d(this,"_default_val");this.env_key=e,this.context_key=t,this._default_val=n}enter_effect(e,t,n){return[t,{}]}exit_effect(e,t,n){return[t,n]}ensure_env(e){return e[this.env_key]==null&&(e[this.env_key]=this._default_val),e}get_env(e){return e=this.ensure_env(e),e[this.env_key]}set_env(e,t){return e=this.ensure_env(e),e[this.env_key]=t,e}check_context(e){return e[this.context_key]!=null}get_context(e){return e[this.context_key]}set_context(e,t){return e[this.context_key]=t,e}make_context(e){return{[this.context_key]:e}}fuse_result(e,t){let[n,i]=e,[a,o]=t;return[a,h(h({},i),o)]}enter_fuse(e,t,n){return this.fuse_result([t,n],this.enter_effect(e,t,n))}exit_fuse(e,t,n){return this.fuse_result([t,n],this.exit_effect(e,t,n))}}class me extends _e{constructor(e,t,n=(i,a,o)=>!1){t==null&&(t=e);super(e,t,[0]);d(this,"clear_order");this.clear_order=n}enter_effect(e,t,n){t=this.ensure_env(t);let i=[...this.get_env(t)];this.clear_order(e,t)&&(i[i.length-1]=0),i[i.length-1]++;let a=[...i,0];return[this.set_env(t,a),this.make_context(i)]}exit_effect(e,t,n){let i=this.get_env(t);return i=i.slice(0,i.length-1),[this.set_env(t,i),n]}}class xt extends _e{constructor(e,t,n,i){super(e,t,{pre:[],suf:[]});d(this,"pre_inject");d(this,"suf_inject");this.pre_inject=n||(a=>l(b,{})),this.suf_inject=i||(a=>l(b,{}))}enter_effect(e,t,n){let i=this.pre_inject,a=this.suf_inject,o=this.get_env(t);return t=this.set_env(t,{pre:[...o.pre,l(i,{element:e,context:n})],suf:[...o.suf,l(a,{element:e,context:n})]}),[t,n]}exit_effect(e,t,n){return[t,n]}}class kr extends _e{constructor(e,t){super(e,t,{pre:[],suf:[]})}enter_effect(e,t,n){let i=this.get_env(t);return t=this.set_env(t,{pre:[],suf:[]}),[t,this.make_context(i)]}}class Ee extends _e{constructor(e,t,n={}){t==null&&(t=e);super(e,t,[void 0,n]);d(this,"information");this.information=n}enter_effect(e,t,n){return n=this.set_context(n,this.get_env(t)),t=this.set_env(t,[void 0,{}]),[t,n]}exit_effect(e,t,n){return t=this.set_env(t,[e,this.information]),[t,n]}}function vt(r={}){return e=>{let t=e.element,n=!1;(t.type=="struct"||t.type=="group")&&(n=t.relation=="chaining");let i={marginTop:a=>ct(a.printer.margins.special,.5)};return r.small_margin&&(i={}),l(ie,F(h({sx:n?i:{}},r),{children:e.children}))}}function C({small_margin_enter:r=!1,small_margin_exit:e=!1,extra_effectors:t=[],inject_pre:n=s=>l(b,{}),inject_suf:i=s=>l(b,{}),outer:a=void 0,inner:o=s=>l(b,{children:s.children})}){let s=a||vt({small_margin:r}),c=o,x=new xt("global-injector","global-injector",n,i),_=new Ee("global-brother","global-brother",{small_margin:e});return{render_func:f=>{let g=f.element;return l(s,{element:g,context:f.context,children:l(c,{element:g,context:f.context,children:f.children})})},enter_effect:(f,g)=>{let y=[g,{}];for(let m of t)y=m(f).enter_fuse(f,y[0],y[1]);return y=x.enter_fuse(f,y[0],y[1]),y=_.enter_fuse(f,y[0],y[1]),y},exit_effect:(f,g,y)=>{let m=[g,y];for(let v of t)m=v(f).exit_fuse(f,m[0],m[1]);return m=x.exit_fuse(f,m[0],m[1]),m=_.exit_fuse(f,m[0],m[1]),m}}}function Ar({small_margin_enter:r=!1,small_margin_exit:e=!1,get_widths:t=c=>[],extra_effectors:n=[],inject_pre:i=c=>l(b,{}),inject_suf:a=c=>l(b,{}),outer:o=void 0,inner:s=c=>l(b,{children:c.children})}){let c=o||vt({small_margin:r}),x=s,_=new xt("global-injector","global-injector",i,a),f=new Ee("global-brother","global-brother",{small_margin:e});return{render_func:g=>{let y=g.element,m=g.children,v=t(y);for(v=v.splice(0,m.length);v.length<m.length;)v.push(1);let $=v.reduce((O,M)=>O+M,0);return l(c,{element:y,context:g.context,children:l(N,{container:!0,columns:$,children:v.map((O,M)=>l(N,{item:!0,xs:O,sx:{align:"center"},children:l(x,{element:y,context:g.context,children:g.children[M]})},M))})})},enter_effect:(g,y)=>{let m=[y,{}];for(let v of n)m=v(g).enter_fuse(g,m[0],m[1]);return m=_.enter_fuse(g,m[0],m[1]),m=f.enter_fuse(g,m[0],m[1]),m},exit_effect:(g,y,m)=>{let v=[y,m];for(let $ of n)v=$(g).exit_fuse(g,v[0],v[1]);return v=_.exit_fuse(g,v[0],v[1]),v=f.exit_fuse(g,v[0],v[1]),v}}}function Br(){let r=new kr("global-injector","global-injector"),e=new Ee("global-brother","global-brother");return{render_func:t=>{let n=t.context;if(!(r.check_context(n)&&e.get_context(n)))return l(xe,{});let i=r.get_context(n),[a,o]=e.get_context(n)||[void 0,void 0],s=o&&o.small_margin,c=a!=null&&(a.type=="group"||a.type=="struct");return p(xe,{sx:c?{marginTop:s?_=>_.printer.margins.paragraph:_=>_.printer.margins.special}:{},children:[Object.keys(i.pre).map(_=>l(w.Fragment,{children:i.pre[_]},_)),t.children,Object.keys(i.suf).map(_=>l(w.Fragment,{children:i.suf[_]},_)),l("br",{})]})},enter_effect:(t,n)=>{let i=[n,{}];return i=r.enter_fuse(t,i[0],i[1]),i=e.enter_fuse(t,i[0],i[1]),i},exit_effect:(t,n,i)=>{let a=[n,i];return a=r.exit_fuse(t,a[0],a[1]),a=e.exit_fuse(t,a[0],a[1]),a}}}function ee({extra_effectors:r=[],outer:e=t=>l("span",{children:t.children})}){let t=e;return{render_func:n=>{let i=n.element;return l(t,{element:i,context:n.context,children:n.children})},enter_effect:(n,i)=>{let a=[i,{}];for(let o of r)a=o(n).enter_fuse(n,a[0],a[1]);return a},exit_effect:(n,i,a)=>{let o=[i,a];for(let s of r)o=s(n).exit_fuse(n,o[0],o[1]);return o}}}function ve(r,e){return e==null&&(e=["\u3007","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D"]),`${r}`.split("").map(t=>e[Number(t)]).join("")}const Cr="modulepreload",Ie={},Dr="/",Tr=function(e,t){return!t||t.length===0?e():Promise.all(t.map(n=>{if(n=`${Dr}${n}`,n in Ie)return;Ie[n]=!0;const i=n.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":Cr,i||(o.as="script",o.crossOrigin=""),o.href=n,document.head.appendChild(o),i)return new Promise((s,c)=>{o.addEventListener("load",s),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())};let bt="_MATHJAX_INLINE_START",yt="_MATHJAX_INLINE_END",wt="_MATHJAX_BLOCK_START",St="_MATHJAX_BLOCK_END";var Nr=new Ht(()=>{let r=window.MathJax;r!=null&&r.typesetPromise!=null&&(r.typesetPromise(),r.texReset())},3e3);function Ft(){Nr.go()}function Fn(r){return w.useEffect(()=>{let e=le(`
            
            <script defer>
                MathJax = {
                    

                    tex: {
                        packages: {"[+]": ["tagformat"]} , 
                        inlineMath: [["${bt}", "${yt}"]] , 
                        displayMath: [["${wt}", "${St}"]] , 
                        tags: "ams" , 
                        
                    },
                    svg: {
                        fontCache: "global" , 
                        scale: 0.9 , 
                    } , 
                    ignoreHtmlClass: "mathjax_ignore" , 
                    processHtmlClass: "mathjax_process" , 
                    preRemoveClass: "mathjax_preview" , 
                }
            <\/script>
        `);return Tr(()=>import("./tex-svg.89c94f6f.js"),[]),le("head").append(e),()=>{e.remove()}},[]),l(w.Fragment,{children:r.children})}function Pr(r){return w.useEffect(()=>{Ft()},[r.children]),p("span",{className:"mathjax_process",children:[bt,r.children,yt]})}function jr(r){return w.useEffect(()=>{Ft()},[r.children]),p("div",{className:"mathjax_process",children:[wt,r.children,St]})}function ke(r,e){return e=="chinese"?ve(r):e=="arab"?`${r}`:e=="arab-circle"?r>0&&r<=20?["\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468","\u2469","\u246A","\u246B","\u246C","\u246D","\u246E","\u246F","\u2470","\u2471","\u2472","\u2473"][r-1]:`(${r})`:e=="chinese-bracket"?`\u3010${ve(r)}\u3011`:e=="number-bracket"?`[${r}]`:""}var Mr=(()=>C({outer:e=>{let t=u(e.element,"title");return p(ie,{children:[l(ie,{subtitle_like:!0,children:t}),e.children]})}}))(),Ir=(()=>{let r=t=>new me(`order/${u(t,"label")}`,`order/${u(t,"label")}`);return C({extra_effectors:[r],inject_pre:t=>{let n=r(t.element).get_context(t.context),i=n[n.length-1],a=u(t.element,"title"),o=u(t.element,"prefix"),s=ke(i,u(t.element,"ordering")),c=`${a}`;return s&&(c=c+` ${s}`),o&&(c=c+` \uFF08${o}\uFF09`),l(k,{inline:!0,children:c})},outer:t=>l(ie,{subtitle_like:!0,children:t.children})})})(),Rr=(()=>{let r=e=>new me(`order/${u(e,"label")}`,`order/${u(e,"label")}`);return C({extra_effectors:[r],inject_pre:e=>{let t=u(e.element,"prefix");return t?l(k,{inline:!0,children:t}):l(b,{})},inject_suf:e=>{let t=u(e.element,"suffix");return t?l(k,{inline:!0,leftmargin:!0,children:t}):l(b,{})},inner:e=>{let t=u(e.element,"title"),n=u(e.element,"close"),i=r(e.element).get_context(e.context),a=ke(i,u(e.element,"ordering")),o=`${t}`;return a&&(o=o+` ${a}`),p(E,{force_direction:"column",children:[o?l(k,{children:o}):l(b,{}),l(Xt,{children:l(Vt,{children:e.children})}),n?l(k,{children:n}):l(b,{})]})}})})(),Gr=(()=>{let r=e=>new me(`order/${u(e,"label")}`,`order/${u(e,"label")}`,t=>u(t,"clustering")&&t.relation=="separating");return C({small_margin_enter:!0,extra_effectors:[r],inject_pre:e=>{let t=u(e.element,"prefix");return t?l(k,{inline:!0,children:t}):l(b,{})},inject_suf:e=>{let t=u(e.element,"suffix");return t?l(k,{inline:!0,leftmargin:!0,children:t}):l(b,{})},inner:e=>{let t=u(e.element,"title"),n=u(e.element,"close"),i=r(e.element).get_context(e.context),a=ke(i,u(e.element,"ordering")),o=`${t}`;return a&&(o=o+` ${a}`),l(w.Fragment,{children:p(E,{force_direction:"column",children:[p(E,{children:[p(Kt,{children:[" ",o?l(xe,{children:o}):l(b,{})]}),l(ne,{children:e.children})]}),n?l(k,{children:n}):l(b,{})]})})}})})(),Wr=(()=>C({inner:r=>{let e=u(r.element,"title"),t=u(r.element,"close");return p(E,{force_direction:"column",children:[e?l(k,{children:e}):l(b,{}),l(dt,{align:"center",children:r.children}),t?l(k,{align:"right",children:t}):l(b,{})]})}}))(),zr=(()=>C({inner:r=>l("pre",{children:r.children})}))(),Or=(()=>C({inner:r=>l(E,{force_direction:"column",children:l(dt,{sx:{fontSize:e=>ct(e.printer.typography.structure.fontSize,2)},children:r.children})})}))(),Lr=(()=>{let r=new me("order/section","order/section");return{render_func:e=>{let t=r.get_context(e.context),n=e.element,i=u(n,"title"),o=u(n,"alone")?l(b,{}):p(k,{inline:!0,children:["\u7B2C",ve(t),"\u8282"]});return p(se,{children:[o,i?l(k,{inline:!0,sx:{marginRight:0},children:i}):l(b,{})]})},enter_effect:(e,t)=>{let n=[t,{}];return n=r.enter_fuse(e,n[0],n[1]),n},exit_effect:(e,t,n)=>{let i=[t,n];return i=r.exit_fuse(e,i[0],i[1]),i}}})(),Ur=(()=>qt(r=>l(se,{})))(),Jr=(()=>ee({outer:r=>l("strong",{children:r.children})}))(),Hr=(()=>Ar({small_margin_enter:!0,small_margin_exit:!0,get_widths:r=>u(r,"widths").split(",").map(e=>e==""?1:parseInt(e))}))(),Xr=(()=>ee({outer:r=>l("del",{children:r.children})}))(),Vr=(()=>ee({outer:r=>l(ne,{component:"span",sx:{paddingX:"0.1rem"},children:l(Pr,{children:ht.string(r.element)})})}))(),Kr=(()=>C({inner:r=>{let e=ht.string(r.element),t=u(r.element,"suffix"),n=u(r.element,"close"),i=u(r.element,"environ"),a=i?`\\begin{${i}}`:"",o=i?`\\end{${i}}`:"";return e=`${a}${e}\\text{${t}}${o}`,p(w.Fragment,{children:[r.context.anchor,l(jr,{children:e}),n]})}}))(),qr=(()=>ee({outer:r=>{let e=u(r.element,"type"),t=u(r.element,"target"),[n,i]=w.useState("");w.useEffect(()=>{(async()=>{if(e=="internal"){let s=await Fe.get.resource_info(t);s.url?i(ft(s.url)):i("")}else i(t)})()},[r.element]);let a=u(r.element,"width"),o=u(r.element,"height");return l("img",{src:n||void 0,style:{width:a>0?`${a}rem`:"100%",height:o>0?`${o}rem`:"100%"}})}}))(),Zr=(()=>ee({outer:r=>{let e=u(r.element,"target"),t=u(r.element,"type"),n=u(r.element,"autotext");if(t=="index"){let i=Number(e);return l(Zt.Consumer,{children:a=>{let o=a.root,s=Qt(o,i),c=r.children;if(n){let x=Pe(o,i);x&&je(x)&&u(x,"label")!=null&&(c=`\u6B64 ${u(x,"label")}`)}return l(pe,{component:"button",onClick:x=>{a.printer_component.scroll_to(s)},children:l(Q,{children:c})})}})}if(t=="http"){let i=r.children;return n&&(i="\u6B64 \u9875\u9762"),l(pe,{href:e,children:i})}if(t=="outer-index"){let[i,a]=e.split(":"),[o,s]=[Number(i),Number(a)],[c,x]=w.useState(void 0);if(V.exports.useEffect(()=>{Fe.get.content(o).then(f=>{x(f)})},[]),c==null)return l(b,{});let _=r.children;if(n){let f=Pe(c,s);f&&je(f)&&u(f,"label")!=null&&(_=`\u6B64 ${u(f,"label")}`)}return l(pe,{href:Yt.view.content(o,{linkto:s}),children:_})}}}))(),Qr=Br(),Yr=Fr,en=gt({}),tn=gt({get_label:r=>`\u6B21\u8282\uFF1A${u(r,"title")}`}),rn=W({}),nn=W({}),ln=W({}),an=W({}),on=W({rightbar_extra:r=>{let e={variant:"standard",sx:{width:"2rem",marginBottom:"0.5rem",hright:"1rem"}},t=l(Q,{sx:{fontSize:"0.7rem"},children:"extra"}),n=u(r.element,"suffix");return l(w.Fragment,{children:l(ut,F(h({},e),{label:t,defaultValue:n,onChange:i=>{let a=i.target.value,o=r.element;r.editor.auto_set_parameter(o,{suffix:{type:"string",val:a}})}}))})}});let sn=W({});var un=wr,cn=pt({get_title:r=>u(r,"title")}),dn=pt({get_title:()=>"\u7AE0\u8282"}),hn=fe({}),fn=fe({surrounder:r=>l("del",{children:r.children})}),_n=fe({surrounder:r=>l("u",{children:r.children})}),mn=fe({surrounder:r=>l(b,{children:r.children})}),gn=Sr({get_label:()=>"\u56FE\u7247",is_empty:r=>!!u(r,"target"),render_element:r=>{let[e,t]=w.useState(""),n=u(r.element,"target"),i=u(r.element,"type");w.useEffect(()=>{(async()=>{if(i=="internal"){let s=await Fe.get.resource_info(n);s.url?t(ft(s.url)):t("")}else t(n)})()});let a=u(r.element,"width"),o=u(r.element,"height");return l("img",{src:e||void 0,style:{width:a>0?`${a}rem`:"100%",height:o>0?`${o}rem`:"100%"}})}}),pn=Er({get_label:r=>u(r,"label"),get_widths:(r,e)=>u(e,"widths").split(",").map(t=>t==""?1:parseInt(t))});let te="string",xn="choice";function S(r){return Object.keys(r).reduce((e,t)=>F(h({},e),{[t]:{type:typeof r[t],val:r[t]}}),{})}var z={label:"\u663E\u793A\u7684\u540D\u79F0"},D={prefix:{val:"",type:te},suffix:{val:"",type:te},title:{val:"",type:te},close:{val:"",type:te},ordering:{val:"chinese",type:xn,choices:["chinese","arab","arab-circle","chinese-bracket","number-bracket","none"]}},T=F(h({},z),{prefix:"\u6587\u672C\u524D\u7F00",suffix:"\u6587\u672C\u540E\u7F00",title:"\u5165",close:"\u51FA",ordering:"\u7F16\u53F7\u683C\u5F0F"}),Re=new B("\u662D\u8A00",h(h({},D),S({label:"\u662D\u8A00"})),h({},T)),Ge=new B("\u968F\u8A00",h(h({},D),S({label:"\u968F\u8A00"})),h({},T));let We=new B("\u5C5E\u8A00",h(h({},D),S({label:"\u5C5E\u8A00",clustering:!0})),F(h({},T),{clustering:"\u662F\u5426\u53EA\u5728\u8FDE\u7F00\u7684\u65F6\u5019\u8BBE\u7F6E\u7F16\u53F7"}));var ze=new vr("\u9F50\u8A00",h(h({},D),S({label:"\u9F50\u8A00",widths:"1"})),F(h({},T),{widths:"\uFF08\u76F8\u5BF9\uFF09\u5BBD\u5EA6\u5217\u8868\uFF0C\u7528\u9017\u53F7\u5206\u9694"})),Oe=new br("\u7A46\u8A00",{},{}),Le=new B("\u6570\u5B66\u8A00",h(h({},D),S({label:"\u6570\u5B66",environ:"align"})),F(h({},T),{environ:"\u73AF\u5883"})),Ue=new B("\u88F1\u793A",h(h({},D),S({label:"\u88F1\u793A"})),h({},T)),Je=new B("\u5F70\u793A",h(h({},D),S({label:"\u5F70\u793A"})),h({},T)),He=new B("\u683C\u793A",h(h({},D),S({label:"\u683C\u793A"})),h({},T)),Xe=new de("\u5F3A\u8C03",S({label:"\u5F3A\u8C03"}),h({},z)),Ve=new de("\u520A\u8C03",S({label:"\u520A\u8C03"}),h({},z));let Ke=new de("\u94FE\u8C03",F(h({},S({label:"\u94FE\u63A5",target:"",autotext:!1})),{type:{val:"index",type:"choice",choices:["index","outer-index","http"]}}),F(h({},z),{target:"\u5982\u4F55\u67E5\u627E\u76EE\u6807",type:"\u76EE\u6807\u683C\u5F0F\uFF08 index / outer-index / http \uFF09",autotext:"\u662F\u5426\u81EA\u52A8\u786E\u5B9A\u6587\u672C\u3002"}));var qe=new he("\u56FE\u8C03",F(h({},S({label:"\u56FE\u7247",target:"",width:10,height:-1})),{type:{val:"internal",type:"choice",choices:["internal","http"]}}),F(h({},z),{target:"\u5982\u4F55\u67E5\u627E\u76EE\u6807",type:"\u76EE\u6807\u683C\u5F0F\uFF08 internal / http \uFF09",width:"\u56FE\u7247\u5BBD\u5EA6\uFF08rem\uFF09",height:"\u56FE\u7247\u9AD8\u5EA6\uFF08rem\uFF09"}),{forceInline:!0}),Ze=new de("\u6570\u5B66\u8C03",S({label:"\u6570\u5B66"}),h({},z)),U=new he("\u65B0\u6BB5",S({})),J=new B("\u6B21\u8282",S({label:"\u6B21\u8282",title:""})),H=new he("\u5C0F\u8282\u7EBF",S({label:"\u5C0F\u8282",title:"",alone:!1})),X=new he("\u7AE0\u8282\u7EBF",S({label:"\u7AE0"})),A={[Re.name]:[Re,en,Ir],[Ge.name]:[Ge,nn,Rr],[Ue.name]:[Ue,ln,Wr],[Je.name]:[Je,an,Or],[Oe.name]:[Oe,void 0,void 0],[U.name]:[U,un,void 0],[H.name]:[H,cn,Lr],[X.name]:[X,dn,Ur],[Xe.name]:[Xe,hn,Jr],[ze.name]:[ze,pn,Hr],[qe.name]:[qe,gn,qr],[Ve.name]:[Ve,fn,Xr],[Ke.name]:[Ke,_n,Zr],[We.name]:[We,sn,Gr],[Ze.name]:[Ze,mn,Vr],[Le.name]:[Le,on,Kr],[He.name]:[He,rn,zr],[J.name]:[J,tn,Mr]};function $n(r){for(let e in A){let t=A[e][0];r.add_style(t)}return r}function En(r){for(let e in A){let t=A[e][0];if(t.type=="abstract")continue;let n=A[e][2];r.set(n,t.type,t.name)}return r.set(Qr,"paragraph"),r}function kn(r){for(let e in A){let t=A[e][0];if(t.type=="abstract")continue;let n=A[e][1];r.set(n,t.type,t.name)}return r.set(Yr,"paragraph"),r}function An(r){return r.support[U.name]=re(U.name,U.name,{},{}),r.support[H.name]=re(H.name,H.name,{},{}),r.support[X.name]=re(X.name,X.name,{},{}),r.group[J.name]=re(J.name,J.name,{},{}),r}function re(r,e,t,n){let[i,a,o]=A[r];return new yr(e,i,t,n)}function Bn(r,e){le(document).ready(()=>{let t=le(`#yconcept-${e}`);if(!t||t.length<=0)return;t[0].scrollIntoView({behavior:"smooth",block:"center"});let n=t.next();!n||n.css({border:"2px solid #ccbb44"})})}const Cn={palette:{divider:"#00000077",primary:{main:"#111111"}},printer:{margins:{paragraph:"0.4rem",special:"1.0rem",colon:"1rem",level:"2rem"},typography:{body:{fontFamily:"STXihei"},title:{fontFamily:"SimHei"},structure:{fontFamily:"SimHei"},display:{fontFamily:"KaiTi"},weaken:{fontFamily:"FangSong"}}}};export{wn as E,Fn as M,Sn as S,kn as a,En as b,An as c,re as d,X as e,Bn as l,Cn as m,ve as n,H as s,$n as w};
