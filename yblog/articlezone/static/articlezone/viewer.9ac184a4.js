var Ne=Object.defineProperty;var We=(t,e,r)=>e in t?Ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>(We(t,typeof e!="symbol"?e+"":e,r),r);import{r as C,j as o,b as p,a as u,B as h,I as v,T as k,A as ee,F as b,f as Ae,a6 as j,O as Q,a5 as Z,d as pe,S as T,u as R,ai as be,P as He,i as Ue,m as te,h as je,M as Ye,G as Xe,X as Ke,k as Je,R as qe}from"./theme.83d79a3f.js";import{p as Ge,T as Qe,C as Ze}from"./overlayscrollbars.2b07f01c.js";import{P as Fe,I as et,k as Ee,F as Ie,f as tt,a as ot,d as rt}from"./index.0c0e80bd.js";import{g as me,a as he,s as M,h as g,_ as x,u as ne,b as ae,e as V,f as fe,w as D,c as it,i as ye,T as F,A as nt,D as Ce,C as de,U as at,R as lt,V as st,W as ct,B as s,L as H,j as dt}from"./Link.615fc0f6.js";import{B as ue,I as ut}from"./useFormControl.5e0470df.js";import{c as P}from"./createSvgIcon.99d306d8.js";import{T as ie,B as U,C as pt,P as mt}from"./TextField.b47ef2db.js";import"./Divider.4f1fc91d.js";function ht(t){return me("MuiAppBar",t)}he("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const ft=["className","color","enableColorOnDark","position"],gt=t=>{const{color:e,position:r,classes:i}=t,n={root:["root",`color${g(e)}`,`position${g(r)}`]};return fe(n,ht,i)},oe=(t,e)=>`${t==null?void 0:t.replace(")","")}, ${e})`,vt=M(Fe,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${g(r.position)}`],e[`color${g(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return x({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&x({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&x({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&x({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:oe(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:oe(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:oe(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:oe(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),xt=C.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiAppBar"}),{className:n,color:a="primary",enableColorOnDark:l=!1,position:c="fixed"}=i,d=ae(i,ft),m=x({},i,{color:a,position:c,enableColorOnDark:l}),_=gt(m);return o(vt,x({square:!0,component:"header",ownerState:m,elevation:4,className:V(_.root,n,c==="fixed"&&"mui-fixed"),ref:r},d))});var _t=xt,bt=P(o("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function yt(t){return me("MuiChip",t)}const Ct=he("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]);var f=Ct;const kt=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],Bt=t=>{const{classes:e,disabled:r,size:i,color:n,iconColor:a,onDelete:l,clickable:c,variant:d}=t,m={root:["root",d,r&&"disabled",`size${g(i)}`,`color${g(n)}`,c&&"clickable",c&&`clickableColor${g(n)}`,l&&"deletable",l&&`deletableColor${g(n)}`,`${d}${g(n)}`],label:["label",`label${g(i)}`],avatar:["avatar",`avatar${g(i)}`,`avatarColor${g(n)}`],icon:["icon",`icon${g(i)}`,`iconColor${g(a)}`],deleteIcon:["deleteIcon",`deleteIcon${g(i)}`,`deleteIconColor${g(n)}`,`deleteIcon${g(d)}Color${g(n)}`]};return fe(m,yt,e)},wt=M("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:i,iconColor:n,clickable:a,onDelete:l,size:c,variant:d}=r;return[{[`& .${f.avatar}`]:e.avatar},{[`& .${f.avatar}`]:e[`avatar${g(c)}`]},{[`& .${f.avatar}`]:e[`avatarColor${g(i)}`]},{[`& .${f.icon}`]:e.icon},{[`& .${f.icon}`]:e[`icon${g(c)}`]},{[`& .${f.icon}`]:e[`iconColor${g(n)}`]},{[`& .${f.deleteIcon}`]:e.deleteIcon},{[`& .${f.deleteIcon}`]:e[`deleteIcon${g(c)}`]},{[`& .${f.deleteIcon}`]:e[`deleteIconColor${g(i)}`]},{[`& .${f.deleteIcon}`]:e[`deleteIcon${g(d)}Color${g(i)}`]},e.root,e[`size${g(c)}`],e[`color${g(i)}`],a&&e.clickable,a&&i!=="default"&&e[`clickableColor${g(i)})`],l&&e.deletable,l&&i!=="default"&&e[`deletableColor${g(i)}`],e[d],e[`${d}${g(i)}`]]}})(({theme:t,ownerState:e})=>{const r=D(t.palette.text.primary,.26),i=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return x({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${f.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${f.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${f.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${f.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${f.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${f.icon}`]:x({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&x({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},e.color!=="default"&&{color:"inherit"})),[`& .${f.deleteIcon}`]:x({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:D(r,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:D(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${f.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:D(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${f.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>x({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.hoverOpacity}))`:D(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${f.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:D(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${f.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>x({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${f.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${f.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${f.avatar}`]:{marginLeft:4},[`& .${f.avatarSmall}`]:{marginLeft:2},[`& .${f.icon}`]:{marginLeft:4},[`& .${f.iconSmall}`]:{marginLeft:2},[`& .${f.deleteIcon}`]:{marginRight:5},[`& .${f.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:D(t.palette[e.color].main,.7)}`,[`&.${f.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:D(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${f.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:D(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${f.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:D(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),$t=M("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:i}=r;return[e.label,e[`label${g(i)}`]]}})(({ownerState:t})=>x({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.size==="small"&&{paddingLeft:8,paddingRight:8}));function ke(t){return t.key==="Backspace"||t.key==="Delete"}const At=C.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiChip"}),{avatar:n,className:a,clickable:l,color:c="default",component:d,deleteIcon:m,disabled:_=!1,icon:$,label:O,onClick:L,onDelete:A,onKeyDown:z,onKeyUp:y,size:I="medium",variant:Y="filled"}=i,X=ae(i,kt),w=C.exports.useRef(null),K=it(w,r),J=B=>{B.stopPropagation(),A&&A(B)},Me=B=>{B.currentTarget===B.target&&ke(B)&&B.preventDefault(),z&&z(B)},Pe=B=>{B.currentTarget===B.target&&(A&&ke(B)?A(B):B.key==="Escape"&&w.current&&w.current.blur()),y&&y(B)},le=l!==!1&&L?!0:l,se=le||A?ue:d||"div",ce=x({},i,{component:se,disabled:_,size:I,color:c,iconColor:C.exports.isValidElement($)&&$.props.color||c,onDelete:!!A,clickable:le,variant:Y}),N=Bt(ce),Ve=se===ue?x({component:d||"div",focusVisibleClassName:N.focusVisible},A&&{disableRipple:!0}):{};let ve=null;A&&(ve=m&&C.exports.isValidElement(m)?C.exports.cloneElement(m,{className:V(m.props.className,N.deleteIcon),onClick:J}):o(bt,{className:V(N.deleteIcon),onClick:J}));let xe=null;n&&C.exports.isValidElement(n)&&(xe=C.exports.cloneElement(n,{className:V(N.avatar,n.props.className)}));let _e=null;return $&&C.exports.isValidElement($)&&(_e=C.exports.cloneElement($,{className:V(N.icon,$.props.className)})),p(wt,x({as:se,className:V(N.root,a),disabled:le&&_?!0:void 0,onClick:L,onKeyDown:Me,onKeyUp:Pe,ref:K,ownerState:ce},Ve,X,{children:[xe||_e,o($t,{className:V(N.label),ownerState:ce,children:O}),ve]}))});var E=At,Ft=P(o("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");const Et=M(ue)(({theme:t})=>x({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":x({},t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":x({boxShadow:t.shadows[0]},t.palette.mode==="light"?{backgroundColor:ye(t.palette.grey[200],.12)}:{backgroundColor:ye(t.palette.grey[600],.12)})})),It=M(Ft)({width:24,height:16});function St(t){const e=t;return o("li",{children:o(Et,x({focusRipple:!0},t,{ownerState:e,children:o(It,{ownerState:e})}))})}function Tt(t){return me("MuiBreadcrumbs",t)}const zt=he("MuiBreadcrumbs",["root","ol","li","separator"]);var Dt=zt;const Rt=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],Ot=t=>{const{classes:e}=t;return fe({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Tt,e)},Lt=M(F,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${Dt.li}`]:e.li},e.root]})({}),Mt=M("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Pt=M("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Vt(t,e,r,i){return t.reduce((n,a,l)=>(l<t.length-1?n=n.concat(a,o(Pt,{"aria-hidden":!0,className:e,ownerState:i,children:r},`separator-${l}`)):n.push(a),n),[])}const Nt=C.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiBreadcrumbs"}),{children:n,className:a,component:l="nav",expandText:c="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:m=1,maxItems:_=8,separator:$="/"}=i,O=ae(i,Rt),[L,A]=C.exports.useState(!1),z=x({},i,{component:l,expanded:L,expandText:c,itemsAfterCollapse:d,itemsBeforeCollapse:m,maxItems:_,separator:$}),y=Ot(z),I=C.exports.useRef(null),Y=w=>{const K=()=>{A(!0);const J=I.current.querySelector("a[href],button,[tabindex]");J&&J.focus()};return m+d>=w.length?w:[...w.slice(0,m),o(St,{"aria-label":c,onClick:K},"ellipsis"),...w.slice(w.length-d,w.length)]},X=C.exports.Children.toArray(n).filter(w=>C.exports.isValidElement(w)).map((w,K)=>o("li",{className:y.li,children:w},`child-${K}`));return o(Lt,x({ref:r,component:l,color:"text.secondary",className:V(y.root,a),ownerState:z},O,{children:o(Mt,{className:y.ol,ref:I,ownerState:z,children:Vt(L||_&&X.length<=_?X:Y(X),y.separator,$,z)})}))});var Wt=Nt;const Ht=["component","direction","spacing","divider","children"];function Ut(t,e){const r=C.exports.Children.toArray(t).filter(Boolean);return r.reduce((i,n,a)=>(i.push(n),a<r.length-1&&i.push(C.exports.cloneElement(e,{key:`separator-${a}`})),i),[])}const jt=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Yt=({ownerState:t,theme:e})=>{let r=x({display:"flex",flexDirection:"column"},Ce({theme:e},de({values:t.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i})));if(t.spacing){const i=at(e),n=Object.keys(e.breakpoints.values).reduce((d,m)=>((typeof t.spacing=="object"&&t.spacing[m]!=null||typeof t.direction=="object"&&t.direction[m]!=null)&&(d[m]=!0),d),{}),a=de({values:t.direction,base:n}),l=de({values:t.spacing,base:n});typeof a=="object"&&Object.keys(a).forEach((d,m,_)=>{if(!a[d]){const O=m>0?a[_[m-1]]:"column";a[d]=O}}),r=lt(r,Ce({theme:e},l,(d,m)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${jt(m?a[m]:t.direction)}`]:ct(i,d)}})))}return r=st(e.breakpoints,r),r},Xt=M("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Yt),Kt=C.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiStack"}),n=nt(i),{component:a="div",direction:l="column",spacing:c=0,divider:d,children:m}=n,_=ae(n,Ht);return o(Xt,x({as:a,ownerState:{direction:l,spacing:c},ref:r},_,{children:d?Ut(m,d):m}))});var Jt=Kt,qt=P([o("circle",{cx:"18",cy:"4.54",r:"2"},"0"),o("path",{d:"M15 17h-2c0 1.65-1.35 3-3 3s-3-1.35-3-3 1.35-3 3-3v-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5zm3-3.5h-1.86l1.67-3.67C18.42 8.5 17.44 7 15.96 7h-5.2c-.81 0-1.54.47-1.87 1.2L8.22 10l1.92.53.65-1.53H13l-1.83 4.1c-.6 1.33.39 2.9 1.85 2.9H18v5h2v-5.5c0-1.1-.9-2-2-2z"},"1")],"AccessibleForwardOutlined"),Gt=P(o("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Qt=P(o("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),Zt=P(o("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),eo=P(o("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}),"DescriptionOutlined"),to=P(o("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined"),oo=P(o("path",{d:"M15 4v7H5.17L4 12.17V4h11m1-2H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm5 4h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1z"}),"ForumOutlined");class ro extends u.Component{constructor(e){super(e),this.state={father_id:h.node_id,son_ids:[],indis_ids:[]}}async set_father_id(e){let r=await v.get.son_ids(e),i=await v.get.indiscriminates(e);this.setState({father_id:e,son_ids:r,indis_ids:i})}async componentDidMount(){if((await v.get.son_ids(h.node_id)).length==0){let r=await v.get.father_id(h.node_id);this.set_father_id(r)}else this.set_father_id(h.node_id)}WordsWithButton(e){let r=e.icon,i="80%";e.weak&&e.indis&&(i="75%");let n=u.useContext(k);return p(s,{sx:{marginTop:"0.5rem"},children:[o(s,{sx:{display:"inline-block",width:"1.5rem",verticalAlign:"top"},children:r?o(ee,{title:e.title,children:o(ut,{size:"small",onClick:e.onClick,children:o(r,{sx:{fontSize:"0.9rem"}})})}):o(b,{})},"box"),o(s,{sx:{display:"inline-block",left:"1.5rem",width:i},children:o(H,{sx:{fontSize:"0.9rem",textAlign:"left"},underline:"hover",href:e.url,color:"text.primary",children:e.words})},"link"),e.weak?o(s,{sx:{display:"inline-block",right:0,height:"1.2rem",position:"absolute"},children:o(ee,{title:"\u4E0D\u8BA9\u770B",children:o(s,{children:o(Ae,{text:"\u9690",fontSize:"small",color:n.mui.palette.info.main})})})},"unseen"):o(b,{})]})}SubnodeItem(e){let r=this,i=e.node_id,[n,a]=u.useState(!0),[l,c]=u.useState(!1),d=this.WordsWithButton.bind(this);return u.useEffect(()=>{(async()=>{let m=await v.get.son_ids(i);a(m.length>0);let _=await v.get.visibility(i);c(!_.secret)})()}),o(u.Fragment,{children:o(j,{children:n?o(d,{words:o(Q,{node_id:i}),title:"\u4E0B\u884C",onClick:()=>r.set_father_id(i),icon:Gt,url:Z.view.content(i),weak:!l,indis:e.indis},"word"):o(d,{words:o(Q,{node_id:i}),url:Z.view.content(i),weak:!l,indis:e.indis},"word")})})}FathernodeItem(e){let r=this,i=e.node_id,n=this.WordsWithButton.bind(this),[a,l]=u.useState(-1),[c,d]=u.useState(!0);return u.useEffect(()=>{(async()=>{let m=await v.get.father_id(i);l(m);let _=await v.get.visibility(i);d(!_.secret)})()}),o(u.Fragment,{children:o(j,{children:a>0?o(n,{words:o(Q,{node_id:i}),title:"\u4E0A\u884C",onClick:()=>r.set_father_id(a),icon:Zt,url:Z.view.content(i),weak:!c}):o(n,{words:o(Q,{node_id:i}),url:Z.view.content(i),weak:!c})})})}render(){let e=this.state.father_id,r=this.state.son_ids;this.state.indis_ids;let i=this.FathernodeItem.bind(this),n=this.SubnodeItem.bind(this);return o(s,{sx:{marginTop:"0.5rem"},children:p(pe,{force_direction:"column",children:[o(i,{node_id:e}),o(s,{sx:{marginLeft:"1rem"},children:r.map((a,l)=>o(u.Fragment,{children:o(n,{node_id:a})},l))})]})})}}class io extends u.Component{constructor(e){super(e),this.state={create_time:void 0,modify_time:void 0,TLDR:void 0,vis_secret:void 0,vis_indis:void 0}}async componentDidMount(){let e=await v.get.create_time(h.node_id),r=await v.get.tldr(h.node_id),i=await v.get.visibility(h.node_id);this.setState({create_time:e.create_time,modify_time:e.modify_time,TLDR:r,vis_secret:i.secret,vis_indis:i.indiscriminate_provider})}render(){let e=this;this.props.root.parameters.title.val;let r=i=>{let n=u.useContext(k);return p(s,{sx:{marginBottom:"1rem"},children:[o(F,{color:"text.secondary",sx:{marginRight:n.printer.margins.colon,fontSize:"0.8rem",display:"inline-block"},children:i.title}),o(F,{sx:{fontSize:"0.8rem",display:"inline-block",whiteSpace:"pre-wrap"},children:i.content})]})};return h.logged_in&&(s,e.state.vis_secret||b,e.state.vis_indis||b),p(s,{children:[o(r,{title:"\u521B\u5EFA\u65F6\u95F4",content:e.state.create_time}),o(r,{title:"\u4FEE\u6539\u65F6\u95F4",content:e.state.modify_time}),e.state.TLDR?o(j,{children:o(r,{title:"\u592A\u957F\u4E0D\u770B",content:e.state.TLDR})}):o(b,{}),h.logged_in?o(r,{title:"\u53EF\u89C1\u6027",content:p(s,{sx:{textAlign:"left"},children:[e.state.vis_secret?o(E,{label:"\u4E0D\u8BA9\u770B",variant:"outlined",color:"info",size:"small"}):o(b,{}),e.state.vis_indis?o(E,{label:"\u6742\u9648",variant:"outlined",color:"info",size:"small"}):o(b,{})]})}):o(b,{})]})}}class no extends u.Component{constructor(e){super(e)}render(){let e=this.context;return p(s,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:[p(s,{sx:{position:"absolute",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"1%",left:"0",height:"23%",width:"100%"},children:[o(s,{sx:{textAlign:"right"},children:o(E,{label:"\u57FA\u672C\u4FE1\u606F",color:"secondary",size:"small"})}),o(T,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"1rem",right:"0.25rem",overflow:"auto"},children:o(io,{root:this.props.root})})]}),p(s,{sx:{position:"absolute",paddingX:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"27%",bottom:"2%",width:"100%"},children:[o(s,{sx:{textAlign:"right"},children:o(E,{label:"\u6587\u7AE0\u6811",color:"secondary",size:"small"})}),o(T,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"0.5rem",right:"0.25rem",overflow:"auto"},children:o(ro,{})})]})]})}}S(no,"contextType",k);class ao extends u.Component{constructor(e){super(e),this.state={comments:[]}}async update(){let e=await v.get.comments(h.node_id);e=e.reverse(),this.setState({comments:e})}async componentDidMount(){await this.update()}render(){let e=this,r=i=>p(s,{sx:{marginBottom:"1rem",marginX:"0.5rem"},children:[o(F,{sx:{marginLeft:"0.5rem",fontSize:"0.9rem"},children:i.content},"typo1"),p(F,{sx:{textAlign:"right",marginTop:"0.5rem",fontSize:"0.9rem"},children:["\u2014\u2014 ",i.name?`${i.name}`:"\u4E0D\u77E5\u540D\u7F51\u53CB"]},"typo2")]});return o(s,{children:e.state.comments.map((i,n)=>{let[a,l]=i;return o(r,{name:l,content:a},n)})})}}class lo extends u.Component{constructor(e){super(e),this.state={content:"",name:"",snakerbar_open:!1,status:!1}}async submit(){let e=this,r=!1;e.state.content&&(r=await v.post.comments({content:e.state.content,name:e.state.name},h.node_id)),e.setState({status:r,snakerbar_open:!0}),r&&(e.props.onRenew(),e.setState({content:"",name:""}))}render(){let e=this;return p(s,{children:[o(ie,{label:"\u7559\u8A00",placeholder:"\u8BF4\u70B9\u5565",multiline:!0,onChange:r=>{e.setState({content:r.target.value})},variant:"outlined",fullWidth:!0,minRows:4,value:e.state.content}),o(ie,{label:"\u79F0\u547C",placeholder:"\u4F60\u662F\u8C01\uFF1F",onChange:r=>{e.setState({name:r.target.value})},variant:"standard",fullWidth:!0,sx:{marginTop:"0.5rem"},value:e.state.name}),o(s,{sx:{textAlign:"left",marginTop:"1rem"},children:o(U,{variant:"outlined",onClick:()=>e.submit(),children:"\u65B0\u5EFA\u7559\u8A00"})})]})}}class so extends u.Component{constructor(r){super(r);S(this,"comment_ref");this.comment_ref=u.createRef()}render(){let r=this,i=r.context;return p(s,{sx:{...i.printer.fonts.structure,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:[o(T,{sx:{position:"absolute",height:"36%",top:"1%",left:"1rem",right:"1rem",overflow:"auto",paddingTop:"1rem"},children:o(lo,{onRenew:()=>{r.comment_ref&&r.comment_ref.current&&r.comment_ref.current.update()}})}),p(s,{sx:{position:"absolute",bottom:"1%",top:"38%",left:"1rem",right:"1rem",backgroundColor:"background.default",paddingX:"0.25rem",paddingY:"0.25rem"},children:[o(s,{sx:{textAlign:"right"},children:o(E,{label:"\u7559\u8A00\u5217\u8868",color:"secondary",size:"small"})}),o(T,{sx:{position:"absolute",left:"0.25rem",right:"0.25rem",top:"2.25rem",bottom:"0.25rem",overflowY:"auto"},children:o(ao,{ref:r.comment_ref})})]})]})}}S(so,"contextType",k);let q=t=>{let e=u.useContext(k);return o(H,{...t,sx:{marginTop:"0.2rem",marginBottom:"0.3rem",...e.printer.fonts.body}})};class No extends u.Component{constructor(e){super(e)}render(){let e=this.props;return o(s,{sx:{position:"absolute",top:"5%"},children:p(pe,{force_direction:"column",children:[o(q,{underline:"hover",href:R(`/edit/content/${h.node_id}`),children:"\u7F16\u8F91\u5185\u5BB9"}),o(q,{underline:"hover",href:R(`/edit/structure/${h.node_id}`),children:"\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(q,{underline:"hover",href:R(`/edit/shallow_structure/${h.node_id}`),children:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(q,{underline:"hover",href:R(`/admin/articlezone/node/add/?father_id=${h.node_id}`),children:"\u65B0\u5EFA\u5B50\u8282\u70B9"}),o(q,{underline:"hover",href:R(`/admin/articlezone/node/${h.node_id}/change/`),children:"\u8FDB\u5165\u540E\u53F0"}),o("br",{}),p("div",{children:["\u7EC4\u4EF6IDX\u663E\u793A",e.idx_activated?"\u5DF2":"\u672A","\u6253\u5F00\u3002"]}),p(U,{onClick:()=>{e.onActivateIdx&&e.onActivateIdx()},children:[e.idx_activated?"\u505C\u6B62\u663E\u793A":"\u663E\u793A","\u7EC4\u4EF6ID"]}),p("div",{children:["\u6839\u8282\u70B9IDX: ",e.root.idx]})]})})}}class co extends u.Component{constructor(e){super(e)}render(){let e=this.context;return o(s,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:o(s,{sx:{position:"absolute",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"1%",left:"0",height:"23%",width:"100%"},children:o(T,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"1rem",right:"0.25rem",overflow:"auto"},children:o(s,{sx:{marginBottom:"1rem"},children:p(F,{color:"text.secondary",sx:{marginRight:e.printer.margins.colon,fontSize:"0.5rem",display:"inline-block"},children:["\u{1F449}",o(H,{href:"https://fftyyy.github.io",children:"\u6211\u7684\u4E2A\u4EBA\u4E3B\u9875"})]})})})})})}}S(co,"contextType",k);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Se=mo,Be=ho,uo=decodeURIComponent,po=encodeURIComponent,re=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function mo(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},i=e||{},n=t.split(";"),a=i.decode||uo,l=0;l<n.length;l++){var c=n[l],d=c.indexOf("=");if(!(d<0)){var m=c.substring(0,d).trim();if(r[m]==null){var _=c.substring(d+1,c.length).trim();_[0]==='"'&&(_=_.slice(1,-1)),r[m]=fo(_,a)}}}return r}function ho(t,e,r){var i=r||{},n=i.encode||po;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!re.test(t))throw new TypeError("argument name is invalid");var a=n(e);if(a&&!re.test(a))throw new TypeError("argument val is invalid");var l=t+"="+a;if(i.maxAge!=null){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!re.test(i.domain))throw new TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!re.test(i.path))throw new TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite){var d=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(d){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l}function fo(t,e){try{return e(t)}catch{return t}}function go(){return typeof document=="object"&&typeof document.cookie=="string"}function vo(t,e){return typeof t=="string"?Se(t,e):typeof t=="object"&&t!==null?t:{}}function xo(t,e){return typeof e=="undefined"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function we(t,e){e===void 0&&(e={});var r=_o(t);if(xo(r,e.doNotParse))try{return JSON.parse(r)}catch{}return t}function _o(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var W=globalThis&&globalThis.__assign||function(){return W=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},W.apply(this,arguments)},bo=function(){function t(e,r){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=vo(e,r),new Promise(function(){i.HAS_DOCUMENT_COOKIE=go()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){!this.HAS_DOCUMENT_COOKIE||(this.cookies=Se(document.cookie,e))},t.prototype._emitChange=function(e){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](e)},t.prototype.get=function(e,r,i){return r===void 0&&(r={}),this._updateBrowserValues(i),we(this.cookies[e],r)},t.prototype.getAll=function(e,r){e===void 0&&(e={}),this._updateBrowserValues(r);var i={};for(var n in this.cookies)i[n]=we(this.cookies[n],e);return i},t.prototype.set=function(e,r,i){var n;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=W(W({},this.cookies),(n={},n[e]=r,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Be(e,r,i)),this._emitChange({name:e,value:r,options:i})},t.prototype.remove=function(e,r){var i=r=W(W({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=W({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Be(e,"",i)),this._emitChange({name:e,value:void 0,options:r})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var r=this.changeListeners.indexOf(e);r>=0&&this.changeListeners.splice(r,1)},t}(),$e=bo;class Wo extends u.Component{constructor(e){super(e)}render(){let{value:e,children:r,active_tab:i}=this.props;return o(s,{sx:{display:i==e?"block":"none",paddingLeft:"1.5rem"},children:r})}}function Te(t){let e=t.item,r=e.name,[i,n]=r.split("___");return p(s,{sx:{marginTop:"0.2rem"},children:[p(H,{component:"button",underline:"hover",onClick:a=>{t.onScroll(e.node_path)},color:"text.primary",textAlign:"left",children:[o(F,{sx:{fontSize:"0.8rem",left:0,right:"1rem",position:"absolute"},children:i}),o(F,{sx:{fontSize:"0.8rem",left:"1.5rem",marginRight:"1rem",position:"relative"},children:n})]}),o(s,{children:e.sons.map((a,l)=>o(Te,{item:a,onScroll:t.onScroll},l))})]})}function yo(t){if(!t.printer)return o(b,{});let e=u.useContext(k),r=new et(()=>""),[i,n,a,l]=t.printer.preprocess({root:t.root,init_env:{}}),c=r.get_env(i).root;return c.sons.length<2?o(b,{}):o(s,{sx:{...e.printer.fonts.body,position:"relative",top:"30%",height:"40%",width:"auto"},children:p(s,{sx:{position:"absolute",width:"100%",height:"100%",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem"},children:[o(s,{sx:{position:"absolute",top:0,height:"1.5rem",width:"100%",left:0,backgroundColor:e.my_palette.background.primary,color:e.my_palette.text.on_primary,opacity:.9,paddingLeft:"0.2rem",lineHeight:"1.5rem",paddingY:"0.2rem"},children:o(F,{fontSize:"small",sx:{paddingLeft:"0.2rem"},children:"\u76EE\u5F55"})}),o(T,{sx:{overflow:"auto",position:"absolute",left:"0.4rem",right:"0.5rem",top:"2rem",bottom:"0.5rem"},children:c.sons.map((d,m)=>o(j,{children:o(Te,{item:d,onScroll:t.onScroll},m)}))})]})})}function ze(t){let e=t.node_id,r=t.level||"high",i=t.lower_level||0,n=t.idx;t.total;let a=u.useContext(k),l,[c,d]=u.useState(!1),m=y=>{d(y),y&&l&&clearTimeout(l)},[_,$]=u.useState(!0);u.useEffect(()=>{(async()=>{let y=await v.get.visibility(e);$(!y.secret)})()});let[O,L]=u.useState([]);u.useEffect(()=>{(async()=>{if(!(i>4))if(r=="high"){let y=await v.get.father_id(e);if(y>0){let I=await v.get.son_ids(y);L(I)}else{let I=await v.get.son_ids(e);L(I)}}else{let y=await v.get.son_ids(e);L(y)}})()},[t.level,t.node_id,t.lower_level]);function A(y){return()=>{l&&clearTimeout(l),l=setTimeout(()=>{m(!1)},y)}}let z=u.useRef(void 0);return p(j,{children:[o(H,{href:Z.view.content(e),target:"_blank",underline:"none",children:p(U,{onMouseOver:()=>{m(!0)},onMouseOut:A(100),ref:z,sx:{marginX:"0.2rem",width:(r=="high","calc(100% - 0.4rem)"),justifyContent:"flex-start",textAlign:"left",...r=="high"?{whiteSpace:"nowarp"}:{},minHeight:"1.3rem",paddingY:"0.1rem",marginY:r=="high"?"0.4rem":"0.1rem",minWidth:"1rem",color:a.my_palette.text.on_primary,backgroundColor:a.my_palette.background.primary,"&:hover":{backgroundColor:a.my_palette.background.anti_primary,color:a.my_palette.text.anti_on_primary,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},children:[o(Q,{node_id:t.node_id}),_?o(b,{}):o(s,{sx:{display:"inline-block",marginLeft:"auto",right:0,paddingLeft:"0.4rem"},children:o(ee,{title:"\u4E0D\u8BA9\u770B",children:o(s,{children:o(Ae,{text:"\u9690",fontSize:"0.7rem",color:"inherit"})})})},"unseen")]})}),o(pt,{onClickAway:()=>{m(!1)},children:O.length<=0?o(b,{}):o(Ee,{onMouseOver:()=>{m(!0)},onMouseOut:A(300),anchorEl:z.current,open:c,placement:r=="high"?"bottom-start":"right-start",transition:!0,modifiers:[{name:"preventOverflow",enabled:!0,options:{altAxis:!0,altBoundary:!1,tether:!1,rootBoundary:"document",padding:8}}],children:({TransitionProps:y})=>o(Ie,{...y,timeout:200,children:o(s,{children:o(T,{sx:{marginLeft:"0.3rem",marginTop:r=="high"?"0.5rem":n==0?0:"-1.5rem",marginBottom:"1rem",minWidth:"5rem",maxWidth:"15rem",maxHeight:"30rem",borderRadius:1},children:o(s,{sx:{paddingY:"0.5rem",backgroundColor:a.my_palette.background.primary,color:a.my_palette.text.on_primary,opacity:.85},children:O.map((I,Y)=>o(ze,{level:"low",node_id:I,lower_level:i+1,idx:Y,total:O.length},I))})})})})})})]})}function Co(t){let e=h.node_id,[r,i]=u.useState([e]),n=u.useContext(k);return u.useEffect(()=>{(async()=>{let a=e,l=[e];for(let c=0;c<20;c++){let d=await v.get.father_id(a);if(d<=0)break;l=[d,...l],a=d}i(l)})()},[]),o(Wt,{sx:{color:n.my_palette.text.on_primary},separator:o(Qt,{sx:{color:n.my_palette.text.weak_on_primary}}),children:r.map((a,l)=>o(ze,{node_id:a,idx:l,total:r.length},a))})}function ge(t){let[e,r]=u.useState(!1),i=u.useContext(k);return p(b,{children:[o(ee,{title:t.title,children:o(U,{sx:{paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.2rem",marginY:"0.4rem",minWidth:"0.5rem",marginX:"0.1rem",color:"white",backgroundColor:"inherit","&:hover":{backgroundColor:i.my_palette.background.anti_primary,color:i.my_palette.text.anti_on_primary,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:n=>{r(!0)},children:t.button_content})}),o(mt,{sx:{left:"20%",top:"20%",width:"60%",height:"60%",opacity:.95},PaperProps:{sx:{paddingX:"1rem",paddingY:"1rem",minWidth:"40vw",width:"100%",height:"100%",backgroundColor:i.my_palette.background.secondary,color:"white"}},open:e,anchorReference:"none",onClose:()=>{r(!1)},children:t.children})]})}function ko(t){return o(ge,{button_content:o(eo,{fontSize:"small"}),title:"\u57FA\u672C\u4FE1\u606F",children:o(Bo,{root:t.root})})}class Bo extends u.Component{constructor(e){super(e),this.state={create_time:void 0,modify_time:void 0,TLDR:void 0,vis_secret:void 0,vis_indis:void 0}}async componentDidMount(){let e=await v.get.create_time(h.node_id),r=await v.get.tldr(h.node_id),i=await v.get.visibility(h.node_id);this.setState({create_time:e.create_time,modify_time:e.modify_time,TLDR:r,vis_secret:i.secret,vis_indis:i.indiscriminate_provider})}render(){let e=this;this.props.root.parameters.title.val;let r=i=>{let n=u.useContext(k);return p(s,{sx:{marginBottom:"1rem"},children:[o(F,{color:"text.default",sx:{marginRight:n.printer.margins.colon,display:"inline-block",...n.printer.fonts.structure,color:n.my_palette.text.on_secondary},children:i.title}),o(F,{sx:{...n.printer.fonts.structure,display:"inline-block",whiteSpace:"pre-wrap",color:n.my_palette.text.weak_on_secondary},children:i.content})]})};return h.logged_in&&(s,e.state.vis_secret||b,e.state.vis_indis||b),p(s,{children:[o(r,{title:"\u521B\u5EFA\u65F6\u95F4",content:e.state.create_time}),o(r,{title:"\u4FEE\u6539\u65F6\u95F4",content:e.state.modify_time}),e.state.TLDR?o(j,{children:o(r,{title:"\u592A\u957F\u4E0D\u770B",content:e.state.TLDR})}):o(b,{}),h.logged_in?o(r,{title:"\u53EF\u89C1\u6027",content:p(s,{sx:{textAlign:"left"},children:[e.state.vis_secret?o(E,{label:"\u4E0D\u8BA9\u770B",variant:"outlined",color:"info",size:"small"}):o(b,{}),e.state.vis_indis?o(E,{label:"\u6742\u9648",variant:"outlined",color:"info",size:"small"}):o(b,{})]})}):o(b,{})]})}}function wo(t){return o(ge,{button_content:o(oo,{fontSize:"small"}),title:"\u7559\u8A00",children:o(Re,{})})}class $o extends u.Component{constructor(e){super(e),this.state={comments:[]}}async update(){let e=await v.get.comments(h.node_id);e=e.reverse(),this.setState({comments:e})}async componentDidMount(){await this.update()}render(){let e=this,r=i=>p(s,{sx:{marginBottom:"1rem",marginX:"0.5rem"},children:[o(F,{sx:{marginLeft:"0.5rem",fontSize:"0.9rem"},children:i.content},"typo1"),p(F,{sx:{textAlign:"right",marginTop:"0.5rem",fontSize:"0.9rem"},children:["\u2014\u2014 ",i.name?`${i.name}`:"\u4E0D\u77E5\u540D\u8005"]},"typo2")]});return o(s,{children:e.state.comments.length==0?o(b,{children:"\uFF08\u7A7A\uFF09"}):e.state.comments.map((i,n)=>{let[a,l]=i;return o(r,{name:l,content:a},n)})})}}class De extends u.Component{constructor(e){super(e),this.state={content:"",name:"",snakerbar_open:!1,status:!1}}async submit(){let e=this,r=!1;e.state.content&&(r=await v.post.comments({content:e.state.content,name:e.state.name},h.node_id)),e.setState({status:r,snakerbar_open:!0}),r&&(e.props.onRenew(),e.setState({content:"",name:""}))}render(){let e=this,r=this.context;return p(s,{children:[o(ie,{label:o("span",{style:{color:r.my_palette.text.weak_on_secondary},children:"\u7559\u8A00"}),placeholder:"\u8BF4\u70B9\u5565",multiline:!0,onChange:i=>{e.setState({content:i.target.value})},variant:"outlined",fullWidth:!0,minRows:4,value:e.state.content,InputProps:{style:{color:r.my_palette.text.on_secondary},inputProps:{style:{color:r.my_palette.text.on_secondary}}}}),o(ie,{label:o("span",{style:{color:r.my_palette.text.weak_on_secondary},children:"\u79F0\u547C"}),placeholder:"\u4F60\u662F\u8C01\uFF1F",onChange:i=>{e.setState({name:i.target.value})},variant:"standard",fullWidth:!0,sx:{marginTop:"0.5rem"},InputProps:{style:{color:r.my_palette.text.on_secondary},inputProps:{style:{color:r.my_palette.text.on_secondary}}},value:e.state.name}),o(s,{sx:{textAlign:"left",marginTop:"1rem"},children:o(U,{variant:"outlined",onClick:()=>e.submit(),sx:{color:r.my_palette.text.on_primary,borderColor:r.my_palette.text.on_primary},children:"\u63D0\u4EA4\u7559\u8A00"})})]})}}S(De,"contextType",k);class Re extends u.Component{constructor(r){super(r);S(this,"comment_ref");this.comment_ref=u.createRef()}render(){let r=this,i=r.context;return p(s,{sx:{...i.printer.fonts.structure,position:"absolute",top:"2%",bottom:"2%",left:"2%",width:"96%"},children:[p(s,{sx:{position:"absolute",top:"1%",height:"98%",left:"1%",width:"69%",paddingX:"0.25rem",paddingY:"0.25rem"},children:[o(s,{sx:{textAlign:"left"},children:o(E,{sx:{border:"1px solid white",color:i.my_palette.text.on_secondary},label:"\u7559\u8A00\u5217\u8868",size:"small"})}),o(T,{sx:{position:"absolute",left:"0.25rem",right:"0.25rem",top:"2.25rem",bottom:"0.25rem",overflowY:"auto"},children:o($o,{ref:r.comment_ref})})]}),o(T,{sx:{position:"absolute",top:"1%",height:"98%",left:"71%",width:"28%",overflow:"auto",paddingTop:"1rem"},children:o(De,{onRenew:()=>{r.comment_ref&&r.comment_ref.current&&r.comment_ref.current.update()}})})]})}}S(Re,"contextType",k);function Ao(t){return o(ge,{button_content:o(qt,{fontSize:"small"}),title:"\u5173\u4E8E",children:o(Oe,{})})}class Oe extends u.Component{constructor(e){super(e)}render(){let e=this.context;return o(s,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:o(H,{underline:"hover",href:"https://fftyyy.github.io",sx:{marginTop:"1rem",fontSize:"1rem",display:"inline-block",color:e.my_palette.text.on_secondary},children:"\u{1F449}\u6211\u7684\u4E2A\u4EBA\u4E3B\u9875"})})}}S(Oe,"contextType",k);function Fo(t){const e="yblog-topbox-edit-active";let[r,i]=u.useState(!1);C.exports.useEffect(()=>{let m=new $e().get(e)=="true";i(m)},[]);let n=d=>{new $e().set(e,d?"true":"false",{path:"/",maxAge:6e6}),i(d)},a=u.useContext(k),l={backgroundColor:"rgba(0,0,0,0)",color:"white"},c={backgroundColor:a.my_palette.background.anti_primary,color:a.my_palette.text.anti_on_primary};return p(b,{children:[o(ee,{title:"\u7F16\u8F91",children:o(U,{sx:{paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.2rem",marginY:"0.4rem",minWidth:"0.5rem",marginX:"0.1rem",...r?c:l,"&:hover":{...r?l:c,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:d=>{n(!r)},children:o(to,{fontSize:"small"})})}),o(Ee,{sx:{left:"0",top:"0",width:"14%",height:"90%",opacity:.85,marginTop:"3rem",marginLeft:"0.2rem"},open:r,transition:!0,children:({TransitionProps:d})=>o(Ie,{...d,timeout:350,children:o(Fe,{sx:{paddingX:"1rem",paddingY:"1rem",width:"100%",height:"100%",backgroundColor:a.my_palette.background.secondary,color:"white"},children:o(Le,{root:t.root,idx_activated:t.idx_activated,onActivateIdx:t.onActivateIdx})})})})]})}let G=t=>{let e=u.useContext(k);return o(H,{...t,sx:{marginTop:"0.2rem",marginBottom:"0.3rem",...e.printer.fonts.body,color:e.my_palette.text.on_secondary}})};class Le extends u.Component{constructor(e){super(e)}render(){let e=this.props,r=this.context,i={color:r.my_palette.text.on_secondary,backgroundColor:"rgba(30,60,40,0.5)"},n={backgroundColor:"rgba(130,170,160,0.5)",color:r.my_palette.text.anti_on_primary};return o(s,{sx:{position:"absolute",top:"5%"},children:p(pe,{force_direction:"column",children:[o(G,{underline:"hover",href:R(`/edit/content/${h.node_id}`),children:"\u7F16\u8F91\u5185\u5BB9"}),o(G,{underline:"hover",href:R(`/edit/structure/${h.node_id}`),children:"\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(G,{underline:"hover",href:R(`/edit/shallow_structure/${h.node_id}`),children:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(G,{underline:"hover",href:R(`/admin/articlezone/node/add/?father_id=${h.node_id}`),children:"\u65B0\u5EFA\u5B50\u8282\u70B9"}),o(G,{underline:"hover",href:R(`/admin/articlezone/node/${h.node_id}/change/`),children:"\u8FDB\u5165\u540E\u53F0"}),o("br",{}),p("div",{children:["\u7EC4\u4EF6IDX\u663E\u793A",e.idx_activated?"\u5DF2":"\u672A","\u6253\u5F00\u3002"]}),p(U,{sx:{marginX:"1rem",...e.idx_activated?i:n,"&:hover":{...e.idx_activated?n:i,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:()=>{e.onActivateIdx&&e.onActivateIdx()},children:[e.idx_activated?"\u505C\u6B62\u663E\u793A":"\u663E\u793A","\u7EC4\u4EF6ID"]}),p("div",{children:["\u6839\u8282\u70B9IDX: ",e.root.idx]})]})})}}S(Le,"contextType",k);function Eo(t){let e=!t.simple,r=i=>{let n=e?i=="row"?"column":"row":i;return o(be.Provider,{value:n,children:o(Jt,{direction:i,...t.sx||{},children:t.children})})};return t.force_direction!=null?r(t.force_direction):o(be.Consumer,{children:i=>r(i)})}function Io(t){return u.useContext(k),p(Eo,{force_direction:"row",sx:{width:"100%",height:"100%",overflow:"hidden"},children:[o(T,{sx:{paddingX:"1rem",maxWidth:"80%",maxHeight:"100%",overflow:"auto",borderRight:"1px solid grey"},children:o(Co,{root:t.root})}),p(s,{sx:{textAlign:"right",marginLeft:"auto",paddingLeft:"0.6rem",paddingRight:"0.4rem",borderLeft:"1px solid grey"},children:[h.logged_in?o(Fo,{root:t.root,idx_activated:t.idx_activated,onActivateIdx:t.onActivateIdx}):o(b,{}),o(Ao,{}),o(wo,{root:t.root}),o(ko,{root:t.root})]})]})}class So extends u.Component{constructor(r){super(r);S(this,"printer_comp_ref");this.state={printer:void 0,tree:void 0,cache:void 0,info:{},activate_idx:!1},this.printer_comp_ref=u.createRef()}get_printer_comp(){if(this.printer_comp_ref&&this.printer_comp_ref.current)return this.printer_comp_ref.current}async componentDidMount(){let r=await v.get.concept(h.node_id),i=Ge(r),n=new He(tt,i,ot,rt),a=await v.get.content(h.node_id);document.title=a.parameters.title.val;let l=await v.get.cache(h.node_id),c=await v.get.create_time(h.node_id);this.setState({printer:n,tree:a,cache:l,info:{create_time:c.create_time,modify_time:c.modify_time}}),setTimeout(()=>{Ue.go()},1e3)}render(){let r=this,{printer:i,tree:n}=this.state;return i&&n?o(Qe,{theme:dt(te.mui),children:o(je,{value:te,children:p(s,{sx:{position:"fixed",width:"100%",height:"100%",left:"0",right:"0",backgroundColor:"rgba(0,0,0,0)",color:"text.primary"},children:[o(Ze,{}),o(_t,{sx:{position:"absolute",top:"0",left:"0",height:"2.60rem",width:"100%",opacity:"0.9",border:"1px solid grey"},children:o(Io,{root:n,idx_activated:r.state.activate_idx,onActivateIdx:()=>{r.setState({activate_idx:!r.state.activate_idx})}})}),o(s,{sx:{position:"absolute",top:"2.6rem",left:"12%",bottom:"0.5rem",width:"65%"},children:o(T,{sx:{position:"absolute",width:"98%",left:"1%",top:"1%",height:"98%",overflowY:"auto",wordBreak:"break-all"},className:"mathjax_process",children:o(Ye,{children:p(Xe,{value:{BackendData:h,cache:r.state.cache,activate_idx:r.state.activate_idx},children:[o(s,{sx:{marginTop:"2.5rem",marginLeft:"2rem",marginBottom:"2.5rem"},children:o(Ke,{sx:{...te.printer.fonts.title,fontSize:"1.7rem"},children:n.parameters.title.val})}),o(s,{children:o(Je,{ref:this.printer_comp_ref,printer:i,theme:te,onUpdateCache:a=>{a&&JSON.stringify(a)!=JSON.stringify(r.state.cache)&&setTimeout(()=>r.setState({cache:a}),200)},root:n,onDidMount:a=>{h.linkto&&setTimeout(()=>{let l=parseInt(h.linkto);a.scroll_to_idx(l);let c=a.get_ref_from_idx(l);c&&(c.style.border="2px solid")},500)}})})]})})})}),o(s,{sx:{position:"absolute",top:"6%",left:"83%",height:"92%",width:"13%"},children:o(yo,{root:n,printer:r.state.printer,onScroll:a=>{var c;let l=(c=r.get_printer_comp())==null?void 0:c.get_component();l&&l.scroll_to(a)}})})]})})}):o(b,{children:"\u522B\u6025"})}}qe.render(o(So,{}),document.getElementById("root"));
