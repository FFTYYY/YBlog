import{a as l,I as n,B as a,j as e,F as m,b as h,R as p}from"./titleword.f7f7728b.js";import{p as u,l as f,f as _,r as x,e as g,h as v,m as c,q as B,i as y,t as b,G as w,v as C}from"./index.484564ee.js";import{M as P}from"./math.e82b0f78.js";import{j,B as k}from"./Link.4c9f1461.js";class D extends l.Component{constructor(r){super(r),this.state={printer:void 0,tree:void 0,cache:void 0}}async componentDidMount(){let r=await n.get.concept(a.node_id),o=u(r),s=new f(_,o,x,g),t=await n.get.content(a.node_id),i=await n.get.cache(a.node_id);this.setState({printer:s,tree:t,cache:i})}render(){let r=this,{printer:o,tree:s}=this.state;return o&&s?e(v,{theme:j(c.mui),children:h(B,{value:c,mui:!0,children:[e(y,{}),e(k,{children:e(b,{sx:{position:"absolute",width:"100%",left:"0%",top:"0",height:"100%",overflow:"auto",backgroundColor:"background.default",color:"text.primary"},className:"heightProvider mathjax_process",children:e(P,{children:e(w,{value:{BackendData:a,cache:r.state.cache},children:e(C,{printer:o,theme:c,onUpdateCache:t=>{t&&JSON.stringify(t)!=JSON.stringify(r.state.cache)&&setTimeout(()=>r.setState({cache:t}),200)},root:s,onDidMount:t=>{a.linkto&&setTimeout(()=>{let i=parseInt(a.linkto);t.scroll_to_idx(i);let d=t.get_ref_from_idx(i);d&&(d.style.border="2px solid")},300)}})})})})})]})}):e(m,{})}}p.render(e(D,{}),document.getElementById("root"));
