var dt=Object.defineProperty;var mt=(t,e,n)=>e in t?dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var de=(t,e,n)=>(mt(t,typeof e!="symbol"?e+"":e,n),n);import{r as b,g as ft,b as Ze,c as se,d as Je,e as pe,f as pt,h as we,i as ht,j as o,M as vt,a as D,I as M,B as w,u as he,A as je,k as xt,T as bt,l as De,m as ye,P as gt,E as Nt,n as Et,o as _t,S as Ct,G as Dt,p as kt,R as yt}from"./titleword.ef3c9aa8.js";import{T as wt,u as jt,g as We,P as Qe,a as qe,b as Vt,B as St,p as At,f as Ft,r as Tt,d as It,c as Lt,m as ge,C as Ot}from"./overlayscrollbars.8683fc29.js";import{f as zt,M as Mt}from"./math.7a27f5eb.js";import{g as et,a as tt,s as re,_ as O,u as nt,d as Bt,b as rt,c as Rt,j as A,e as ne,P as d,f as Pt,h as it,i as $t,k as J,B as q,L as Ht,l as Wt,S as Ve,I as Re,m as qt}from"./Link.a41e9b5a.js";import{S as Ut,C as Kt,D as Yt,a as Gt,g as Xt,s as ot}from"./abstract.26b9b041.js";import{S as Zt}from"./Save.a6faa839.js";import"./SwitchBase.ee63ccdc.js";function Jt(t){return et("MuiCollapse",t)}tt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Qt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],en=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return it(r,Jt,n)},tn=re("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>O({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&O({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),nn=re("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>O({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),rn=re("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>O({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Pe=b.exports.forwardRef(function(e,n){const r=nt({props:e,name:"MuiCollapse"}),{addEndListener:i,children:a,className:s,collapsedSize:l="0px",component:u,easing:f,in:c,onEnter:v,onEntered:g,onEntering:j,onExit:I,onExited:k,onExiting:h,orientation:F="vertical",style:z,timeout:_=Bt.standard,TransitionComponent:T=wt}=r,y=rt(r,Qt),V=O({},r,{orientation:F,collapsedSize:l}),P=en(V),le=jt(),ve=b.exports.useRef(),B=b.exports.useRef(null),ue=b.exports.useRef(),ie=typeof l=="number"?`${l}px`:l,Q=F==="horizontal",U=Q?"width":"height";b.exports.useEffect(()=>()=>{clearTimeout(ve.current)},[]);const oe=b.exports.useRef(null),Ae=Rt(n,oe),K=m=>C=>{if(m){const L=oe.current;C===void 0?m(L):m(L,C)}},ce=()=>B.current?B.current[Q?"clientWidth":"clientHeight"]:0,Fe=K((m,C)=>{B.current&&Q&&(B.current.style.position="absolute"),m.style[U]=ie,v&&v(m,C)}),xe=K((m,C)=>{const L=ce();B.current&&Q&&(B.current.style.position="");const{duration:$,easing:Y}=We({style:z,timeout:_,easing:f},{mode:"enter"});if(_==="auto"){const He=le.transitions.getAutoHeightDuration(L);m.style.transitionDuration=`${He}ms`,ue.current=He}else m.style.transitionDuration=typeof $=="string"?$:`${$}ms`;m.style[U]=`${L}px`,m.style.transitionTimingFunction=Y,j&&j(m,C)}),be=K((m,C)=>{m.style[U]="auto",g&&g(m,C)}),Te=K(m=>{m.style[U]=`${ce()}px`,I&&I(m)}),Ie=K(k),Le=K(m=>{const C=ce(),{duration:L,easing:$}=We({style:z,timeout:_,easing:f},{mode:"exit"});if(_==="auto"){const Y=le.transitions.getAutoHeightDuration(C);m.style.transitionDuration=`${Y}ms`,ue.current=Y}else m.style.transitionDuration=typeof L=="string"?L:`${L}ms`;m.style[U]=ie,m.style.transitionTimingFunction=$,h&&h(m)});return A(T,O({in:c,onEnter:Fe,onEntered:be,onEntering:xe,onExit:Te,onExited:Ie,onExiting:Le,addEndListener:m=>{_==="auto"&&(ve.current=setTimeout(m,ue.current||0)),i&&i(oe.current,m)},nodeRef:oe,timeout:_==="auto"?null:_},y,{children:(m,C)=>A(tn,O({as:u,className:ne(P.root,s,{entered:P.entered,exited:!c&&ie==="0px"&&P.hidden}[m]),style:O({[Q?"minWidth":"minHeight"]:ie},z),ownerState:O({},V,{state:m}),ref:Ae},C,{children:A(nn,{ownerState:O({},V,{state:m}),className:P.wrapper,ref:B,children:A(rn,{ownerState:O({},V,{state:m}),className:P.wrapperInner,children:a})})}))}))});Pe.propTypes={addEndListener:d.func,children:d.node,classes:d.object,className:d.string,collapsedSize:d.oneOfType([d.number,d.string]),component:Pt,easing:d.oneOfType([d.shape({enter:d.string,exit:d.string}),d.string]),in:d.bool,onEnter:d.func,onEntered:d.func,onEntering:d.func,onExit:d.func,onExited:d.func,onExiting:d.func,orientation:d.oneOf(["horizontal","vertical"]),style:d.object,sx:d.oneOfType([d.arrayOf(d.oneOfType([d.func,d.object,d.bool])),d.func,d.object]),timeout:d.oneOfType([d.oneOf(["auto"]),d.number,d.shape({appear:d.number,enter:d.number,exit:d.number})])};Pe.muiSupportAuto=!0;var on=Pe;function an(t){return et("MuiCard",t)}tt("MuiCard",["root"]);const sn=["className","raised"],ln=t=>{const{classes:e}=t;return it({root:["root"]},an,e)},un=re(Qe,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),at=b.exports.forwardRef(function(e,n){const r=nt({props:e,name:"MuiCard"}),{className:i,raised:a=!1}=r,s=rt(r,sn),l=O({},r,{raised:a}),u=ln(l);return A(un,O({className:ne(u.root,i),elevation:a?8:void 0,ref:n,ownerState:l},s))});at.propTypes={children:d.node,classes:d.object,className:d.string,raised:$t(d.bool,t=>t.raised&&t.variant==="outlined"?new Error('MUI: Combining `raised={true}` with `variant="outlined"` has no effect.'):null),sx:d.oneOfType([d.arrayOf(d.oneOfType([d.func,d.object,d.bool])),d.func,d.object])};var cn=at,$e="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\base\\concept\\editors.tsx";let dn=Ze({get_label:(t,e)=>e.label});var mn=Ze({get_label:(t,e)=>`\u6B21\u8282\uFF1A${e.title}`}),fn=se({}),pn=se({}),hn=se({}),vn=se({});let xn=se({}),bn=Je({get_title:(t,e)=>e.title}),gn=Je({get_title:(t,e)=>"\u7AE0\u8282"});var Nn=pe({}),En=pe({}),_n=pe({surrounder:t=>o.exports.jsxDEV("del",{children:t.children},void 0,!1,{fileName:$e,lineNumber:48,columnNumber:75},void 0)}),Cn=pe({surrounder:t=>o.exports.jsxDEV("u",{children:t.children},void 0,!1,{fileName:$e,lineNumber:49,columnNumber:75},void 0)}),Dn=pe({surrounder:t=>o.exports.jsxDEV(o.exports.Fragment,{children:t.children},void 0,!1)}),kn=pt({get_label:()=>"\u884C",get_numchildren:(t,e)=>e.widths.split(",").reduce((i,a)=>[...i,parseInt(a)],[]).length,get_widths:(t,e)=>e.widths.split(",").reduce((i,a)=>[...i,parseInt(a)],[])}),yn=se({rightbar_extra(t){return[{component:vt,other_props:{idx:0,parameter_name:"suffix",label:"extra"},skip_mouseless:!0}]}}),wn=we({get_label:()=>"\u56FE\u7247",is_empty:(t,e)=>!e.target,render_element:t=>{let[e,n]=D.useState(""),r=t.node,i=r.parameters.target.val,a=r.parameters.type.val,s=r.parameters.height.val,l=r.parameters.width.val;return D.useEffect(()=>{(async()=>{if(a=="internal"){let u=await M.get.resource_info(i,w.node_id);u.url?n(he(u.url)):n("")}else n(i)})()}),o.exports.jsxDEV("img",{src:e||void 0,style:{width:l>0?`${l}rem`:"100%",height:s>0?`${s}rem`:"100%"}},void 0,!1,{fileName:$e,lineNumber:107,columnNumber:16},void 0)}}),jn=we({get_label:(t,e)=>"\u5C55\u793A\u5B50\u8282\u70B9"}),Vn=we({get_label:(t,e)=>"\u5C55\u793A\u6742\u9648\u8282\u70B9"}),Sn=we({get_label:(t,e)=>"\u63D2\u5165\u5B50\u8282\u70B9"}),An=ht({get_label:t=>{var e;return(e=t.parameters.label)==null?void 0:e.val}});let Fn={group:{\u662D\u8A00:dn,\u968F\u8A00:pn,\u5C5E\u8A00:xn,\u6570\u5B66:yn,\u88F1\u793A:hn,\u5F70\u793A:vn,\u683C\u793A:fn,\u6B21\u8282:mn},inline:{\u5F3A:Nn,\u520A:_n,\u7F00:Cn,\u6570\u5B66:Dn,\u65E0:En},structure:{\u9F50\u8A00:kn},support:{\u56FE:wn,\u5C0F\u8282\u7EBF:bn,\u7AE0\u8282\u7EBF:gn,\u5C55\u793A\u5B50\u8282\u70B9:jn,\u5C55\u793A\u6742\u9648\u8282\u70B9:Vn,\u63D2\u5165\u5B50\u8282\u70B9:Sn},abstract:{\u7A46\u8A00:An}},Tn=ft();var In=J([A("circle",{cx:"17",cy:"4.54",r:"2"},"0"),A("path",{d:"M14 17h-2c0 1.65-1.35 3-3 3s-3-1.35-3-3 1.35-3 3-3v-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5zm3-3.5h-1.86l1.67-3.67C17.42 8.5 16.44 7 14.96 7h-5.2c-.81 0-1.54.47-1.87 1.2L7.22 10l1.92.53L9.79 9H12l-1.83 4.1c-.6 1.33.39 2.9 1.85 2.9H17v5h2v-5.5c0-1.1-.9-2-2-2z"},"1")],"AccessibleForward"),Ln=J(A("path",{d:"m22.25 14.29-.69 1.89L9.2 11.71l2.08-5.66 8.56 3.09c2.1.76 3.18 3.06 2.41 5.15zM1.5 12.14 8 14.48V19h8v-1.63L20.52 19l.69-1.89-19.02-6.86-.69 1.89zm5.8-1.94c1.49-.72 2.12-2.51 1.41-4C7.99 4.71 6.2 4.08 4.7 4.8c-1.49.71-2.12 2.5-1.4 4 .71 1.49 2.5 2.12 4 1.4z"}),"AirlineSeatFlatAngled"),On=J(A("path",{d:"M6 6.5c.31 0 .7.15.9.56.24.5.02 1.1-.47 1.34-.14.06-.28.1-.43.1-.3 0-.7-.15-.89-.56-.17-.34-.1-.63-.05-.78.05-.14.18-.4.51-.56.14-.06.28-.1.43-.1m6.47 2.11 6.69 2.41c.52.19.93.56 1.15 1.05.22.48.25 1.03.06 1.53l-.01.02-8.59-3.11.7-1.9M10 15.19l4 1.44V17h-4v-1.81M6 4.5c-.44 0-.88.1-1.3.3-1.49.71-2.12 2.5-1.4 4 .51 1.07 1.58 1.7 2.7 1.7.44 0 .88-.1 1.3-.3 1.49-.72 2.12-2.51 1.41-4C8.19 5.13 7.12 4.5 6 4.5zm5.28 1.55L9.2 11.71l12.36 4.47.69-1.89c.77-2.09-.31-4.39-2.41-5.15l-8.56-3.09zm-9.09 4.2-.69 1.89L8 14.48V19h8v-1.63L20.52 19l.69-1.89-19.02-6.86z"}),"AirlineSeatFlatAngledOutlined"),zn=J([A("circle",{cx:"12.5",cy:"4.5",r:"2"},"0"),A("path",{d:"m19.77 17.72-.64-6.37c-.07-.77-.72-1.35-1.49-1.35H16c-1.5-.02-2.86-.54-3.76-1.44l-2-1.98C10.08 6.42 9.62 6 8.83 6c-.51 0-1.02.2-1.41.59L4.08 9.91c-.53.68-.51 1.57-.21 2.13l1.43 2.8-3.15 4.05 1.57 1.24L7.4 15.4l-.17-1.36.77.71V20h2v-6.12l-2.12-2.12 2.36-2.36c.94.94 1.72 1.82 3.59 2.32L13 20h1.5l.41-3.5h3.18l.14 1.22c-.44.26-.73.74-.73 1.28 0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5c0-.54-.29-1.02-.73-1.28zM15.09 15l.41-3.5h2l.41 3.5h-2.82z"},"1")],"AssistWalker"),Mn=J(A("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"}),"DriveFileRenameOutline"),st=J(A("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10zM8 13.01l1.41 1.41L11 12.84V17h2v-4.16l1.59 1.59L16 13.01 12.01 9 8 13.01z"}),"DriveFolderUpload"),Bn=J(A("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy"),Rn=J(A("path",{d:"M9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5.75 8.9 3 23h2.1l1.75-8L9 17v6h2v-7.55L8.95 13.4l.6-3C10.85 12 12.8 13 15 13v-2c-1.85 0-3.45-1-4.35-2.45l-.95-1.6C9.35 6.35 8.7 6 8 6c-.25 0-.5.05-.75.15L2 8.3V13h2V9.65l1.75-.75M13 2v7h3.75v14h1.5V9H22V2h-9zm5.01 6V6.25H14.5v-1.5h3.51V3l2.49 2.5L18.01 8z"}),"FollowTheSigns"),X="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\article_editor\\outside_buttons\\redirect.tsx";function Se(t){let e=t.Icon;return o.exports.jsxDEV(q,{sx:{marginLeft:"0.35rem",marginRight:"0.25rem",marginTop:"0.35rem"},children:o.exports.jsxDEV(je,{title:t.title,children:o.exports.jsxDEV(Ht,{underline:"hover",href:t.href,children:o.exports.jsxDEV(e,{fontSize:"small",color:"primary"},void 0,!1,{fileName:X,lineNumber:50,columnNumber:17},this)},void 0,!1,{fileName:X,lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:X,lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:X,lineNumber:42,columnNumber:13},this)}function Pn(t){return o.exports.jsxDEV(Se,{title:"\u540E\u53F0\u9875\u9762",href:he(`/admin/articlezone/node/${w.node_id}/change/`),Icon:Rn},void 0,!1,{fileName:X,lineNumber:58,columnNumber:12},this)}function $n(t){return o.exports.jsxDEV(Se,{title:"\u7F16\u8F91\u5B50\u8282\u70B9\u7ED3\u6784",href:he(`/edit/structure/${w.node_id}`),Icon:Ln},void 0,!1,{fileName:X,lineNumber:67,columnNumber:12},this)}function Hn(t){return o.exports.jsxDEV(Se,{title:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u7ED3\u6784",href:he(`/edit/shallow_structure/${w.node_id}`),Icon:On},void 0,!1,{fileName:X,lineNumber:77,columnNumber:12},this)}function Wn(t){return o.exports.jsxDEV(Se,{title:"\u9884\u89C8\u9875\u9762\uFF08\u6709\u4EC0\u4E48\u5FC5\u8981\u5417\uFF09",href:he(`/view/content/${w.node_id}`),Icon:In},void 0,!1,{fileName:X,lineNumber:86,columnNumber:12},this)}var N="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\node_modules\\notistack\\dist\\notistack.esm.js";function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qn(t,e,n){return e&&Ue(t.prototype,e),n&&Ue(t,n),t}function x(){return x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x.apply(this,arguments)}function Un(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Z(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lt=D.createContext(),Kn={mui:{root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},container:{containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}}},Yn={NO_PERSIST_ALL:"WARNING - notistack: Reached maxSnack while all enqueued snackbars have 'persist' flag. Notistack will dismiss the oldest snackbar anyway to allow other ones in the queue to be presented."},H={view:{default:20,dense:4},snackbar:{default:6,dense:2}},te={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Ut,transitionDuration:{enter:225,exit:195}},me=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Gn=function(e){return""+me(e.vertical)+me(e.horizontal)},Xn=function(e){return Object.keys(e).filter(function(n){return!Kn.container[n]}).reduce(function(n,r){var i;return x({},n,(i={},i[r]=e[r],i))},{})},G={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},ke={toContainerAnchorOrigin:function(e){return"containerAnchorOrigin"+e},toAnchorOrigin:function(e){var n=e.vertical,r=e.horizontal;return"anchorOrigin"+me(n)+me(r)},toVariant:function(e){return"variant"+me(e)}},Ne=function(e){return!!e||e===0},Ye=function(e){return typeof e=="number"||e===null},Zn=function(e,n,r){return function(i){return i==="autoHideDuration"?Ye(e.autoHideDuration)?e.autoHideDuration:Ye(n.autoHideDuration)?n.autoHideDuration:te.autoHideDuration:e[i]||n[i]||r[i]}};function Oe(t,e,n){return t===void 0&&(t={}),e===void 0&&(e={}),n===void 0&&(n={}),x({},n,{},e,{},t)}var Jn="SnackbarContent",ut={root:Jn+"-root"},Qn=re("div")(function(t){var e,n,r=t.theme;return n={},n["&."+ut.root]=(e={display:"flex",flexWrap:"wrap",flexGrow:1},e[r.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},e),n}),er=b.exports.forwardRef(function(t,e){var n=t.className,r=Z(t,["className"]);return o.exports.jsxDEV(Qn,{...Object.assign({ref:e,className:ne(ut.root,n)},r)},void 0,!1,{fileName:N,lineNumber:224,columnNumber:10},this)}),Ge={right:"left",left:"right",bottom:"up",top:"down"},tr=function(e){return e.horizontal!=="center"?Ge[e.horizontal]:Ge[e.vertical]},nr=function(e){return o.exports.jsxDEV(Ve,{...Object.assign({},e),children:o.exports.jsxDEV("path",{d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"},void 0,!1,{fileName:N,lineNumber:245,columnNumber:65},this)},void 0,!1,{fileName:N,lineNumber:245,columnNumber:10},this)},rr=function(e){return o.exports.jsxDEV(Ve,{...Object.assign({},e),children:o.exports.jsxDEV("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"},void 0,!1,{fileName:N,lineNumber:251,columnNumber:65},this)},void 0,!1,{fileName:N,lineNumber:251,columnNumber:10},this)},ir=function(e){return o.exports.jsxDEV(Ve,{...Object.assign({},e),children:o.exports.jsxDEV("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2, 6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12, 13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},void 0,!1,{fileName:N,lineNumber:257,columnNumber:65},this)},void 0,!1,{fileName:N,lineNumber:257,columnNumber:10},this)},or=function(e){return o.exports.jsxDEV(Ve,{...Object.assign({},e),children:o.exports.jsxDEV("path",{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12A10,10 0 0,0 12,2Z"},void 0,!1,{fileName:N,lineNumber:263,columnNumber:65},this)},void 0,!1,{fileName:N,lineNumber:263,columnNumber:10},this)},Ee={fontSize:20,marginInlineEnd:8},ar={default:void 0,success:o.exports.jsxDEV(nr,{style:Ee},void 0,!1,{fileName:N,lineNumber:274,columnNumber:25},globalThis),warning:o.exports.jsxDEV(rr,{style:Ee},void 0,!1,{fileName:N,lineNumber:277,columnNumber:25},globalThis),error:o.exports.jsxDEV(ir,{style:Ee},void 0,!1,{fileName:N,lineNumber:280,columnNumber:23},globalThis),info:o.exports.jsxDEV(or,{style:Ee},void 0,!1,{fileName:N,lineNumber:283,columnNumber:22},globalThis)};function fe(t,e){return t.reduce(function(n,r){return r==null?n:(typeof r!="function"&&console.error("Invalid Argument Type. must only provide functions, undefined, or null."),function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=[].concat(s);e&&u.indexOf(e)===-1&&u.push(e),n.apply(this,u),r.apply(this,u)})},function(){})}var sr=typeof window!="undefined"?b.exports.useLayoutEffect:b.exports.useEffect;function Xe(t){var e=b.exports.useRef(t);return sr(function(){e.current=t}),b.exports.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var lr=b.exports.forwardRef(function(t,e){var n=t.children,r=t.autoHideDuration,i=t.ClickAwayListenerProps,a=t.disableWindowBlurListener,s=a===void 0?!1:a,l=t.onClose,u=t.onMouseEnter,f=t.onMouseLeave,c=t.open,v=t.resumeHideDuration,g=Z(t,["children","autoHideDuration","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration"]),j=b.exports.useRef(),I=Xe(function(){l&&l.apply(void 0,arguments)}),k=Xe(function(y){!l||y==null||(clearTimeout(j.current),j.current=setTimeout(function(){I(null,G.TIMEOUT)},y))});b.exports.useEffect(function(){return c&&k(r),function(){clearTimeout(j.current)}},[c,r,k]);var h=function(){clearTimeout(j.current)},F=b.exports.useCallback(function(){r!=null&&k(v!=null?v:r*.5)},[r,v,k]),z=function(V){u&&u(V),h()},_=function(V){f&&f(V),F()},T=function(V){l&&l(V,G.CLICKAWAY)};return b.exports.useEffect(function(){if(!s&&c)return window.addEventListener("focus",F),window.addEventListener("blur",h),function(){window.removeEventListener("focus",F),window.removeEventListener("blur",h)}},[s,F,c]),b.exports.createElement(Kt,x({onClickAway:T},i),b.exports.createElement("div",x({onMouseEnter:z,onMouseLeave:_,ref:e},g),n))}),W="SnackbarItem",S={contentRoot:W+"-contentRoot",lessPadding:W+"-lessPadding",variantSuccess:W+"-variantSuccess",variantError:W+"-variantError",variantInfo:W+"-variantInfo",variantWarning:W+"-variantWarning",message:W+"-message",action:W+"-action",wrappedRoot:W+"-wrappedRoot"},ur=re(lr)(function(t){var e,n=t.theme,r=n.palette.mode||n.palette.type,i=Wt(n.palette.background.default,r==="light"?.8:.98);return e={},e["&."+S.wrappedRoot]={position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},e["."+S.contentRoot]=x({},n.typography.body2,{backgroundColor:i,color:n.palette.getContrastText(i),alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}),e["."+S.lessPadding]={paddingLeft:8*2.5},e["."+S.variantSuccess]={backgroundColor:"#43a047",color:"#fff"},e["."+S.variantError]={backgroundColor:"#d32f2f",color:"#fff"},e["."+S.variantInfo]={backgroundColor:"#2196f3",color:"#fff"},e["."+S.variantWarning]={backgroundColor:"#ff9800",color:"#fff"},e["."+S.message]={display:"flex",alignItems:"center",padding:"8px 0"},e["."+S.action]={display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8},e}),cr=function(e){var n=e.classes,r=Z(e,["classes"]),i=b.exports.useRef(),a=b.exports.useState(!0),s=a[0],l=a[1];b.exports.useEffect(function(){return function(){i.current&&clearTimeout(i.current)}},[]);var u=fe([r.snack.onClose,r.onClose],r.snack.key),f=function(){r.snack.requestClose&&u(null,G.INSTRCUTED)},c=function(){i.current=setTimeout(function(){l(!s)},125)},v=r.style,g=r.ariaAttributes,j=r.className,I=r.hideIconVariant,k=r.iconVariant,h=r.snack,F=r.action,z=r.content,_=r.TransitionComponent,T=r.TransitionProps,y=r.transitionDuration,V=Z(r,["style","dense","ariaAttributes","className","hideIconVariant","iconVariant","snack","action","content","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),P=h.key,le=h.open,ve=h.className,B=h.variant,ue=h.content,ie=h.action,Q=h.ariaAttributes,U=h.anchorOrigin,oe=h.message,Ae=h.TransitionComponent,K=h.TransitionProps,ce=h.transitionDuration,Fe=Z(h,["persist","key","open","entered","requestClose","className","variant","content","action","ariaAttributes","anchorOrigin","message","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),xe=x({},ar,{},k)[B],be=x({"aria-describedby":"notistack-snackbar"},Oe(Q,g)),Te=Ae||_||te.TransitionComponent,Ie=Oe(ce,y,te.transitionDuration),Le=x({direction:tr(U)},Oe(K,T)),ae=ie||F;typeof ae=="function"&&(ae=ae(P));var m=ue||z;typeof m=="function"&&(m=m(P,h.message));var C=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce(function(L,$){var Y;return x({},L,(Y={},Y[$]=fe([r.snack[$],r[$]],r.snack.key),Y))},{});return o.exports.jsxDEV(on,{unmountOnExit:!0,timeout:175,in:s,onExited:C.onExited,children:o.exports.jsxDEV(ur,{...Object.assign({},V,Fe,{open:le,className:ne(n.root,S.wrappedRoot,n[ke.toAnchorOrigin(U)]),onClose:u}),children:o.exports.jsxDEV(Te,{...Object.assign({appear:!0,in:le,timeout:Ie},Le,{onExit:C.onExit,onExiting:C.onExiting,onExited:c,onEnter:C.onEnter,onEntering:C.onEntering,onEntered:fe([C.onEntered,f])}),children:m||o.exports.jsxDEV(er,{...Object.assign({},be,{role:"alert",style:v,className:ne(S.contentRoot,S[ke.toVariant(B)],n[ke.toVariant(B)],j,ve,!I&&xe&&S.lessPadding)}),children:[o.exports.jsxDEV("div",{id:be["aria-describedby"],className:S.message,children:[I?null:xe,oe]},void 0,!0,{fileName:N,lineNumber:608,columnNumber:7},this),ae&&o.exports.jsxDEV("div",{className:S.action,children:ae},void 0,!1,{fileName:N,lineNumber:611,columnNumber:63},this)]},void 0,!0,{fileName:N,lineNumber:604,columnNumber:18},this)},void 0,!1,{fileName:N,lineNumber:591,columnNumber:7},this)},void 0,!1,{fileName:N,lineNumber:587,columnNumber:6},this)},void 0,!1,{fileName:N,lineNumber:582,columnNumber:10},this)},ze={container:"& > .MuiCollapse-container, & > .MuiCollapse-root",wrapper:"& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper"},Me=16,ee="SnackbarContainer",R={root:ee+"-root",rootDense:ee+"-rootDense",top:ee+"-top",bottom:ee+"-bottom",left:ee+"-left",right:ee+"-right",center:ee+"-center"},dr=re("div")(function(t){var e,n,r,i,a,s,l=t.theme;return s={},s["&."+R.root]=(e={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:l.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"},e[ze.container]={pointerEvents:"all"},e[ze.wrapper]={padding:H.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},e.maxWidth="calc(100% - "+H.view.default*2+"px)",e[l.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - "+Me*2+"px)"},e),s["&."+R.rootDense]=(n={},n[ze.wrapper]={padding:H.snackbar.dense+"px 0px"},n),s["&."+R.top]={top:H.view.default-H.snackbar.default,flexDirection:"column"},s["&."+R.bottom]={bottom:H.view.default-H.snackbar.default,flexDirection:"column-reverse"},s["&."+R.left]=(r={left:H.view.default},r[l.breakpoints.up("sm")]={alignItems:"flex-start"},r[l.breakpoints.down("sm")]={left:Me+"px"},r),s["&."+R.right]=(i={right:H.view.default},i[l.breakpoints.up("sm")]={alignItems:"flex-end"},i[l.breakpoints.down("sm")]={right:Me+"px"},i),s["&."+R.center]=(a={left:"50%",transform:"translateX(-50%)"},a[l.breakpoints.up("sm")]={alignItems:"center"},a),s}),mr=function(e){var n=e.className,r=e.anchorOrigin,i=e.dense,a=Z(e,["className","anchorOrigin","dense"]),s=ne(R[r.vertical],R[r.horizontal],R.root,n,i&&R.rootDense);return o.exports.jsxDEV(dr,{...Object.assign({className:s},a)},void 0,!1,{fileName:N,lineNumber:692,columnNumber:10},this)},fr=D.memo(mr),pr=function(t){typeof console!="undefined"&&console.error(t);try{throw new Error(t)}catch{}},hr=function(t){Un(e,t);function e(r){var i;return i=t.call(this,r)||this,i.enqueueSnackbar=function(a,s){s===void 0&&(s={});var l=s,u=l.key,f=l.preventDuplicate,c=Z(l,["key","preventDuplicate"]),v=Ne(u),g=v?u:new Date().getTime()+Math.random(),j=Zn(c,i.props,te),I=x({key:g},c,{message:a,open:!0,entered:!1,requestClose:!1,variant:j("variant"),anchorOrigin:j("anchorOrigin"),autoHideDuration:j("autoHideDuration")});return c.persist&&(I.autoHideDuration=void 0),i.setState(function(k){if(f===void 0&&i.props.preventDuplicate||f){var h=function(T){return v?T.key===u:T.message===a},F=k.queue.findIndex(h)>-1,z=k.snacks.findIndex(h)>-1;if(F||z)return k}return i.handleDisplaySnack(x({},k,{queue:[].concat(k.queue,[I])}))}),g},i.handleDisplaySnack=function(a){var s=a.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(a):i.processQueue(a)},i.processQueue=function(a){var s=a.queue,l=a.snacks;return s.length>0?x({},a,{snacks:[].concat(l,[s[0]]),queue:s.slice(1,s.length)}):a},i.handleDismissOldest=function(a){if(a.snacks.some(function(c){return!c.open||c.requestClose}))return a;var s=!1,l=!1,u=a.snacks.reduce(function(c,v){return c+(v.open&&v.persist?1:0)},0);u===i.maxSnack&&(pr(Yn.NO_PERSIST_ALL),l=!0);var f=a.snacks.map(function(c){return!s&&(!c.persist||l)?(s=!0,c.entered?(c.onClose&&c.onClose(null,G.MAXSNACK,c.key),i.props.onClose&&i.props.onClose(null,G.MAXSNACK,c.key),x({},c,{open:!1})):x({},c,{requestClose:!0})):x({},c)});return x({},a,{snacks:f})},i.handleEnteredSnack=function(a,s,l){if(!Ne(l))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(u){var f=u.snacks;return{snacks:f.map(function(c){return c.key===l?x({},c,{entered:!0}):x({},c)})}})},i.handleCloseSnack=function(a,s,l){if(i.props.onClose&&i.props.onClose(a,s,l),s!==G.CLICKAWAY){var u=l===void 0;i.setState(function(f){var c=f.snacks,v=f.queue;return{snacks:c.map(function(g){return!u&&g.key!==l?x({},g):g.entered?x({},g,{open:!1}):x({},g,{requestClose:!0})}),queue:v.filter(function(g){return g.key!==l})}})}},i.closeSnackbar=function(a){var s=i.state.snacks.find(function(l){return l.key===a});Ne(a)&&s&&s.onClose&&s.onClose(null,G.INSTRUCTED,a),i.handleCloseSnack(null,G.INSTRUCTED,a)},i.handleExitedSnack=function(a,s,l){var u=s||l;if(!Ne(u))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(f){var c=i.processQueue(x({},f,{snacks:f.snacks.filter(function(v){return v.key!==u})}));return c.queue.length===0?c:i.handleDismissOldest(c)})},i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(Ke(i)),closeSnackbar:i.closeSnackbar.bind(Ke(i))}},i}var n=e.prototype;return n.render=function(){var i=this,a=this.state.contextValue,s=this.props,l=s.iconVariant,u=s.dense,f=u===void 0?te.dense:u,c=s.hideIconVariant,v=c===void 0?te.hideIconVariant:c,g=s.domRoot,j=s.children,I=s.classes,k=I===void 0?{}:I,h=Z(s,["maxSnack","preventDuplicate","variant","anchorOrigin","iconVariant","dense","hideIconVariant","domRoot","children","classes"]),F=this.state.snacks.reduce(function(_,T){var y,V=Gn(T.anchorOrigin),P=_[V]||[];return x({},_,(y={},y[V]=[].concat(P,[T]),y))},{}),z=Object.keys(F).map(function(_){var T=F[_];return o.exports.jsxDEV(fr,{dense:f,anchorOrigin:T[0].anchorOrigin,className:ne(k.containerRoot,k[ke.toContainerAnchorOrigin(_)]),children:T.map(function(y){return o.exports.jsxDEV(cr,{...Object.assign({},h,{key:y.key,snack:y,dense:f,iconVariant:l,hideIconVariant:v,classes:Xn(k),onClose:i.handleCloseSnack,onExited:fe([i.handleExitedSnack,i.props.onExited]),onEntered:fe([i.handleEnteredSnack,i.props.onEntered])})},void 0,!1,{fileName:N,lineNumber:1012,columnNumber:16},this)})},_,!1,{fileName:N,lineNumber:1006,columnNumber:14},this)});return o.exports.jsxDEV(lt.Provider,{value:a,children:[j,g?xt.exports.createPortal(z,g):z]},void 0,!0,{fileName:N,lineNumber:1025,columnNumber:12},this)},qn(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||te.maxSnack}}]),e}(b.exports.Component),ct=function(){return b.exports.useContext(lt)},p="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\article_editor\\outside_buttons\\manage_files.tsx";function vr(){return o.exports.jsxDEV(q,{sx:{marginX:"auto"},children:o.exports.jsxDEV("label",{children:[o.exports.jsxDEV("input",{type:"file",style:{display:"none"},onChange:t=>{if(t.target.files.length>0){var e=new FormData;e.append("file",t.target.files[0]),M.post.file(e,w.node_id)}}},void 0,!1,{fileName:p,lineNumber:31,columnNumber:3},this),o.exports.jsxDEV(ye,{title:"\u4E0A\u4F20",icon:st,component:"span",size:"small",icon_props:{sx:{marginLeft:"-0.1rem",color:"primary"}}},void 0,!1,{fileName:p,lineNumber:45,columnNumber:3},this)]},void 0,!0,{fileName:p,lineNumber:30,columnNumber:37},this)},void 0,!1,{fileName:p,lineNumber:30,columnNumber:9},this)}function xr(t){let[e,n]=D.useState(void 0);const{enqueueSnackbar:r,closeSnackbar:i}=ct();return o.exports.jsxDEV(D.Fragment,{children:[o.exports.jsxDEV(ye,{title:"\u5220\u9664\u8D44\u6E90",icon:Gt,onClick:async a=>{n(a.currentTarget)}},void 0,!1,{fileName:p,lineNumber:71,columnNumber:3},this),o.exports.jsxDEV(Vt,{anchorEl:e,open:!!e,onClose:a=>n(void 0),anchorOrigin:{vertical:"center",horizontal:"right"},children:o.exports.jsxDEV(St,{onClick:async a=>{let s=await M.post.delete_resource(t.resource_id);r(s?"\u5220\u9664\u6210\u529F":"\u5220\u9664\u5931\u8D25"),n(void 0),s&&t.onSuccess&&t.onSuccess()},children:"\u786E\u5B9A\uFF1F"},void 0,!1,{fileName:p,lineNumber:87,columnNumber:4},this)},void 0,!1,{fileName:p,lineNumber:78,columnNumber:3},this)]},void 0,!0,{fileName:p,lineNumber:70,columnNumber:9},this)}function br(t){let[e,n,r]=[t.id,t.name,t.url],[i,a]=D.useState(n);const{enqueueSnackbar:s,closeSnackbar:l}=ct();b.exports.useEffect(()=>{a(n)},[n]);let u=t.onSuccess||(()=>{});return o.exports.jsxDEV(Qe,{variant:"outlined",sx:{position:"relative",marginTop:"1rem",marginX:"1rem",marginBottom:"1rem",paddingY:"0.7rem"},children:o.exports.jsxDEV(De,{force_direction:"row",children:[o.exports.jsxDEV(q,{sx:{flex:1},children:o.exports.jsxDEV(De,{children:[o.exports.jsxDEV(qe,{variant:"standard",label:"name",value:i,fullWidth:!0,onChange:f=>{a(f.target.value)}},void 0,!1,{fileName:p,lineNumber:122,columnNumber:4},this),o.exports.jsxDEV(qe,{variant:"standard",label:"url",value:r,fullWidth:!0,sx:{marginTop:"1rem"},InputProps:{readOnly:!0}},void 0,!1,{fileName:p,lineNumber:129,columnNumber:4},this)]},void 0,!0,{fileName:p,lineNumber:121,columnNumber:23},this)},void 0,!1,{fileName:p,lineNumber:121,columnNumber:3},this),o.exports.jsxDEV(q,{children:o.exports.jsxDEV(De,{children:[o.exports.jsxDEV(ye,{title:"\u66F4\u6539\u8D44\u6E90\u540D",icon:Mn,onClick:async f=>{let c={name:i},v=await M.post.manage_recourse(!1,c,e);s(v?"\u4FEE\u6539\u6587\u4EF6\u540D\u6210\u529F":"\u4FEE\u6539\u6587\u4EF6\u540D\u5931\u8D25")}},void 0,!1,{fileName:p,lineNumber:143,columnNumber:4},this),o.exports.jsxDEV("label",{children:[o.exports.jsxDEV("input",{type:"file",style:{display:"none"},onChange:async f=>{let c=!1;if(f.target.files.length<=0)c=!1;else{var v=new FormData;v.append("file",f.target.files[0]);let g=await M.post.manage_recourse(!0,v,e);c=g,g&&u()}s(c?"\u4E0A\u4F20\u6587\u4EF6\u6210\u529F":"\u4E0A\u4F20\u6587\u4EF6\u5931\u8D25")}},void 0,!1,{fileName:p,lineNumber:154,columnNumber:5},this),o.exports.jsxDEV(ye,{title:"\u66FF\u6362\u6587\u4EF6",icon:st,component:"span"},void 0,!1,{fileName:p,lineNumber:176,columnNumber:5},this)]},void 0,!0,{fileName:p,lineNumber:153,columnNumber:4},this),o.exports.jsxDEV(xr,{resource_id:e,onSuccess:u},void 0,!1,{fileName:p,lineNumber:182,columnNumber:4},this)]},void 0,!0,{fileName:p,lineNumber:140,columnNumber:8},this)},void 0,!1,{fileName:p,lineNumber:140,columnNumber:3},this)]},void 0,!0,{fileName:p,lineNumber:120,columnNumber:5},this)},void 0,!1,{fileName:p,lineNumber:114,columnNumber:9},this)}class gr extends D.Component{constructor(n){super(n);de(this,"contextType",bt);this.state={resources:[]}}async effect(){let n=await M.get.resources(w.node_id);this.setState({resources:n}),this.forceUpdate()}async componentDidMount(){this.effect()}render(){let n=this;return o.exports.jsxDEV(q,{sx:n.context.printer.fonts.body,children:o.exports.jsxDEV(De,{force_direction:"column",children:n.state.resources.map((r,i)=>{let[a,s,l]=r;return o.exports.jsxDEV(D.Fragment,{children:o.exports.jsxDEV(br,{id:a,name:s,url:l,onSuccess:()=>{n.effect()}},void 0,!1,{fileName:p,lineNumber:218,columnNumber:6},this)},i,!1,{fileName:p,lineNumber:217,columnNumber:12},this)})},void 0,!1,{fileName:p,lineNumber:214,columnNumber:50},this)},void 0,!1,{fileName:p,lineNumber:214,columnNumber:10},this)}}function Nr(t){let[e,n]=D.useState(!1);return o.exports.jsxDEV(D.Fragment,{children:[o.exports.jsxDEV(je,{title:"\u67E5\u770B/\u7BA1\u7406\u6587\u4EF6",children:o.exports.jsxDEV(Re,{size:"small",onClick:()=>{n(!0)},children:o.exports.jsxDEV(Bn,{fontSize:"small",color:"primary"},void 0,!1,{fileName:p,lineNumber:234,columnNumber:4},this)},void 0,!1,{fileName:p,lineNumber:231,columnNumber:32},this)},void 0,!1,{fileName:p,lineNumber:231,columnNumber:3},this),o.exports.jsxDEV(Yt,{anchor:"left",open:e,onClose:()=>n(!1),ModalProps:{keepMounted:!1},SlideProps:{onExited:()=>{}},PaperProps:{sx:{width:"40%"}},children:o.exports.jsxDEV(gr,{},void 0,!1,{fileName:p,lineNumber:251,columnNumber:4},this)},void 0,!1,{fileName:p,lineNumber:236,columnNumber:3},this)]},void 0,!0,{fileName:p,lineNumber:230,columnNumber:9},this)}var _e="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\article_editor\\outside_buttons\\generate_tldr.tsx";class Er extends D.Component{constructor(e){super(e),this.state={snackbar_open:!1,status:!1}}render(){let e=this;return o.exports.jsxDEV(D.Fragment,{children:o.exports.jsxDEV(je,{title:"\u751F\u6210\u6458\u8981",children:o.exports.jsxDEV(Re,{size:"small",onClick:()=>{M.post.tldr(w.node_id).then(()=>{let n=e.props.onSuccess;n&&n()})},children:o.exports.jsxDEV(zn,{fontSize:"small",color:"primary"},void 0,!1,{fileName:_e,lineNumber:48,columnNumber:17},this)},void 0,!1,{fileName:_e,lineNumber:42,columnNumber:39},this)},void 0,!1,{fileName:_e,lineNumber:42,columnNumber:13},this)},void 0,!1,{fileName:_e,lineNumber:41,columnNumber:16},this)}}var Ce="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\article_editor\\outside_buttons\\save.tsx";class _r extends D.Component{constructor(e){super(e),this.state={snackbar_open:!1,status:!1}}render(){return o.exports.jsxDEV(D.Fragment,{children:o.exports.jsxDEV(je,{title:"\u4FDD\u5B58",children:o.exports.jsxDEV(Re,{size:"small",onClick:()=>this.props.save_func(),children:o.exports.jsxDEV(Zt,{fontSize:"small",color:"primary"},void 0,!1,{fileName:Ce,lineNumber:38,columnNumber:21},this)},void 0,!1,{fileName:Ce,lineNumber:37,columnNumber:37},this)},void 0,!1,{fileName:Ce,lineNumber:37,columnNumber:13},this)},void 0,!1,{fileName:Ce,lineNumber:36,columnNumber:16},this)}}function Be(t,e,n){return ot(t,e)&&t.concept==n}function Cr(t,e){const n=e.normalizeNode;return e.normalizeNode=r=>{let[i,a]=r;if(Xt("initializing")){n(r);return}if(a.length==0){let s=i,l=s.children.length;if(l==0||!Be(s.children[0],"support","\u5C0F\u8282\u7EBF")){t.add_nodes(t.get_core().create_support("\u5C0F\u8282\u7EBF"),[0]);return}if(!Be(s.children[l-1],"support","\u7AE0\u8282\u7EBF")){t.add_nodes(t.get_core().create_support("\u7AE0\u8282\u7EBF"),[l]);return}}if(Be(i,"support","\u7AE0\u8282\u7EBF")&&(a.length!=1||a[0]!=e.children.length-1)){t.delete_node_by_path(a);return}n(r)},e}function Dr(t,e){const n=e.normalizeNode;return e.normalizeNode=r=>{let[i,a]=r;ot(i),n(r)},e}let kr=[Cr,Dr];function yr(t,e){for(let n of kr)e=n(t,e);return e}var E="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\article_editor\\App.tsx";class wr extends D.Component{constructor(n){super(n);de(this,"editor_ref");de(this,"printer_ref");de(this,"snackerbar_ref");this.state={printer:void 0,editorcore:void 0,tree:void 0,cache:void 0},this.editor_ref=D.createRef(),this.printer_ref=D.createRef(),this.snackerbar_ref=D.createRef()}update_title(n){var i,a;n||(n=this.state.tree),n&&(document.title=`\u7F16\u8F91\uFF1A${(a=(i=n.parameters)==null?void 0:i.title)==null?void 0:a.val}`)}open_snackerbar(n){this.snackerbar_ref&&this.snackerbar_ref.current&&this.snackerbar_ref.current.enqueueSnackbar(n)}async componentDidMount(){let n=this,r=await M.get.concept(w.node_id),i=At(r),a=new gt(Ft,i,Tt,It),s=new Nt({renderers:Fn,default_renderers:Tn,printer:a}),l=await M.get.content(w.node_id);l||(l=s.create_abstract("root"),l.parameters={title:{val:`Article: ${w.node_id}`,type:"string"}}),n.update_title(l);let u=await M.get.cache(w.node_id);this.setState({printer:a,editorcore:s,tree:l,cache:u})}get_editor(){if(this.editor_ref&&this.editor_ref.current)return this.editor_ref.current.get_editor()}get_printer_comp(){if(this.printer_ref&&this.printer_ref.current)return this.printer_ref.current.get_component()}async save_content(n=void 0,r=void 0){n==null&&(n=this.state.tree),r==null&&(r=this.state.cache);let i=await M.post.content({content:n},w.node_id),a=await M.post.cache({cache:r},w.node_id);this.open_snackerbar(i&&a?"\u4FDD\u5B58\u6210\u529F":"\u4FDD\u5B58\u5931\u8D25")}scroll_to_selection(){let n=this.get_editor(),r=this.get_printer_comp();if(!(n&&r))return;let i=n.get_slate().selection;if(!(i&&i.focus&&i.focus.path))return;let a=i.focus.path;r.scroll_to(a)}update_tree(){let n=this.get_editor();if(!n)return;let r=n.get_root();return this.setState({tree:r}),this.update_title(),r}render(){let n=this,{editorcore:r,printer:i,tree:a}=this.state;if(!(r&&i&&a))return o.exports.jsxDEV(o.exports.Fragment,{},void 0,!1);let[s,l]=(()=>{let{children:u,...f}=a;return[f,u]})();return o.exports.jsxDEV(Lt,{theme:qt(ge.mui),children:o.exports.jsxDEV(Et,{value:ge,mui:!0,children:o.exports.jsxDEV(q,{sx:u=>({position:"fixed",width:"100%",height:"100%",left:"0",right:"0",backgroundColor:u.palette.background.default,color:u.palette.text.primary}),children:[o.exports.jsxDEV(Ot,{},void 0,!1,{fileName:E,lineNumber:252,columnNumber:7},this),o.exports.jsxDEV(hr,{maxSnack:3,ref:n.snackerbar_ref,anchorOrigin:{horizontal:"right",vertical:"top"},variant:"info",children:o.exports.jsxDEV(q,{sx:{position:"absolute",top:"2%",left:"1%",height:"96%",width:"98%"},children:[o.exports.jsxDEV(cn,{sx:{position:"absolute",left:"0",width:"auto",display:"flex",flexDirection:"column"},children:[o.exports.jsxDEV(_r,{save_func:n.save_content.bind(n)},void 0,!1,{fileName:E,lineNumber:272,columnNumber:6},this),o.exports.jsxDEV(Nr,{},void 0,!1,{fileName:E,lineNumber:273,columnNumber:6},this),o.exports.jsxDEV(vr,{},void 0,!1,{fileName:E,lineNumber:274,columnNumber:6},this),o.exports.jsxDEV(Pn,{},void 0,!1,{fileName:E,lineNumber:275,columnNumber:6},this),o.exports.jsxDEV($n,{},void 0,!1,{fileName:E,lineNumber:276,columnNumber:6},this),o.exports.jsxDEV(Hn,{},void 0,!1,{fileName:E,lineNumber:277,columnNumber:6},this),o.exports.jsxDEV(Wn,{},void 0,!1,{fileName:E,lineNumber:278,columnNumber:6},this),o.exports.jsxDEV(Er,{onSuccess:()=>{n.open_snackerbar("\u751F\u6210\u6458\u8981\u5B8C\u6210\uFF01")}},void 0,!1,{fileName:E,lineNumber:279,columnNumber:6},this)]},void 0,!0,{fileName:E,lineNumber:265,columnNumber:5},this),o.exports.jsxDEV(q,{sx:{position:"absolute",left:"3%",width:"96%",height:"100%"},children:[o.exports.jsxDEV(q,{sx:{position:"absolute",width:"49%",left:"0%",top:"0",height:"100%"},children:o.exports.jsxDEV(_t,{ref:n.editor_ref,editorcore:r,init_rootproperty:s,init_rootchildren:l,onSave:()=>{let u=n.update_tree();setTimeout(()=>{zt.go(),n.save_content(u),n.scroll_to_selection()},50)},theme:ge,plugin:yr},void 0,!1,{fileName:E,lineNumber:295,columnNumber:7},this)},void 0,!1,{fileName:E,lineNumber:288,columnNumber:6},this),o.exports.jsxDEV(Ct,{sx:{position:"absolute",width:"49%",left:"51%",top:"0",height:"100%",overflow:"auto",paddingRight:"1%"},className:"mathjax_process",children:o.exports.jsxDEV(Mt,{children:o.exports.jsxDEV(Dt,{value:{BackendData:w,cache:n.state.cache},children:o.exports.jsxDEV(kt,{printer:i,theme:ge,onUpdateCache:u=>{u&&JSON.stringify(u)!=JSON.stringify(n.state.cache)&&setTimeout(()=>n.setState({cache:u}),200)},ref:n.printer_ref,root:a,onDidMount:u=>{w.linkto&&setTimeout(()=>{let f=parseInt(w.linkto);u.scroll_to_idx(f);let c=u.get_ref_from_idx(f);c&&(c.style.border="2px solid")},300)}},void 0,!1,{fileName:E,lineNumber:329,columnNumber:8},this)},void 0,!1,{fileName:E,lineNumber:325,columnNumber:7},this)},void 0,!1,{fileName:E,lineNumber:324,columnNumber:7},this)},void 0,!1,{fileName:E,lineNumber:313,columnNumber:6},this)]},void 0,!0,{fileName:E,lineNumber:282,columnNumber:5},this)]},void 0,!0,{fileName:E,lineNumber:258,columnNumber:4},this)},void 0,!1,{fileName:E,lineNumber:252,columnNumber:22},this)]},void 0,!0,{fileName:E,lineNumber:244,columnNumber:101},this)},void 0,!1,{fileName:E,lineNumber:244,columnNumber:65},this)},void 0,!1,{fileName:E,lineNumber:244,columnNumber:10},this)}}var jr="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\article_editor\\main.tsx";yt.render(o.exports.jsxDEV(wr,{},void 0,!1,{fileName:jr,lineNumber:6,columnNumber:2},globalThis),document.getElementById("root"));
