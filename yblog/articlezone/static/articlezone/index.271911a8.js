var Pe=Object.defineProperty;var Ve=(t,e,r)=>e in t?Pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var T=(t,e,r)=>(Ve(t,typeof e!="symbol"?e+"":e,r),r);import{g as ue,a as pe,s as L,h as f,_ as b,u as ie,b as ne,e as P,f as me,E as S,c as Ne,i as xe,S as z,N as We,P as ye,O as ce,$ as Ue,Y as He,a0 as je,a1 as Xe,B as d,L as H}from"./Link.3acf854f.js";import{r as C,j as o,b as m,a as c,B as g,I as v,T as k,A as Z,F as _,f as $e,N as G,a3 as Q,d as he,S as O,u as D,ad as _e}from"./titleword.80f09066.js";import{P as Ae,m as Fe,F as Ee}from"./overlayscrollbars.db08bf34.js";import{c as ee}from"./theme.9845efad.js";import{c as V,B as de,I as Ye}from"./useFormControl.34911e83.js";import{T as re,B as U,C as Ke,P as Je,A as qe}from"./AccessibleForward.b8b638b2.js";function Ge(t){return ue("MuiAppBar",t)}pe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const Qe=["className","color","enableColorOnDark","position"],Ze=t=>{const{color:e,position:r,classes:i}=t,n={root:["root",`color${f(e)}`,`position${f(r)}`]};return me(n,Ge,i)},te=(t,e)=>`${t==null?void 0:t.replace(")","")}, ${e})`,et=L(Ae,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${f(r.position)}`],e[`color${f(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return b({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&b({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&b({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&b({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:te(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:te(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:te(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:te(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),tt=C.exports.forwardRef(function(e,r){const i=ie({props:e,name:"MuiAppBar"}),{className:n,color:l="primary",enableColorOnDark:a=!1,position:u="fixed"}=i,s=ne(i,Qe),p=b({},i,{color:l,position:u,enableColorOnDark:a}),x=Ze(p);return o(et,b({square:!0,component:"header",ownerState:p,elevation:4,className:P(x.root,n,u==="fixed"&&"mui-fixed"),ref:r},s))});var vo=tt,ot=V(o("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function rt(t){return ue("MuiChip",t)}const it=pe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]);var h=it;const nt=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],at=t=>{const{classes:e,disabled:r,size:i,color:n,iconColor:l,onDelete:a,clickable:u,variant:s}=t,p={root:["root",s,r&&"disabled",`size${f(i)}`,`color${f(n)}`,u&&"clickable",u&&`clickableColor${f(n)}`,a&&"deletable",a&&`deletableColor${f(n)}`,`${s}${f(n)}`],label:["label",`label${f(i)}`],avatar:["avatar",`avatar${f(i)}`,`avatarColor${f(n)}`],icon:["icon",`icon${f(i)}`,`iconColor${f(l)}`],deleteIcon:["deleteIcon",`deleteIcon${f(i)}`,`deleteIconColor${f(n)}`,`deleteIcon${f(s)}Color${f(n)}`]};return me(p,rt,e)},lt=L("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:i,iconColor:n,clickable:l,onDelete:a,size:u,variant:s}=r;return[{[`& .${h.avatar}`]:e.avatar},{[`& .${h.avatar}`]:e[`avatar${f(u)}`]},{[`& .${h.avatar}`]:e[`avatarColor${f(i)}`]},{[`& .${h.icon}`]:e.icon},{[`& .${h.icon}`]:e[`icon${f(u)}`]},{[`& .${h.icon}`]:e[`iconColor${f(n)}`]},{[`& .${h.deleteIcon}`]:e.deleteIcon},{[`& .${h.deleteIcon}`]:e[`deleteIcon${f(u)}`]},{[`& .${h.deleteIcon}`]:e[`deleteIconColor${f(i)}`]},{[`& .${h.deleteIcon}`]:e[`deleteIcon${f(s)}Color${f(i)}`]},e.root,e[`size${f(u)}`],e[`color${f(i)}`],l&&e.clickable,l&&i!=="default"&&e[`clickableColor${f(i)})`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${f(i)}`],e[s],e[`${s}${f(i)}`]]}})(({theme:t,ownerState:e})=>{const r=S(t.palette.text.primary,.26),i=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return b({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${h.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${h.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${h.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${h.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${h.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${h.icon}`]:b({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&b({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},e.color!=="default"&&{color:"inherit"})),[`& .${h.deleteIcon}`]:b({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:S(r,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:S(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${h.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:S(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${h.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>b({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.hoverOpacity}))`:S(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${h.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:S(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${h.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>b({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${h.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${h.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${h.avatar}`]:{marginLeft:4},[`& .${h.avatarSmall}`]:{marginLeft:2},[`& .${h.icon}`]:{marginLeft:4},[`& .${h.iconSmall}`]:{marginLeft:2},[`& .${h.deleteIcon}`]:{marginRight:5},[`& .${h.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:S(t.palette[e.color].main,.7)}`,[`&.${h.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:S(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${h.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:S(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${h.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:S(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),st=L("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:i}=r;return[e.label,e[`label${f(i)}`]]}})(({ownerState:t})=>b({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.size==="small"&&{paddingLeft:8,paddingRight:8}));function Ce(t){return t.key==="Backspace"||t.key==="Delete"}const ct=C.exports.forwardRef(function(e,r){const i=ie({props:e,name:"MuiChip"}),{avatar:n,className:l,clickable:a,color:u="default",component:s,deleteIcon:p,disabled:x=!1,icon:$,label:M,onClick:R,onDelete:A,onKeyDown:I,onKeyUp:y,size:E="medium",variant:j="filled"}=i,X=ne(i,nt),w=C.exports.useRef(null),Y=Ne(w,r),K=B=>{B.stopPropagation(),A&&A(B)},Oe=B=>{B.currentTarget===B.target&&Ce(B)&&B.preventDefault(),I&&I(B)},Le=B=>{B.currentTarget===B.target&&(A&&Ce(B)?A(B):B.key==="Escape"&&w.current&&w.current.blur()),y&&y(B)},ae=a!==!1&&R?!0:a,le=ae||A?de:s||"div",se=b({},i,{component:le,disabled:x,size:E,color:u,iconColor:C.exports.isValidElement($)&&$.props.color||u,onDelete:!!A,clickable:ae,variant:j}),N=at(se),Me=le===de?b({component:s||"div",focusVisibleClassName:N.focusVisible},A&&{disableRipple:!0}):{};let ge=null;A&&(ge=p&&C.exports.isValidElement(p)?C.exports.cloneElement(p,{className:P(p.props.className,N.deleteIcon),onClick:K}):o(ot,{className:P(N.deleteIcon),onClick:K}));let ve=null;n&&C.exports.isValidElement(n)&&(ve=C.exports.cloneElement(n,{className:P(N.avatar,n.props.className)}));let be=null;return $&&C.exports.isValidElement($)&&(be=C.exports.cloneElement($,{className:P(N.icon,$.props.className)})),m(lt,b({as:le,className:P(N.root,l),disabled:ae&&x?!0:void 0,onClick:R,onKeyDown:Oe,onKeyUp:Le,ref:Y,ownerState:se},Me,X,{children:[ve||be,o(st,{className:P(N.label),ownerState:se,children:M}),ge]}))});var F=ct,dt=V(o("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");const ut=L(de)(({theme:t})=>b({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":b({},t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":b({boxShadow:t.shadows[0]},t.palette.mode==="light"?{backgroundColor:xe(t.palette.grey[200],.12)}:{backgroundColor:xe(t.palette.grey[600],.12)})})),pt=L(dt)({width:24,height:16});function mt(t){const e=t;return o("li",{children:o(ut,b({focusRipple:!0},t,{ownerState:e,children:o(pt,{ownerState:e})}))})}function ht(t){return ue("MuiBreadcrumbs",t)}const ft=pe("MuiBreadcrumbs",["root","ol","li","separator"]);var gt=ft;const vt=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],bt=t=>{const{classes:e}=t;return me({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},ht,e)},xt=L(z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${gt.li}`]:e.li},e.root]})({}),yt=L("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),_t=L("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Ct(t,e,r,i){return t.reduce((n,l,a)=>(a<t.length-1?n=n.concat(l,o(_t,{"aria-hidden":!0,className:e,ownerState:i,children:r},`separator-${a}`)):n.push(l),n),[])}const kt=C.exports.forwardRef(function(e,r){const i=ie({props:e,name:"MuiBreadcrumbs"}),{children:n,className:l,component:a="nav",expandText:u="Show path",itemsAfterCollapse:s=1,itemsBeforeCollapse:p=1,maxItems:x=8,separator:$="/"}=i,M=ne(i,vt),[R,A]=C.exports.useState(!1),I=b({},i,{component:a,expanded:R,expandText:u,itemsAfterCollapse:s,itemsBeforeCollapse:p,maxItems:x,separator:$}),y=bt(I),E=C.exports.useRef(null),j=w=>{const Y=()=>{A(!0);const K=E.current.querySelector("a[href],button,[tabindex]");K&&K.focus()};return p+s>=w.length?w:[...w.slice(0,p),o(mt,{"aria-label":u,onClick:Y},"ellipsis"),...w.slice(w.length-s,w.length)]},X=C.exports.Children.toArray(n).filter(w=>C.exports.isValidElement(w)).map((w,Y)=>o("li",{className:y.li,children:w},`child-${Y}`));return o(xt,b({ref:r,component:a,color:"text.secondary",className:P(y.root,l),ownerState:I},M,{children:o(yt,{className:y.ol,ref:E,ownerState:I,children:Ct(R||x&&X.length<=x?X:j(X),y.separator,$,I)})}))});var Bt=kt;const wt=["component","direction","spacing","divider","children"];function $t(t,e){const r=C.exports.Children.toArray(t).filter(Boolean);return r.reduce((i,n,l)=>(i.push(n),l<r.length-1&&i.push(C.exports.cloneElement(e,{key:`separator-${l}`})),i),[])}const At=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Ft=({ownerState:t,theme:e})=>{let r=b({display:"flex",flexDirection:"column"},ye({theme:e},ce({values:t.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i})));if(t.spacing){const i=Ue(e),n=Object.keys(e.breakpoints.values).reduce((s,p)=>((typeof t.spacing=="object"&&t.spacing[p]!=null||typeof t.direction=="object"&&t.direction[p]!=null)&&(s[p]=!0),s),{}),l=ce({values:t.direction,base:n}),a=ce({values:t.spacing,base:n});typeof l=="object"&&Object.keys(l).forEach((s,p,x)=>{if(!l[s]){const M=p>0?l[x[p-1]]:"column";l[s]=M}}),r=He(r,ye({theme:e},a,(s,p)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${At(p?l[p]:t.direction)}`]:Xe(i,s)}})))}return r=je(e.breakpoints,r),r},Et=L("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Ft),It=C.exports.forwardRef(function(e,r){const i=ie({props:e,name:"MuiStack"}),n=We(i),{component:l="div",direction:a="column",spacing:u=0,divider:s,children:p}=n,x=ne(n,wt);return o(Et,b({as:l,ownerState:{direction:a,spacing:u},ref:r},x,{children:s?$t(p,s):p}))});var Tt=It,St=V(o("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Dt=V(o("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),zt=V(o("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Rt=V(o("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description"),Ot=V(o("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),Lt=V(o("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"Forum");class Mt extends c.Component{constructor(e){super(e),this.state={father_id:g.node_id,son_ids:[],indis_ids:[]}}async set_father_id(e){let r=await v.get.son_ids(e),i=await v.get.indiscriminates(e);this.setState({father_id:e,son_ids:r,indis_ids:i})}async componentDidMount(){if((await v.get.son_ids(g.node_id)).length==0){let r=await v.get.father_id(g.node_id);this.set_father_id(r)}else this.set_father_id(g.node_id)}WordsWithButton(e){let r=e.icon,i="80%";e.weak&&e.indis&&(i="75%");let n=c.useContext(k);return m(d,{sx:{marginTop:"0.5rem"},children:[o(d,{sx:{display:"inline-block",width:"1.5rem",verticalAlign:"top"},children:r?o(Z,{title:e.title,children:o(Ye,{size:"small",onClick:e.onClick,children:o(r,{sx:{fontSize:"0.9rem"}})})}):o(_,{})},"box"),o(d,{sx:{display:"inline-block",left:"1.5rem",width:i},children:o(H,{sx:{fontSize:"0.9rem",textAlign:"left"},underline:"hover",href:e.url,color:"text.primary",children:e.words})},"link"),e.weak?o(d,{sx:{display:"inline-block",right:0,height:"1.2rem",position:"absolute"},children:o(Z,{title:"\u4E0D\u8BA9\u770B",children:o(d,{children:o($e,{text:"\u9690",fontSize:"small",color:n.mui.palette.info.main})})})},"unseen"):o(_,{})]})}SubnodeItem(e){let r=this,i=e.node_id,[n,l]=c.useState(!0),[a,u]=c.useState(!1),s=this.WordsWithButton.bind(this);return c.useEffect(()=>{(async()=>{let p=await v.get.son_ids(i);l(p.length>0);let x=await v.get.visibility(i);u(!x.secret)})()}),o(c.Fragment,{children:o(ee,{children:n?o(s,{words:o(G,{node_id:i}),title:"\u4E0B\u884C",onClick:()=>r.set_father_id(i),icon:St,url:Q.view.content(i),weak:!a,indis:e.indis},"word"):o(s,{words:o(G,{node_id:i}),url:Q.view.content(i),weak:!a,indis:e.indis},"word")})})}FathernodeItem(e){let r=this,i=e.node_id,n=this.WordsWithButton.bind(this),[l,a]=c.useState(-1),[u,s]=c.useState(!0);return c.useEffect(()=>{(async()=>{let p=await v.get.father_id(i);a(p);let x=await v.get.visibility(i);s(!x.secret)})()}),o(c.Fragment,{children:o(ee,{children:l>0?o(n,{words:o(G,{node_id:i}),title:"\u4E0A\u884C",onClick:()=>r.set_father_id(l),icon:zt,url:Q.view.content(i),weak:!u}):o(n,{words:o(G,{node_id:i}),url:Q.view.content(i),weak:!u})})})}render(){let e=this.state.father_id,r=this.state.son_ids;this.state.indis_ids;let i=this.FathernodeItem.bind(this),n=this.SubnodeItem.bind(this);return o(d,{sx:{marginTop:"0.5rem"},children:m(he,{force_direction:"column",children:[o(i,{node_id:e}),o(d,{sx:{marginLeft:"1rem"},children:r.map((l,a)=>o(c.Fragment,{children:o(n,{node_id:l})},a))})]})})}}class Pt extends c.Component{constructor(e){super(e),this.state={create_time:void 0,modify_time:void 0,TLDR:void 0,vis_secret:void 0,vis_indis:void 0}}async componentDidMount(){let e=await v.get.create_time(g.node_id),r=await v.get.tldr(g.node_id),i=await v.get.visibility(g.node_id);this.setState({create_time:e.create_time,modify_time:e.modify_time,TLDR:r,vis_secret:i.secret,vis_indis:i.indiscriminate_provider})}render(){let e=this;this.props.root.parameters.title.val;let r=i=>{let n=c.useContext(k);return m(d,{sx:{marginBottom:"1rem"},children:[o(z,{color:"text.secondary",sx:{marginRight:n.printer.margins.colon,fontSize:"0.8rem",display:"inline-block"},children:i.title}),o(z,{sx:{fontSize:"0.8rem",display:"inline-block",whiteSpace:"pre-wrap"},children:i.content})]})};return g.logged_in&&(d,e.state.vis_secret||_,e.state.vis_indis||_),m(d,{children:[o(r,{title:"\u521B\u5EFA\u65F6\u95F4",content:e.state.create_time}),o(r,{title:"\u4FEE\u6539\u65F6\u95F4",content:e.state.modify_time}),e.state.TLDR?o(ee,{children:o(r,{title:"\u592A\u957F\u4E0D\u770B",content:e.state.TLDR})}):o(_,{}),g.logged_in?o(r,{title:"\u53EF\u89C1\u6027",content:m(d,{sx:{textAlign:"left"},children:[e.state.vis_secret?o(F,{label:"\u4E0D\u8BA9\u770B",variant:"outlined",color:"info",size:"small"}):o(_,{}),e.state.vis_indis?o(F,{label:"\u6742\u9648",variant:"outlined",color:"info",size:"small"}):o(_,{})]})}):o(_,{})]})}}class Vt extends c.Component{constructor(e){super(e)}render(){let e=this.context;return m(d,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:[m(d,{sx:{position:"absolute",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"1%",left:"0",height:"23%",width:"100%"},children:[o(d,{sx:{textAlign:"right"},children:o(F,{label:"\u57FA\u672C\u4FE1\u606F",color:"secondary",size:"small"})}),o(O,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"1rem",right:"0.25rem",overflow:"auto"},children:o(Pt,{root:this.props.root})})]}),m(d,{sx:{position:"absolute",paddingX:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"27%",bottom:"2%",width:"100%"},children:[o(d,{sx:{textAlign:"right"},children:o(F,{label:"\u6587\u7AE0\u6811",color:"secondary",size:"small"})}),o(O,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"0.5rem",right:"0.25rem",overflow:"auto"},children:o(Mt,{})})]})]})}}T(Vt,"contextType",k);class Nt extends c.Component{constructor(e){super(e),this.state={comments:[]}}async update(){let e=await v.get.comments(g.node_id);e=e.reverse(),this.setState({comments:e})}async componentDidMount(){await this.update()}render(){let e=this,r=i=>m(d,{sx:{marginBottom:"1rem",marginX:"0.5rem"},children:[o(z,{sx:{marginLeft:"0.5rem",fontSize:"0.9rem"},children:i.content},"typo1"),m(z,{sx:{textAlign:"right",marginTop:"0.5rem",fontSize:"0.9rem"},children:["\u2014\u2014 ",i.name?`${i.name}`:"\u4E0D\u77E5\u540D\u7F51\u53CB"]},"typo2")]});return o(d,{children:e.state.comments.map((i,n)=>{let[l,a]=i;return o(r,{name:a,content:l},n)})})}}class Wt extends c.Component{constructor(e){super(e),this.state={content:"",name:"",snakerbar_open:!1,status:!1}}async submit(){let e=this,r=!1;e.state.content&&(r=await v.post.comments({content:e.state.content,name:e.state.name},g.node_id)),e.setState({status:r,snakerbar_open:!0}),r&&(e.props.onRenew(),e.setState({content:"",name:""}))}render(){let e=this;return m(d,{children:[o(re,{label:"\u7559\u8A00",placeholder:"\u8BF4\u70B9\u5565",multiline:!0,onChange:r=>{e.setState({content:r.target.value})},variant:"outlined",fullWidth:!0,minRows:4,value:e.state.content}),o(re,{label:"\u79F0\u547C",placeholder:"\u4F60\u662F\u8C01\uFF1F",onChange:r=>{e.setState({name:r.target.value})},variant:"standard",fullWidth:!0,sx:{marginTop:"0.5rem"},value:e.state.name}),o(d,{sx:{textAlign:"left",marginTop:"1rem"},children:o(U,{variant:"outlined",onClick:()=>e.submit(),children:"\u65B0\u5EFA\u7559\u8A00"})})]})}}class Ut extends c.Component{constructor(r){super(r);T(this,"comment_ref");this.comment_ref=c.createRef()}render(){let r=this,i=r.context;return m(d,{sx:{...i.printer.fonts.structure,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:[o(O,{sx:{position:"absolute",height:"36%",top:"1%",left:"1rem",right:"1rem",overflow:"auto",paddingTop:"1rem"},children:o(Wt,{onRenew:()=>{r.comment_ref&&r.comment_ref.current&&r.comment_ref.current.update()}})}),m(d,{sx:{position:"absolute",bottom:"1%",top:"38%",left:"1rem",right:"1rem",backgroundColor:"background.default",paddingX:"0.25rem",paddingY:"0.25rem"},children:[o(d,{sx:{textAlign:"right"},children:o(F,{label:"\u7559\u8A00\u5217\u8868",color:"secondary",size:"small"})}),o(O,{sx:{position:"absolute",left:"0.25rem",right:"0.25rem",top:"2.25rem",bottom:"0.25rem",overflowY:"auto"},children:o(Nt,{ref:r.comment_ref})})]})]})}}T(Ut,"contextType",k);let J=t=>{let e=c.useContext(k);return o(H,{...t,sx:{marginTop:"0.2rem",marginBottom:"0.3rem",...e.printer.fonts.body}})};class bo extends c.Component{constructor(e){super(e)}render(){let e=this.props;return o(d,{sx:{position:"absolute",top:"5%"},children:m(he,{force_direction:"column",children:[o(J,{underline:"hover",href:D(`/edit/content/${g.node_id}`),children:"\u7F16\u8F91\u5185\u5BB9"}),o(J,{underline:"hover",href:D(`/edit/structure/${g.node_id}`),children:"\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(J,{underline:"hover",href:D(`/edit/shallow_structure/${g.node_id}`),children:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(J,{underline:"hover",href:D(`/admin/articlezone/node/add/?father_id=${g.node_id}`),children:"\u65B0\u5EFA\u5B50\u8282\u70B9"}),o(J,{underline:"hover",href:D(`/admin/articlezone/node/${g.node_id}/change/`),children:"\u8FDB\u5165\u540E\u53F0"}),o("br",{}),m("div",{children:["\u7EC4\u4EF6IDX\u663E\u793A",e.idx_activated?"\u5DF2":"\u672A","\u6253\u5F00\u3002"]}),m(U,{onClick:()=>{e.onActivateIdx&&e.onActivateIdx()},children:[e.idx_activated?"\u505C\u6B62\u663E\u793A":"\u663E\u793A","\u7EC4\u4EF6ID"]}),m("div",{children:["\u6839\u8282\u70B9IDX: ",e.root.idx]})]})})}}class Ht extends c.Component{constructor(e){super(e)}render(){let e=this.context;return o(d,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:o(d,{sx:{position:"absolute",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"1%",left:"0",height:"23%",width:"100%"},children:o(O,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"1rem",right:"0.25rem",overflow:"auto"},children:o(d,{sx:{marginBottom:"1rem"},children:m(z,{color:"text.secondary",sx:{marginRight:e.printer.margins.colon,fontSize:"0.5rem",display:"inline-block"},children:["\u{1F449}",o(H,{href:"https://fftyyy.github.io",children:"\u6211\u7684\u4E2A\u4EBA\u4E3B\u9875"})]})})})})})}}T(Ht,"contextType",k);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Ie=Yt,ke=Kt,jt=decodeURIComponent,Xt=encodeURIComponent,oe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Yt(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},i=e||{},n=t.split(";"),l=i.decode||jt,a=0;a<n.length;a++){var u=n[a],s=u.indexOf("=");if(!(s<0)){var p=u.substring(0,s).trim();if(r[p]==null){var x=u.substring(s+1,u.length).trim();x[0]==='"'&&(x=x.slice(1,-1)),r[p]=Jt(x,l)}}}return r}function Kt(t,e,r){var i=r||{},n=i.encode||Xt;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!oe.test(t))throw new TypeError("argument name is invalid");var l=n(e);if(l&&!oe.test(l))throw new TypeError("argument val is invalid");var a=t+"="+l;if(i.maxAge!=null){var u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(i.domain){if(!oe.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!oe.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var s=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(s){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Jt(t,e){try{return e(t)}catch{return t}}function qt(){return typeof document=="object"&&typeof document.cookie=="string"}function Gt(t,e){return typeof t=="string"?Ie(t,e):typeof t=="object"&&t!==null?t:{}}function Qt(t,e){return typeof e=="undefined"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function Be(t,e){e===void 0&&(e={});var r=Zt(t);if(Qt(r,e.doNotParse))try{return JSON.parse(r)}catch{}return t}function Zt(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var W=globalThis&&globalThis.__assign||function(){return W=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},W.apply(this,arguments)},eo=function(){function t(e,r){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=Gt(e,r),new Promise(function(){i.HAS_DOCUMENT_COOKIE=qt()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){!this.HAS_DOCUMENT_COOKIE||(this.cookies=Ie(document.cookie,e))},t.prototype._emitChange=function(e){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](e)},t.prototype.get=function(e,r,i){return r===void 0&&(r={}),this._updateBrowserValues(i),Be(this.cookies[e],r)},t.prototype.getAll=function(e,r){e===void 0&&(e={}),this._updateBrowserValues(r);var i={};for(var n in this.cookies)i[n]=Be(this.cookies[n],e);return i},t.prototype.set=function(e,r,i){var n;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=W(W({},this.cookies),(n={},n[e]=r,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ke(e,r,i)),this._emitChange({name:e,value:r,options:i})},t.prototype.remove=function(e,r){var i=r=W(W({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=W({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ke(e,"",i)),this._emitChange({name:e,value:void 0,options:r})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var r=this.changeListeners.indexOf(e);r>=0&&this.changeListeners.splice(r,1)},t}(),we=eo;class xo extends c.Component{constructor(e){super(e)}render(){let{value:e,children:r,active_tab:i}=this.props;return o(d,{sx:{display:i==e?"block":"none",paddingLeft:"1.5rem"},children:r})}}function Te(t){let e=t.node_id,r=t.level||"high",i=t.lower_level||0,n=t.lower_order,l=c.useContext(k),a,[u,s]=c.useState(!1),p=y=>{s(y),y&&a&&clearTimeout(a)},[x,$]=c.useState(!0);c.useEffect(()=>{(async()=>{let y=await v.get.visibility(e);$(!y.secret)})()});let[M,R]=c.useState([]);c.useEffect(()=>{(async()=>{if(!(i>4))if(r=="high"){let y=await v.get.father_id(e);if(y>0){let E=await v.get.son_ids(y);R(E)}else{let E=await v.get.son_ids(e);R(E)}}else{let y=await v.get.son_ids(e);R(y)}})()},[t.level,t.node_id,t.lower_level]);function A(y){return()=>{a&&clearTimeout(a),a=setTimeout(()=>{p(!1)},y)}}let I=c.useRef(void 0);return m(ee,{children:[o(H,{href:Q.view.content(e),target:"_blank",underline:"none",children:m(U,{onMouseOver:()=>{p(!0)},onMouseOut:A(100),ref:I,sx:{marginX:"0.2rem",width:"calc(100% - 0.4rem)",justifyContent:"flex-start",textAlign:"left",...r=="high"?{whiteSpace:"nowarp"}:{},paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.1rem",marginY:r=="high"?"0.4rem":"0.1rem",minWidth:"1rem",color:l.my_palette.text.on_primary,backgroundColor:l.my_palette.background.primary,"&:hover":{backgroundColor:l.my_palette.background.anti_primary,color:l.my_palette.text.anti_on_primary,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},children:[o(G,{node_id:t.node_id}),x?o(_,{}):o(d,{sx:{display:"inline-block",marginLeft:"auto",right:0,paddingLeft:"0.4rem"},children:o(Z,{title:"\u4E0D\u8BA9\u770B",children:o(d,{children:o($e,{text:"\u9690",fontSize:"0.7rem",color:"inherit"})})})},"unseen")]})}),o(Ke,{onClickAway:()=>{p(!1)},children:M.length<=0?o(_,{}):o(Fe,{onMouseOver:()=>{p(!0)},onMouseOut:A(300),anchorEl:I.current,open:u,placement:r=="high"?"bottom-start":"right-start",transition:!0,modifiers:[{name:"preventOverflow",enabled:!0,options:{altAxis:!0,altBoundary:!1,tether:!1,rootBoundary:"document",padding:8}}],children:({TransitionProps:y})=>o(Ee,{...y,timeout:200,children:o(d,{children:o(O,{sx:{marginLeft:"0.3rem",marginTop:r=="high"?"0.5rem":n==0?0:"-1.5rem",marginBottom:"1rem",minWidth:"5rem",maxWidth:"15rem",maxHeight:"30rem",borderRadius:1},children:o(d,{sx:{paddingY:"0.5rem",backgroundColor:l.my_palette.background.primary,color:l.my_palette.text.on_primary,opacity:.85},children:M.map((E,j)=>o(Te,{level:"low",node_id:E,lower_level:i+1,lower_order:j},E))})})})})})})]})}function to(t){let e=g.node_id,[r,i]=c.useState([e]),n=c.useContext(k);return c.useEffect(()=>{(async()=>{let l=e,a=[e];for(let u=0;u<20;u++){let s=await v.get.father_id(l);if(s<=0)break;a=[s,...a],l=s}i(a)})()},[]),o(Bt,{sx:{color:n.my_palette.text.on_primary},separator:o(Dt,{sx:{color:n.my_palette.text.weak_on_primary}}),children:r.map(l=>o(Te,{node_id:l},l))})}function fe(t){let[e,r]=c.useState(!1),i=c.useContext(k);return m(_,{children:[o(Z,{title:t.title,children:o(U,{sx:{paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.2rem",marginY:"0.4rem",minWidth:"0.5rem",marginX:"0.3rem",color:"white",backgroundColor:"inherit","&:hover":{backgroundColor:i.my_palette.background.anti_primary,color:i.my_palette.text.anti_on_primary,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:n=>{r(!0)},children:t.button_content})}),o(Je,{sx:{left:"20%",top:"20%",width:"60%",height:"60%",opacity:.95},PaperProps:{sx:{paddingX:"1rem",paddingY:"1rem",minWidth:"40vw",width:"100%",height:"100%",backgroundColor:i.my_palette.background.secondary,color:"white"}},open:e,anchorReference:"none",onClose:()=>{r(!1)},children:t.children})]})}function oo(t){return o(fe,{button_content:o(Rt,{fontSize:"small"}),title:"\u57FA\u672C\u4FE1\u606F",children:o(ro,{root:t.root})})}class ro extends c.Component{constructor(e){super(e),this.state={create_time:void 0,modify_time:void 0,TLDR:void 0,vis_secret:void 0,vis_indis:void 0}}async componentDidMount(){let e=await v.get.create_time(g.node_id),r=await v.get.tldr(g.node_id),i=await v.get.visibility(g.node_id);this.setState({create_time:e.create_time,modify_time:e.modify_time,TLDR:r,vis_secret:i.secret,vis_indis:i.indiscriminate_provider})}render(){let e=this;this.props.root.parameters.title.val;let r=i=>{let n=c.useContext(k);return m(d,{sx:{marginBottom:"1rem"},children:[o(z,{color:"text.default",sx:{marginRight:n.printer.margins.colon,display:"inline-block",...n.printer.fonts.structure,color:n.my_palette.text.on_secondary},children:i.title}),o(z,{sx:{...n.printer.fonts.structure,display:"inline-block",whiteSpace:"pre-wrap",color:n.my_palette.text.weak_on_secondary},children:i.content})]})};return g.logged_in&&(d,e.state.vis_secret||_,e.state.vis_indis||_),m(d,{children:[o(r,{title:"\u521B\u5EFA\u65F6\u95F4",content:e.state.create_time}),o(r,{title:"\u4FEE\u6539\u65F6\u95F4",content:e.state.modify_time}),e.state.TLDR?o(ee,{children:o(r,{title:"\u592A\u957F\u4E0D\u770B",content:e.state.TLDR})}):o(_,{}),g.logged_in?o(r,{title:"\u53EF\u89C1\u6027",content:m(d,{sx:{textAlign:"left"},children:[e.state.vis_secret?o(F,{label:"\u4E0D\u8BA9\u770B",variant:"outlined",color:"info",size:"small"}):o(_,{}),e.state.vis_indis?o(F,{label:"\u6742\u9648",variant:"outlined",color:"info",size:"small"}):o(_,{})]})}):o(_,{})]})}}function io(t){return o(fe,{button_content:o(Lt,{fontSize:"small"}),title:"\u7559\u8A00",children:o(De,{})})}class no extends c.Component{constructor(e){super(e),this.state={comments:[]}}async update(){let e=await v.get.comments(g.node_id);e=e.reverse(),this.setState({comments:e})}async componentDidMount(){await this.update()}render(){let e=this,r=i=>m(d,{sx:{marginBottom:"1rem",marginX:"0.5rem"},children:[o(z,{sx:{marginLeft:"0.5rem",fontSize:"0.9rem"},children:i.content},"typo1"),m(z,{sx:{textAlign:"right",marginTop:"0.5rem",fontSize:"0.9rem"},children:["\u2014\u2014 ",i.name?`${i.name}`:"\u4E0D\u77E5\u540D\u8005"]},"typo2")]});return o(d,{children:e.state.comments.length==0?o(_,{children:"\uFF08\u7A7A\uFF09"}):e.state.comments.map((i,n)=>{let[l,a]=i;return o(r,{name:a,content:l},n)})})}}class Se extends c.Component{constructor(e){super(e),this.state={content:"",name:"",snakerbar_open:!1,status:!1}}async submit(){let e=this,r=!1;e.state.content&&(r=await v.post.comments({content:e.state.content,name:e.state.name},g.node_id)),e.setState({status:r,snakerbar_open:!0}),r&&(e.props.onRenew(),e.setState({content:"",name:""}))}render(){let e=this,r=this.context;return m(d,{children:[o(re,{label:o("span",{style:{color:r.my_palette.text.weak_on_secondary},children:"\u7559\u8A00"}),placeholder:"\u8BF4\u70B9\u5565",multiline:!0,onChange:i=>{e.setState({content:i.target.value})},variant:"outlined",fullWidth:!0,minRows:4,value:e.state.content,InputProps:{style:{color:r.my_palette.text.on_secondary},inputProps:{style:{color:r.my_palette.text.on_secondary}}}}),o(re,{label:o("span",{style:{color:r.my_palette.text.weak_on_secondary},children:"\u79F0\u547C"}),placeholder:"\u4F60\u662F\u8C01\uFF1F",onChange:i=>{e.setState({name:i.target.value})},variant:"standard",fullWidth:!0,sx:{marginTop:"0.5rem"},InputProps:{style:{color:r.my_palette.text.on_secondary},inputProps:{style:{color:r.my_palette.text.on_secondary}}},value:e.state.name}),o(d,{sx:{textAlign:"left",marginTop:"1rem"},children:o(U,{variant:"outlined",onClick:()=>e.submit(),sx:{color:r.my_palette.text.on_primary,borderColor:r.my_palette.text.on_primary},children:"\u63D0\u4EA4\u7559\u8A00"})})]})}}T(Se,"contextType",k);class De extends c.Component{constructor(r){super(r);T(this,"comment_ref");this.comment_ref=c.createRef()}render(){let r=this,i=r.context;return m(d,{sx:{...i.printer.fonts.structure,position:"absolute",top:"2%",bottom:"2%",left:"2%",width:"96%"},children:[m(d,{sx:{position:"absolute",top:"1%",height:"98%",left:"1%",width:"69%",paddingX:"0.25rem",paddingY:"0.25rem"},children:[o(d,{sx:{textAlign:"left"},children:o(F,{sx:{border:"1px solid white",color:i.my_palette.text.on_secondary},label:"\u7559\u8A00\u5217\u8868",size:"small"})}),o(O,{sx:{position:"absolute",left:"0.25rem",right:"0.25rem",top:"2.25rem",bottom:"0.25rem",overflowY:"auto"},children:o(no,{ref:r.comment_ref})})]}),o(O,{sx:{position:"absolute",top:"1%",height:"98%",left:"71%",width:"28%",overflow:"auto",paddingTop:"1rem"},children:o(Se,{onRenew:()=>{r.comment_ref&&r.comment_ref.current&&r.comment_ref.current.update()}})})]})}}T(De,"contextType",k);function ao(t){return o(fe,{button_content:o(qe,{fontSize:"small"}),title:"\u5173\u4E8E",children:o(ze,{})})}class ze extends c.Component{constructor(e){super(e)}render(){let e=this.context;return o(d,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:o(H,{underline:"hover",href:"https://fftyyy.github.io",sx:{marginTop:"1rem",fontSize:"1rem",display:"inline-block",color:e.my_palette.text.on_secondary},children:"\u{1F449}\u6211\u7684\u4E2A\u4EBA\u4E3B\u9875"})})}}T(ze,"contextType",k);function lo(t){const e="yblog-topbox-edit-active";let[r,i]=c.useState(!1);C.exports.useEffect(()=>{let p=new we().get(e)=="true";i(p)},[]);let n=s=>{new we().set(e,s?"true":"false",{path:"/",maxAge:6e6}),i(s)},l=c.useContext(k),a={backgroundColor:"rgba(0,0,0,0)",color:"white"},u={backgroundColor:l.my_palette.background.anti_primary,color:l.my_palette.text.anti_on_primary};return m(_,{children:[o(Z,{title:"\u7F16\u8F91",children:o(U,{sx:{paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.2rem",marginY:"0.4rem",minWidth:"0.5rem",marginX:"0.3rem",...r?u:a,"&:hover":{...r?a:u,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:s=>{n(!r)},children:o(Ot,{fontSize:"small"})})}),o(Fe,{sx:{left:"0",top:"0",width:"14%",height:"90%",opacity:.85,marginTop:"3rem",marginLeft:"0.2rem"},open:r,transition:!0,children:({TransitionProps:s})=>o(Ee,{...s,timeout:350,children:o(Ae,{sx:{paddingX:"1rem",paddingY:"1rem",width:"100%",height:"100%",backgroundColor:l.my_palette.background.secondary,color:"white"},children:o(Re,{root:t.root,idx_activated:t.idx_activated,onActivateIdx:t.onActivateIdx})})})})]})}let q=t=>{let e=c.useContext(k);return o(H,{...t,sx:{marginTop:"0.2rem",marginBottom:"0.3rem",...e.printer.fonts.body,color:e.my_palette.text.on_secondary}})};class Re extends c.Component{constructor(e){super(e)}render(){let e=this.props,r=this.context,i={color:r.my_palette.text.on_secondary,backgroundColor:"rgba(30,60,40,0.5)"},n={backgroundColor:"rgba(130,170,160,0.5)",color:r.my_palette.text.anti_on_primary};return o(d,{sx:{position:"absolute",top:"5%"},children:m(he,{force_direction:"column",children:[o(q,{underline:"hover",href:D(`/edit/content/${g.node_id}`),children:"\u7F16\u8F91\u5185\u5BB9"}),o(q,{underline:"hover",href:D(`/edit/structure/${g.node_id}`),children:"\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(q,{underline:"hover",href:D(`/edit/shallow_structure/${g.node_id}`),children:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(q,{underline:"hover",href:D(`/admin/articlezone/node/add/?father_id=${g.node_id}`),children:"\u65B0\u5EFA\u5B50\u8282\u70B9"}),o(q,{underline:"hover",href:D(`/admin/articlezone/node/${g.node_id}/change/`),children:"\u8FDB\u5165\u540E\u53F0"}),o("br",{}),m("div",{children:["\u7EC4\u4EF6IDX\u663E\u793A",e.idx_activated?"\u5DF2":"\u672A","\u6253\u5F00\u3002"]}),m(U,{sx:{marginX:"1rem",...e.idx_activated?i:n,"&:hover":{...e.idx_activated?n:i,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:()=>{e.onActivateIdx&&e.onActivateIdx()},children:[e.idx_activated?"\u505C\u6B62\u663E\u793A":"\u663E\u793A","\u7EC4\u4EF6ID"]}),m("div",{children:["\u6839\u8282\u70B9IDX: ",e.root.idx]})]})})}}T(Re,"contextType",k);function so(t){let e=!t.simple,r=i=>{let n=e?i=="row"?"column":"row":i;return o(_e.Provider,{value:n,children:o(Tt,{direction:i,...t.sx||{},children:t.children})})};return t.force_direction!=null?r(t.force_direction):o(_e.Consumer,{children:i=>r(i)})}function yo(t){return c.useContext(k),m(so,{force_direction:"row",sx:{width:"100%",height:"100%",overflow:"hidden"},children:[o(O,{sx:{paddingX:"1rem",maxWidth:"80%",maxHeight:"100%",overflow:"auto",borderRight:"1px solid grey"},children:o(to,{root:t.root})}),m(d,{sx:{textAlign:"right",marginLeft:"auto",paddingLeft:"0.8rem",paddingRight:"0.4rem",borderLeft:"1px solid grey"},children:[g.logged_in?o(lo,{root:t.root,idx_activated:t.idx_activated,onActivateIdx:t.onActivateIdx}):o(_,{}),o(ao,{}),o(io,{root:t.root}),o(oo,{root:t.root})]})]})}export{vo as A,yo as T};
