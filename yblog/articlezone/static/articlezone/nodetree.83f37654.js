var Wn=Object.defineProperty,Vn=Object.defineProperties;var Gn=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var qn=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable;var gt=(e,r,t)=>r in e?Wn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Wt=(e,r)=>{for(var t in r||(r={}))qn.call(r,t)&&gt(e,t,r[t]);if(Kt)for(var t of Kt(r))Xn.call(r,t)&&gt(e,t,r[t]);return e},Vt=(e,r)=>Vn(e,Gn(r));var Ke=(e,r,t)=>(gt(e,typeof r!="symbol"?r+"":r,t),t);import{r as g,j as T,b as De,F as Yn,R as Jn,a as Qn}from"./jsx-runtime.71fbd6ab.js";import{a as Zn,S as ei}from"./buttons.ef823221.js";import{g as tt,a as rt,s as Se,_ as M,u as nt,aB as ti,aC as ri,b as Pe,d as it,ay as qr,R as Pt,e as at,aD as Gt,h as ze,aE as ni,aF as ii,f as Xr,O as Ue,aG as ai,aA as Yr,aH as oi,aI as qt,I as Xt,y as si,B as He,A as ui,T as ci,a3 as Yt}from"./snackbar.c1b12451.js";import{T as li}from"./titleword.0e366829.js";function fi(e){return tt("MuiCollapse",e)}rt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const di=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],gi=e=>{const{orientation:r,classes:t}=e,n={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return it(n,fi,t)},pi=Se("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.orientation],t.state==="entered"&&r.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&r.hidden]}})(({theme:e,ownerState:r})=>M({height:0,overflow:"hidden",transition:e.transitions.create("height")},r.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},r.state==="entered"&&M({height:"auto",overflow:"visible"},r.orientation==="horizontal"&&{width:"auto"}),r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&{visibility:"hidden"})),hi=Se("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,r)=>r.wrapper})(({ownerState:e})=>M({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),vi=Se("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,r)=>r.wrapperInner})(({ownerState:e})=>M({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Jr=g.exports.forwardRef(function(r,t){const n=nt({props:r,name:"MuiCollapse"}),{addEndListener:i,children:a,className:o,collapsedSize:c="0px",component:u,easing:f,in:p,onEnter:v,onEntered:b,onEntering:y,onExit:I,onExited:d,onExiting:D,orientation:$="vertical",style:R,timeout:m=ti.standard,TransitionComponent:A=ri}=n,H=Pe(n,di),j=M({},n,{orientation:$,collapsedSize:c}),L=gi(j),J=qr(),de=g.exports.useRef(),q=g.exports.useRef(null),ge=g.exports.useRef(),pe=typeof c=="number"?`${c}px`:c,Q=$==="horizontal",X=Q?"width":"height";g.exports.useEffect(()=>()=>{clearTimeout(de.current)},[]);const ae=g.exports.useRef(null),x=Pt(t,ae),K=C=>P=>{if(C){const V=ae.current;P===void 0?C(V):C(V,P)}},_=()=>q.current?q.current[Q?"clientWidth":"clientHeight"]:0,oe=K((C,P)=>{q.current&&Q&&(q.current.style.position="absolute"),C.style[X]=pe,v&&v(C,P)}),ne=K((C,P)=>{const V=_();q.current&&Q&&(q.current.style.position="");const{duration:G,easing:F}=Gt({style:R,timeout:m,easing:f},{mode:"enter"});if(m==="auto"){const ie=J.transitions.getAutoHeightDuration(V);C.style.transitionDuration=`${ie}ms`,ge.current=ie}else C.style.transitionDuration=typeof G=="string"?G:`${G}ms`;C.style[X]=`${V}px`,C.style.transitionTimingFunction=F,y&&y(C,P)}),Oe=K((C,P)=>{C.style[X]="auto",b&&b(C,P)}),z=K(C=>{C.style[X]=`${_()}px`,I&&I(C)}),he=K(d),W=K(C=>{const P=_(),{duration:V,easing:G}=Gt({style:R,timeout:m,easing:f},{mode:"exit"});if(m==="auto"){const F=J.transitions.getAutoHeightDuration(P);C.style.transitionDuration=`${F}ms`,ge.current=F}else C.style.transitionDuration=typeof V=="string"?V:`${V}ms`;C.style[X]=pe,C.style.transitionTimingFunction=G,D&&D(C)});return T(A,M({in:p,onEnter:oe,onEntered:Oe,onEntering:ne,onExit:z,onExited:he,onExiting:W,addEndListener:C=>{m==="auto"&&(de.current=setTimeout(C,ge.current||0)),i&&i(ae.current,C)},nodeRef:ae,timeout:m==="auto"?null:m},H,{children:(C,P)=>T(pi,M({as:u,className:at(L.root,o,{entered:L.entered,exited:!p&&pe==="0px"&&L.hidden}[C]),style:M({[Q?"minWidth":"minHeight"]:pe},R),ownerState:M({},j,{state:C}),ref:x},P,{children:T(hi,{ownerState:M({},j,{state:C}),className:L.wrapper,ref:q,children:T(vi,{ownerState:M({},j,{state:C}),className:L.wrapperInner,children:a})})}))}))});Jr.muiSupportAuto=!0;var Qr=Jr,yi=ze(T("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),mi=ze(T("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),bi=ze(T("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Di(e){return tt("MuiCheckbox",e)}const Si=rt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);var pt=Si;const Oi=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],Ti=e=>{const{classes:r,indeterminate:t,color:n}=e,i={root:["root",t&&"indeterminate",`color${Xr(n)}`]},a=it(i,Di,r);return M({},r,a)},Ci=Se(ni,{shouldForwardProp:e=>ii(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.indeterminate&&r.indeterminate,t.color!=="default"&&r[`color${Xr(t.color)}`]]}})(({theme:e,ownerState:r})=>M({color:e.palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:Ue(r.color==="default"?e.palette.action.active:e.palette[r.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.color!=="default"&&{[`&.${pt.checked}, &.${pt.indeterminate}`]:{color:e.palette[r.color].main},[`&.${pt.disabled}`]:{color:e.palette.action.disabled}})),Ii=T(mi,{}),wi=T(yi,{}),xi=T(bi,{}),Ei=g.exports.forwardRef(function(r,t){var n,i;const a=nt({props:r,name:"MuiCheckbox"}),{checkedIcon:o=Ii,color:c="primary",icon:u=wi,indeterminate:f=!1,indeterminateIcon:p=xi,inputProps:v,size:b="medium"}=a,y=Pe(a,Oi),I=f?p:u,d=f?p:o,D=M({},a,{color:c,indeterminate:f,size:b}),$=Ti(D);return T(Ci,M({type:"checkbox",inputProps:M({"data-indeterminate":f},v),icon:g.exports.cloneElement(I,{fontSize:(n=I.props.fontSize)!=null?n:b}),checkedIcon:g.exports.cloneElement(d,{fontSize:(i=d.props.fontSize)!=null?i:b}),ownerState:D,ref:t},y,{classes:$}))});var _i=Ei,ki=ze(T("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),Pi=ze(T("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Ri=g.exports.createContext({});var Rt=Ri;const Ni=["element"];function Mi(e,r){for(let t=0;t<e.length;t+=1)if(r(e[t]))return t;return-1}function $i(e,r){let t=0,n=e.length-1;for(;t<=n;){const i=Math.floor((t+n)/2);if(e[i].element===r)return i;e[i].element.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_PRECEDING?n=i-1:t=i+1}return t}const Zr=g.exports.createContext({});function Ai(e){const r=g.exports.useRef(null);return g.exports.useEffect(()=>{r.current=e},[e]),r.current}const Jt=()=>{};function Li(e){const[,r]=g.exports.useState(),{registerDescendant:t=Jt,unregisterDescendant:n=Jt,descendants:i=[],parentId:a=null}=g.exports.useContext(Zr),o=Mi(i,f=>f.element===e.element),c=Ai(i),u=i.some((f,p)=>c&&c[p]&&c[p].element!==f.element);return ai(()=>{if(e.element)return t(M({},e,{index:o})),()=>{n(e.element)};r({})},[t,n,o,u,e]),{parentId:a,index:o}}function en(e){const{children:r,id:t}=e,[n,i]=g.exports.useState([]),a=g.exports.useCallback(u=>{let{element:f}=u,p=Pe(u,Ni);i(v=>{let b;if(v.length===0)return[M({},p,{element:f,index:0})];const y=$i(v,f);if(v[y]&&v[y].element===f)b=v;else{const I=M({},p,{element:f,index:y});b=v.slice(),b.splice(y,0,I)}return b.forEach((I,d)=>{I.index=d}),b})},[]),o=g.exports.useCallback(u=>{i(f=>f.filter(p=>u!==p.element))},[]),c=g.exports.useMemo(()=>({descendants:n,registerDescendant:a,unregisterDescendant:o,parentId:t}),[n,a,o,t]);return T(Zr.Provider,{value:c,children:r})}function Hi(e){const{focus:r,isExpanded:t,isExpandable:n,isFocused:i,isDisabled:a,isSelected:o,multiSelect:c,selectNode:u,selectRange:f,toggleExpansion:p}=g.exports.useContext(Rt),v=n?n(e):!1,b=t?t(e):!1,y=i?i(e):!1,I=a?a(e):!1,d=o?o(e):!1;return{disabled:I,expanded:b,selected:d,focused:y,handleExpansion:m=>{if(!I){y||r(m,e);const A=c&&(m.shiftKey||m.ctrlKey||m.metaKey);v&&!(A&&t(e))&&p(m,e)}},handleSelection:m=>{I||(y||r(m,e),c&&(m.shiftKey||m.ctrlKey||m.metaKey)?m.shiftKey?f(m,{end:e}):u(m,e,!0):u(m,e))},preventSelection:m=>{(m.shiftKey||m.ctrlKey||m.metaKey||I)&&m.preventDefault()}}}const ji=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],Fi=g.exports.forwardRef(function(r,t){const{classes:n,className:i,displayIcon:a,expansionIcon:o,icon:c,label:u,nodeId:f,onClick:p,onMouseDown:v}=r,b=Pe(r,ji),{disabled:y,expanded:I,selected:d,focused:D,handleExpansion:$,handleSelection:R,preventSelection:m}=Hi(f),A=c||o||a,H=L=>{m(L),v&&v(L)},j=L=>{$(L),R(L),p&&p(L)};return De("div",M({className:at(i,n.root,I&&n.expanded,d&&n.selected,D&&n.focused,y&&n.disabled),onClick:j,onMouseDown:H,ref:t},b,{children:[T("div",{className:n.iconContainer,children:A}),T("div",{className:n.label,children:u})]}))});var tn=Fi;function Ui(e){return tt("MuiTreeItem",e)}const zi=rt("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);var be=zi;const Bi=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Ki=e=>{const{classes:r}=e;return it({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Ui,r)},Wi=Se("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,r)=>r.root})({listStyle:"none",margin:0,padding:0,outline:0}),Vi=Se(tn,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,r)=>[r.content,r.iconContainer&&{[`& .${be.iconContainer}`]:r.iconContainer},r.label&&{[`& .${be.label}`]:r.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${be.disabled}`]:{opacity:e.palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${be.focused}`]:{backgroundColor:e.palette.action.focus},[`&.${be.selected}`]:{backgroundColor:Ue(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Ue(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${be.focused}`]:{backgroundColor:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${be.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${be.label}`]:M({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},e.typography.body1)})),Gi=Se(Qr,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,r)=>r.group})({margin:0,padding:0,marginLeft:17}),qi=g.exports.forwardRef(function(r,t){const n=nt({props:r,name:"MuiTreeItem"}),{children:i,className:a,collapseIcon:o,ContentComponent:c=tn,ContentProps:u,endIcon:f,expandIcon:p,disabled:v,icon:b,id:y,label:I,nodeId:d,onClick:D,onMouseDown:$,TransitionComponent:R=Qr,TransitionProps:m}=n,A=Pe(n,Bi),{icons:H={},focus:j,isExpanded:L,isFocused:J,isSelected:de,isDisabled:q,multiSelect:ge,disabledItemsFocusable:pe,mapFirstChar:Q,unMapFirstChar:X,registerNode:ae,unregisterNode:x,treeId:K}=g.exports.useContext(Rt);let _=null;y!=null?_=y:K&&d&&(_=`${K}-${d}`);const[oe,ne]=g.exports.useState(null),Oe=g.exports.useRef(null),z=Pt(ne,t),he=g.exports.useMemo(()=>({element:oe,id:d}),[d,oe]),{index:W,parentId:ve}=Li(he),C=Boolean(Array.isArray(i)?i.length:i),P=L?L(d):!1,V=J?J(d):!1,G=de?de(d):!1,F=q?q(d):!1,ie=M({},n,{expanded:P,focused:V,selected:G,disabled:F}),Y=Ki(ie);let Te,Ce;C&&(P?Ce=o||H.defaultCollapseIcon:Ce=p||H.defaultExpandIcon),C?Te=H.defaultParentIcon:Te=f||H.defaultEndIcon,g.exports.useEffect(()=>{if(ae&&x&&W!==-1)return ae({id:d,idAttribute:_,index:W,parentId:ve,expandable:C,disabled:v}),()=>{x(d)}},[ae,x,ve,W,d,C,v,_]),g.exports.useEffect(()=>{if(Q&&X&&I)return Q(d,Oe.current.textContent.substring(0,1).toLowerCase()),()=>{X(d)}},[Q,X,d,I]);let Ne;ge?Ne=G:G&&(Ne=!0);function dt(ye){ye.target===ye.currentTarget&&Yr(ye.target).getElementById(K).focus({preventScroll:!0});const se=!pe&&F;!V&&ye.currentTarget===ye.target&&!se&&j(ye,d)}return De(Wi,M({className:at(Y.root,a),role:"treeitem","aria-expanded":C?P:null,"aria-selected":Ne,"aria-disabled":F||null,ref:z,id:_,tabIndex:-1},A,{ownerState:ie,onFocus:dt,children:[T(Vi,M({as:c,ref:Oe,classes:{root:Y.content,expanded:Y.expanded,selected:Y.selected,focused:Y.focused,disabled:Y.disabled,iconContainer:Y.iconContainer,label:Y.label},label:I,nodeId:d,onClick:D,onMouseDown:$,icon:b,expansionIcon:Ce,displayIcon:Te,ownerState:ie},u)),i&&T(en,{id:d,children:T(Gi,M({as:R,unmountOnExit:!0,className:Y.group,in:P,component:"ul",role:"group"},m,{children:i}))})]}))});var Xi=qi;function Yi(e){return tt("MuiTreeView",e)}rt("MuiTreeView",["root"]);const Ji=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],Qi=e=>{const{classes:r}=e;return it({root:["root"]},Yi,r)},Zi=Se("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:0,margin:0,listStyle:"none",outline:0});function ea(e){return e&&e.length===1&&e.match(/\S/)}function Qt(e,r,t){for(let n=r;n<e.length;n+=1)if(t===e[n])return n;return-1}function Zt(){return!1}const ta=[],ra=[],na=g.exports.forwardRef(function(r,t){const n=nt({props:r,name:"MuiTreeView"}),{children:i,className:a,defaultCollapseIcon:o,defaultEndIcon:c,defaultExpanded:u=ta,defaultExpandIcon:f,defaultParentIcon:p,defaultSelected:v=ra,disabledItemsFocusable:b=!1,disableSelection:y=!1,expanded:I,id:d,multiSelect:D=!1,onBlur:$,onFocus:R,onKeyDown:m,onNodeFocus:A,onNodeSelect:H,onNodeToggle:j,selected:L}=n,J=Pe(n,Ji),q=qr().direction==="rtl",ge=M({},n,{defaultExpanded:u,defaultSelected:v,disabledItemsFocusable:b,disableSelection:y,multiSelect:D}),pe=Qi(ge),Q=oi(d),X=g.exports.useRef(null),ae=Pt(X,t),[x,K]=g.exports.useState(null),_=g.exports.useRef({}),oe=g.exports.useRef({}),[ne,Oe]=qt({controlled:I,default:u,name:"TreeView",state:"expanded"}),[z,he]=qt({controlled:L,default:v,name:"TreeView",state:"selected"}),W=g.exports.useCallback(s=>Array.isArray(ne)?ne.indexOf(s)!==-1:!1,[ne]),ve=g.exports.useCallback(s=>_.current[s]&&_.current[s].expandable,[]),C=g.exports.useCallback(s=>Array.isArray(z)?z.indexOf(s)!==-1:z===s,[z]),P=g.exports.useCallback(s=>{let l=_.current[s];if(!l)return!1;if(l.disabled)return!0;for(;l.parentId!=null;)if(l=_.current[l.parentId],l.disabled)return!0;return!1},[]),V=s=>x===s,G=s=>Object.keys(_.current).map(l=>_.current[l]).filter(l=>l.parentId===s).sort((l,h)=>l.index-h.index).map(l=>l.id),F=s=>{let l=G(s);return b||(l=l.filter(h=>!P(h))),l},ie=s=>{if(W(s)&&F(s).length>0)return F(s)[0];let l=_.current[s];for(;l!=null;){const h=F(l.parentId),O=h[h.indexOf(l.id)+1];if(O)return O;l=_.current[l.parentId]}return null},Y=s=>{const l=_.current[s],h=F(l.parentId),O=h.indexOf(s);if(O===0)return l.parentId;let w=h[O-1];for(;W(w)&&F(w).length>0;)w=F(w).pop();return w},Te=()=>{let s=F(null).pop();for(;W(s);)s=F(s).pop();return s},Ce=()=>F(null)[0],Ne=s=>_.current[s].parentId,dt=(s,l)=>{if(s===l)return[s,l];const h=_.current[s],O=_.current[l];if(h.parentId===O.id||O.parentId===h.id)return O.parentId===h.id?[h.id,O.id]:[O.id,h.id];const w=[h.id],k=[O.id];let N=h.parentId,U=O.parentId,Z=k.indexOf(N)!==-1,$e=w.indexOf(U)!==-1,Ee=!0,Ae=!0;for(;!$e&&!Z;)Ee&&(w.push(N),Z=k.indexOf(N)!==-1,Ee=N!==null,!Z&&Ee&&(N=_.current[N].parentId)),Ae&&!Z&&(k.push(U),$e=w.indexOf(U)!==-1,Ae=U!==null,!$e&&Ae&&(U=_.current[U].parentId));const Le=Z?N:U,Bt=G(Le),Bn=w[w.indexOf(Le)-1],Kn=k[k.indexOf(Le)-1];return Bt.indexOf(Bn)<Bt.indexOf(Kn)?[s,l]:[l,s]},ye=(s,l)=>{const[h,O]=dt(s,l),w=[h];let k=h;for(;k!==O;)k=ie(k),w.push(k);return w},se=(s,l)=>{l&&(K(l),A&&A(s,l))},Ft=(s,l)=>se(s,ie(l)),Sn=(s,l)=>se(s,Y(l)),On=s=>se(s,Ce()),Tn=s=>se(s,Te()),Cn=(s,l,h)=>{let O,w;const k=h.toLowerCase(),N=[],U=[];Object.keys(oe.current).forEach(Z=>{const $e=oe.current[Z],Ee=_.current[Z],Ae=Ee.parentId?W(Ee.parentId):!0,Le=b?!1:P(Z);Ae&&!Le&&(N.push(Z),U.push($e))}),O=N.indexOf(l)+1,O>=N.length&&(O=0),w=Qt(U,O,k),w===-1&&(w=Qt(U,0,k)),w>-1&&se(s,N[w])},Be=(s,l=x)=>{let h;ne.indexOf(l)!==-1?h=ne.filter(O=>O!==l):h=[l].concat(ne),j&&j(s,h),Oe(h)},In=(s,l)=>{const h=_.current[l],w=G(h.parentId).filter(N=>ve(N)&&!W(N)),k=ne.concat(w);w.length>0&&(Oe(k),j&&j(s,k))},me=g.exports.useRef(null),xe=g.exports.useRef(!1),ue=g.exports.useRef([]),wn=(s,l)=>{let h=z.slice();const{start:O,next:w,current:k}=l;!w||!k||(ue.current.indexOf(k)===-1&&(ue.current=[]),xe.current?ue.current.indexOf(w)!==-1?(h=h.filter(N=>N===O||N!==k),ue.current=ue.current.filter(N=>N===O||N!==k)):(h.push(w),ue.current.push(w)):(h.push(w),ue.current.push(k,w)),H&&H(s,h),he(h))},xn=(s,l)=>{let h=z.slice();const{start:O,end:w}=l;xe.current&&(h=h.filter(U=>ue.current.indexOf(U)===-1));let k=ye(O,w);k=k.filter(U=>!P(U)),ue.current=k;let N=h.concat(k);N=N.filter((U,Z)=>N.indexOf(U)===Z),H&&H(s,N),he(N)},En=(s,l)=>{let h;z.indexOf(l)!==-1?h=z.filter(O=>O!==l):h=[l].concat(z),H&&H(s,h),he(h)},_n=(s,l)=>{const h=D?[l]:l;H&&H(s,h),he(h)},Me=(s,l,h=!1)=>l?(h?En(s,l):_n(s,l),me.current=l,xe.current=!1,ue.current=[],!0):!1,Ie=(s,l,h=!1)=>{const{start:O=me.current,end:w,current:k}=l;h?wn(s,{start:O,next:w,current:k}):O!=null&&w!=null&&xn(s,{start:O,end:w}),xe.current=!0},kn=(s,l)=>{me.current||(me.current=l);const h=xe.current?me.current:l;Ie(s,{start:h,end:Ce()})},Pn=(s,l)=>{me.current||(me.current=l);const h=xe.current?me.current:l;Ie(s,{start:h,end:Te()})},Rn=(s,l)=>{P(ie(l))||Ie(s,{end:ie(l),current:l},!0)},Nn=(s,l)=>{P(Y(l))||Ie(s,{end:Y(l),current:l},!0)},Mn=s=>{Ie(s,{start:Ce(),end:Te()})},$n=g.exports.useCallback(s=>{const{id:l,index:h,parentId:O,expandable:w,idAttribute:k,disabled:N}=s;_.current[l]={id:l,index:h,parentId:O,expandable:w,idAttribute:k,disabled:N}},[]),An=g.exports.useCallback(s=>{const l=M({},_.current);delete l[s],_.current=l,K(h=>h===s&&X.current===Yr(X.current).activeElement?G(null)[0]:h)},[]),Ln=g.exports.useCallback((s,l)=>{oe.current[s]=l},[]),Hn=g.exports.useCallback(s=>{const l=M({},oe.current);delete l[s],oe.current=l},[]),Ut=s=>(ve(x)&&(W(x)?Ft(s,x):P(x)||Be(s)),!0),zt=s=>{if(W(x)&&!P(x))return Be(s,x),!0;const l=Ne(x);return l?(se(s,l),!0):!1},jn=s=>{let l=!1;const h=s.key;if(s.altKey||s.currentTarget!==s.target||!x)return;const O=s.ctrlKey||s.metaKey;switch(h){case" ":!y&&!P(x)&&(D&&s.shiftKey?(Ie(s,{end:x}),l=!0):D?l=Me(s,x,!0):l=Me(s,x)),s.stopPropagation();break;case"Enter":P(x)||(ve(x)?(Be(s),l=!0):D?l=Me(s,x,!0):l=Me(s,x)),s.stopPropagation();break;case"ArrowDown":D&&s.shiftKey&&!y&&Rn(s,x),Ft(s,x),l=!0;break;case"ArrowUp":D&&s.shiftKey&&!y&&Nn(s,x),Sn(s,x),l=!0;break;case"ArrowRight":q?l=zt(s):l=Ut(s);break;case"ArrowLeft":q?l=Ut(s):l=zt(s);break;case"Home":D&&O&&s.shiftKey&&!y&&!P(x)&&kn(s,x),On(s),l=!0;break;case"End":D&&O&&s.shiftKey&&!y&&!P(x)&&Pn(s,x),Tn(s),l=!0;break;default:h==="*"?(In(s,x),l=!0):D&&O&&h.toLowerCase()==="a"&&!y?(Mn(s),l=!0):!O&&!s.shiftKey&&ea(h)&&(Cn(s,x,h),l=!0)}l&&(s.preventDefault(),s.stopPropagation()),m&&m(s)},Fn=s=>{if(s.target===s.currentTarget){const l=Array.isArray(z)?z[0]:z;se(s,l||F(null)[0])}R&&R(s)},Un=s=>{K(null),$&&$(s)},zn=_.current[x]?_.current[x].idAttribute:null;return T(Rt.Provider,{value:{icons:{defaultCollapseIcon:o,defaultExpandIcon:f,defaultParentIcon:p,defaultEndIcon:c},focus:se,toggleExpansion:Be,isExpanded:W,isExpandable:ve,isFocused:V,isSelected:C,isDisabled:P,selectNode:y?Zt:Me,selectRange:y?Zt:Ie,multiSelect:D,disabledItemsFocusable:b,mapFirstChar:Ln,unMapFirstChar:Hn,registerNode:$n,unregisterNode:An,treeId:Q},children:T(en,{children:T(Zi,M({role:"tree",id:Q,"aria-activedescendant":zn,"aria-multiselectable":D,className:at(pe.root,a),ref:ae,tabIndex:0,onKeyDown:jn,onFocus:Fn,onBlur:Un,ownerState:ge},J,{children:i}))})})});var ia=na,rn=g.exports.createContext({dragDropManager:void 0}),re;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(re||(re={}));function S(e,r){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];if(!e){var a;if(r===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;a=new Error(r.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var Nt="dnd-core/INIT_COORDS",ot="dnd-core/BEGIN_DRAG",Mt="dnd-core/PUBLISH_DRAG_SOURCE",st="dnd-core/HOVER",ut="dnd-core/DROP",ct="dnd-core/END_DRAG";function er(e,r){return{type:Nt,payload:{sourceClientOffset:r||null,clientOffset:e||null}}}function Ge(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ge=function(t){return typeof t}:Ge=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(e)}function aa(e,r,t){return r.split(".").reduce(function(n,i){return n&&n[i]?n[i]:t||null},e)}function oa(e,r){return e.filter(function(t){return t!==r})}function nn(e){return Ge(e)==="object"}function sa(e,r){var t=new Map,n=function(o){t.set(o,t.has(o)?t.get(o)+1:1)};e.forEach(n),r.forEach(n);var i=[];return t.forEach(function(a,o){a===1&&i.push(o)}),i}function ua(e,r){return e.filter(function(t){return r.indexOf(t)>-1})}var ca={type:Nt,payload:{clientOffset:null,sourceClientOffset:null}};function la(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,a=i===void 0?!0:i,o=n.clientOffset,c=n.getSourceClientOffset,u=e.getMonitor(),f=e.getRegistry();e.dispatch(er(o)),fa(t,u,f);var p=pa(t,u);if(p===null){e.dispatch(ca);return}var v=null;if(o){if(!c)throw new Error("getSourceClientOffset must be defined");da(c),v=c(p)}e.dispatch(er(o,v));var b=f.getSource(p),y=b.beginDrag(u,p);if(y!=null){ga(y),f.pinSource(p);var I=f.getSourceType(p);return{type:ot,payload:{itemType:I,item:y,sourceId:p,clientOffset:o||null,sourceClientOffset:v||null,isSourcePublic:!!a}}}}}function fa(e,r,t){S(!r.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){S(t.getSource(n),"Expected sourceIds to be registered.")})}function da(e){S(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function ga(e){S(nn(e),"Item must be an object.")}function pa(e,r){for(var t=null,n=e.length-1;n>=0;n--)if(r.canDragSource(e[n])){t=e[n];break}return t}function ha(e){return function(){var t=e.getMonitor();if(t.isDragging())return{type:Mt}}}function Tt(e,r){return r===null?e===null:Array.isArray(e)?e.some(function(t){return t===r}):e===r}function va(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;ya(t);var a=t.slice(0),o=e.getMonitor(),c=e.getRegistry();ma(a,o,c);var u=o.getItemType();return ba(a,c,u),Da(a,o,c),{type:st,payload:{targetIds:a,clientOffset:i||null}}}}function ya(e){S(Array.isArray(e),"Expected targetIds to be an array.")}function ma(e,r,t){S(r.isDragging(),"Cannot call hover while not dragging."),S(!r.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];S(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var a=t.getTarget(i);S(a,"Expected targetIds to be registered.")}}function ba(e,r,t){for(var n=e.length-1;n>=0;n--){var i=e[n],a=r.getTargetType(i);Tt(a,t)||e.splice(n,1)}}function Da(e,r,t){e.forEach(function(n){var i=t.getTarget(n);i.hover(r,n)})}function tr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tr(Object(t),!0).forEach(function(n){Sa(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sa(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Oa(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();Ta(n);var a=wa(n);a.forEach(function(o,c){var u=Ca(o,c,i,n),f={type:ut,payload:{dropResult:rr(rr({},t),u)}};e.dispatch(f)})}}function Ta(e){S(e.isDragging(),"Cannot call drop while not dragging."),S(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ca(e,r,t,n){var i=t.getTarget(e),a=i?i.drop(n,e):void 0;return Ia(a),typeof a=="undefined"&&(a=r===0?{}:n.getDropResult()),a}function Ia(e){S(typeof e=="undefined"||nn(e),"Drop result must either be an object or undefined.")}function wa(e){var r=e.getTargetIds().filter(e.canDropOnTarget,e);return r.reverse(),r}function xa(e){return function(){var t=e.getMonitor(),n=e.getRegistry();Ea(t);var i=t.getSourceId();if(i!=null){var a=n.getSource(i,!0);a.endDrag(t,i),n.unpinSource()}return{type:ct}}}function Ea(e){S(e.isDragging(),"Cannot call endDrag while not dragging.")}function _a(e){return{beginDrag:la(e),publishDragSource:ha(e),hover:va(e),drop:Oa(e),endDrag:xa(e)}}function ka(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pa(e,r,t){return r&&nr(e.prototype,r),t&&nr(e,t),e}function je(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ra=function(){function e(r,t){var n=this;ka(this,e),je(this,"store",void 0),je(this,"monitor",void 0),je(this,"backend",void 0),je(this,"isSetUp",!1),je(this,"handleRefCountChange",function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))}),this.store=r,this.monitor=t,r.subscribe(this.handleRefCountChange)}return Pa(e,[{key:"receiveBackend",value:function(t){this.backend=t}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var t=this,n=this.store.dispatch;function i(o){return function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var p=o.apply(t,u);typeof p!="undefined"&&n(p)}}var a=_a(this);return Object.keys(a).reduce(function(o,c){var u=a[c];return o[c]=i(u),o},{})}},{key:"dispatch",value:function(t){this.store.dispatch(t)}}]),e}();function ee(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ir=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ht=function(){return Math.random().toString(36).substring(7).split("").join(".")},ar={INIT:"@@redux/INIT"+ht(),REPLACE:"@@redux/REPLACE"+ht(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ht()}};function Na(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function an(e,r,t){var n;if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof r=="function"&&typeof t=="undefined"&&(t=r,r=void 0),typeof t!="undefined"){if(typeof t!="function")throw new Error(ee(1));return t(an)(e,r)}if(typeof e!="function")throw new Error(ee(2));var i=e,a=r,o=[],c=o,u=!1;function f(){c===o&&(c=o.slice())}function p(){if(u)throw new Error(ee(3));return a}function v(d){if(typeof d!="function")throw new Error(ee(4));if(u)throw new Error(ee(5));var D=!0;return f(),c.push(d),function(){if(!!D){if(u)throw new Error(ee(6));D=!1,f();var R=c.indexOf(d);c.splice(R,1),o=null}}}function b(d){if(!Na(d))throw new Error(ee(7));if(typeof d.type=="undefined")throw new Error(ee(8));if(u)throw new Error(ee(9));try{u=!0,a=i(a,d)}finally{u=!1}for(var D=o=c,$=0;$<D.length;$++){var R=D[$];R()}return d}function y(d){if(typeof d!="function")throw new Error(ee(10));i=d,b({type:ar.REPLACE})}function I(){var d,D=v;return d={subscribe:function(R){if(typeof R!="object"||R===null)throw new Error(ee(11));function m(){R.next&&R.next(p())}m();var A=D(m);return{unsubscribe:A}}},d[ir]=function(){return this},d}return b({type:ar.INIT}),n={dispatch:b,subscribe:v,getState:p,replaceReducer:y},n[ir]=I,n}var Ma=function(r,t){return r===t};function $a(e,r){return!e&&!r?!0:!e||!r?!1:e.x===r.x&&e.y===r.y}function Aa(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ma;if(e.length!==r.length)return!1;for(var n=0;n<e.length;++n)if(!t(e[n],r[n]))return!1;return!0}function or(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function sr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?or(Object(t),!0).forEach(function(n){La(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):or(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function La(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ur={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ha(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ur,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case Nt:case ot:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case st:return $a(e.clientOffset,t.clientOffset)?e:sr(sr({},e),{},{clientOffset:t.clientOffset});case ct:case ut:return ur;default:return e}}var $t="dnd-core/ADD_SOURCE",At="dnd-core/ADD_TARGET",Lt="dnd-core/REMOVE_SOURCE",lt="dnd-core/REMOVE_TARGET";function ja(e){return{type:$t,payload:{sourceId:e}}}function Fa(e){return{type:At,payload:{targetId:e}}}function Ua(e){return{type:Lt,payload:{sourceId:e}}}function za(e){return{type:lt,payload:{targetId:e}}}function cr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function te(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cr(Object(t),!0).forEach(function(n){Ba(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ba(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ka={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Wa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ka,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case ot:return te(te({},e),{},{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case Mt:return te(te({},e),{},{isSourcePublic:!0});case st:return te(te({},e),{},{targetIds:t.targetIds});case lt:return e.targetIds.indexOf(t.targetId)===-1?e:te(te({},e),{},{targetIds:oa(e.targetIds,t.targetId)});case ut:return te(te({},e),{},{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case ct:return te(te({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Va(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case $t:case At:return e+1;case Lt:case lt:return e-1;default:return e}}var Qe=[],Ht=[];Qe.__IS_NONE__=!0;Ht.__IS_ALL__=!0;function Ga(e,r){if(e===Qe)return!1;if(e===Ht||typeof r=="undefined")return!0;var t=ua(r,e);return t.length>0}function qa(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case st:break;case $t:case At:case lt:case Lt:return Qe;case ot:case Mt:case ct:case ut:default:return Ht}var r=e.payload,t=r.targetIds,n=t===void 0?[]:t,i=r.prevTargetIds,a=i===void 0?[]:i,o=sa(n,a),c=o.length>0||!Aa(n,a);if(!c)return Qe;var u=a[a.length-1],f=n[n.length-1];return u!==f&&(u&&o.push(u),f&&o.push(f)),o}function Xa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function lr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function fr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lr(Object(t),!0).forEach(function(n){Ya(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ya(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ja(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:qa(e.dirtyHandlerIds,{type:r.type,payload:fr(fr({},r.payload),{},{prevTargetIds:aa(e,"dragOperation.targetIds",[])})}),dragOffset:Ha(e.dragOffset,r),refCount:Va(e.refCount,r),dragOperation:Wa(e.dragOperation,r),stateId:Xa(e.stateId)}}function Qa(e,r){return{x:e.x+r.x,y:e.y+r.y}}function on(e,r){return{x:e.x-r.x,y:e.y-r.y}}function Za(e){var r=e.clientOffset,t=e.initialClientOffset,n=e.initialSourceClientOffset;return!r||!t||!n?null:on(Qa(r,n),t)}function eo(e){var r=e.clientOffset,t=e.initialClientOffset;return!r||!t?null:on(r,t)}function to(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ro(e,r,t){return r&&dr(e.prototype,r),t&&dr(e,t),e}function gr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var no=function(){function e(r,t){to(this,e),gr(this,"store",void 0),gr(this,"registry",void 0),this.store=r,this.registry=t}return ro(e,[{key:"subscribeToStateChange",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},a=i.handlerIds;S(typeof t=="function","listener must be a function."),S(typeof a=="undefined"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,c=function(){var f=n.store.getState(),p=f.stateId;try{var v=p===o||p===o+1&&!Ga(f.dirtyHandlerIds,a);v||t()}finally{o=p}};return this.store.subscribe(c)}},{key:"subscribeToOffsetChange",value:function(t){var n=this;S(typeof t=="function","listener must be a function.");var i=this.store.getState().dragOffset,a=function(){var c=n.store.getState().dragOffset;c!==i&&(i=c,t())};return this.store.subscribe(a)}},{key:"canDragSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t);return S(n,"Expected to find a valid source. sourceId=".concat(t)),this.isDragging()?!1:n.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){if(!t)return!1;var n=this.registry.getTarget(t);if(S(n,"Expected to find a valid target. targetId=".concat(t)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(t),a=this.getItemType();return Tt(i,a)&&n.canDrop(this,t)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t,!0);if(S(n,"Expected to find a valid source. sourceId=".concat(t)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(t),a=this.getItemType();return i!==a?!1:n.isDragging(this,t)}},{key:"isOverTarget",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!t)return!1;var i=n.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(t),o=this.getItemType();if(o&&!Tt(a,o))return!1;var c=this.getTargetIds();if(!c.length)return!1;var u=c.indexOf(t);return i?u===c.length-1:u>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Za(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return eo(this.store.getState().dragOffset)}}]),e}(),io=0;function ao(){return io++}function qe(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qe=function(t){return typeof t}:qe=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(e)}function oo(e){S(typeof e.canDrag=="function","Expected canDrag to be a function."),S(typeof e.beginDrag=="function","Expected beginDrag to be a function."),S(typeof e.endDrag=="function","Expected endDrag to be a function.")}function so(e){S(typeof e.canDrop=="function","Expected canDrop to be a function."),S(typeof e.hover=="function","Expected hover to be a function."),S(typeof e.drop=="function","Expected beginDrag to be a function.")}function Ct(e,r){if(r&&Array.isArray(e)){e.forEach(function(t){return Ct(t,!1)});return}S(typeof e=="string"||qe(e)==="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function ft(e){fe.length||Ze(),fe[fe.length]=e}var fe=[],Ze,ce=0,uo=1024;function pr(){for(;ce<fe.length;){var e=ce;if(ce=ce+1,fe[e].call(),ce>uo){for(var r=0,t=fe.length-ce;r<t;r++)fe[r]=fe[r+ce];fe.length-=ce,ce=0}}fe.length=0,ce=0}var hr=typeof global!="undefined"?global:self,sn=hr.MutationObserver||hr.WebKitMutationObserver;typeof sn=="function"?Ze=co(pr):Ze=un(pr);ft.requestFlush=Ze;function co(e){var r=1,t=new sn(e),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}function un(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}ft.makeRequestCallFromTimer=un;var et=[],It=[],lo=ft.makeRequestCallFromTimer(fo);function fo(){if(It.length)throw It.shift()}function wt(e){var r;et.length?r=et.pop():r=new go,r.task=e,ft(r)}var go=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(r){wt.onerror?wt.onerror(r):(It.push(r),lo())}finally{this.task=null,et[et.length]=this}},e}();function po(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ho(e,r,t){return r&&vr(e.prototype,r),t&&vr(e,t),e}function _e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function vo(e,r){return Do(e)||bo(e,r)||mo(e,r)||yo()}function yo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mo(e,r){if(!!e){if(typeof e=="string")return yr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yr(e,r)}}function yr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bo(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,c;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function Do(e){if(Array.isArray(e))return e}function So(e){var r=ao().toString();switch(e){case re.SOURCE:return"S".concat(r);case re.TARGET:return"T".concat(r);default:throw new Error("Unknown Handler Role: ".concat(e))}}function mr(e){switch(e[0]){case"S":return re.SOURCE;case"T":return re.TARGET;default:S(!1,"Cannot parse handler ID: ".concat(e))}}function br(e,r){var t=e.entries(),n=!1;do{var i=t.next(),a=i.done,o=vo(i.value,2),c=o[1];if(c===r)return!0;n=!!a}while(!n);return!1}var Oo=function(){function e(r){po(this,e),_e(this,"types",new Map),_e(this,"dragSources",new Map),_e(this,"dropTargets",new Map),_e(this,"pinnedSourceId",null),_e(this,"pinnedSource",null),_e(this,"store",void 0),this.store=r}return ho(e,[{key:"addSource",value:function(t,n){Ct(t),oo(n);var i=this.addHandler(re.SOURCE,t,n);return this.store.dispatch(ja(i)),i}},{key:"addTarget",value:function(t,n){Ct(t,!0),so(n);var i=this.addHandler(re.TARGET,t,n);return this.store.dispatch(Fa(i)),i}},{key:"containsHandler",value:function(t){return br(this.dragSources,t)||br(this.dropTargets,t)}},{key:"getSource",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;S(this.isSourceId(t),"Expected a valid source ID.");var i=n&&t===this.pinnedSourceId,a=i?this.pinnedSource:this.dragSources.get(t);return a}},{key:"getTarget",value:function(t){return S(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}},{key:"getSourceType",value:function(t){return S(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}},{key:"getTargetType",value:function(t){return S(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}},{key:"isSourceId",value:function(t){var n=mr(t);return n===re.SOURCE}},{key:"isTargetId",value:function(t){var n=mr(t);return n===re.TARGET}},{key:"removeSource",value:function(t){var n=this;S(this.getSource(t),"Expected an existing source."),this.store.dispatch(Ua(t)),wt(function(){n.dragSources.delete(t),n.types.delete(t)})}},{key:"removeTarget",value:function(t){S(this.getTarget(t),"Expected an existing target."),this.store.dispatch(za(t)),this.dropTargets.delete(t),this.types.delete(t)}},{key:"pinSource",value:function(t){var n=this.getSource(t);S(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}},{key:"unpinSource",value:function(){S(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(t,n,i){var a=So(t);return this.types.set(a,n),t===re.SOURCE?this.dragSources.set(a,i):t===re.TARGET&&this.dropTargets.set(a,i),a}}]),e}();function To(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=Co(n),a=new no(i,new Oo(i)),o=new Ra(i,a),c=e(o,r,t);return o.receiveBackend(c),o}function Co(e){var r=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return an(Ja,e&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var Io=["children"];function wo(e,r){return ko(e)||_o(e,r)||Eo(e,r)||xo()}function xo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eo(e,r){if(!!e){if(typeof e=="string")return Dr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dr(e,r)}}function Dr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _o(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,c;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function ko(e){if(Array.isArray(e))return e}function Po(e,r){if(e==null)return{};var t=Ro(e,r),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function Ro(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var Sr=0,Xe=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),No=g.exports.memo(function(r){var t=r.children,n=Po(r,Io),i=Mo(n),a=wo(i,2),o=a[0],c=a[1];return g.exports.useEffect(function(){if(c){var u=cn();return++Sr,function(){--Sr===0&&(u[Xe]=null)}}},[]),T(rn.Provider,Object.assign({value:o},{children:t}),void 0)});function Mo(e){if("manager"in e){var r={dragDropManager:e.manager};return[r,!1]}var t=$o(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function $o(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn(),t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=r;return i[Xe]||(i[Xe]={dragDropManager:To(e,r,t,n)}),i[Xe]}function cn(){return typeof global!="undefined"?global:window}function Ao(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Or(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lo(e,r,t){return r&&Or(e.prototype,r),t&&Or(e,t),e}function Tr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vt=!1,yt=!1,Ho=function(){function e(r){Ao(this,e),Tr(this,"internalMonitor",void 0),Tr(this,"sourceId",null),this.internalMonitor=r.getMonitor()}return Lo(e,[{key:"receiveHandlerId",value:function(t){this.sourceId=t}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){S(!vt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return vt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{vt=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;S(!yt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return yt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{yt=!1}}},{key:"subscribeToStateChange",value:function(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}},{key:"isDraggingSource",value:function(t){return this.internalMonitor.isDraggingSource(t)}},{key:"isOverTarget",value:function(t,n){return this.internalMonitor.isOverTarget(t,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(t){return this.internalMonitor.subscribeToOffsetChange(t)}},{key:"canDragSource",value:function(t){return this.internalMonitor.canDragSource(t)}},{key:"canDropOnTarget",value:function(t){return this.internalMonitor.canDropOnTarget(t)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function jo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fo(e,r,t){return r&&Cr(e.prototype,r),t&&Cr(e,t),e}function Ir(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mt=!1,Uo=function(){function e(r){jo(this,e),Ir(this,"internalMonitor",void 0),Ir(this,"targetId",null),this.internalMonitor=r.getMonitor()}return Fo(e,[{key:"receiveHandlerId",value:function(t){this.targetId=t}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;S(!mt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return mt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{mt=!1}}},{key:"isOver",value:function(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function zo(e){if(typeof e.type!="string"){var r=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(r," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Bo(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!g.exports.isValidElement(r)){var n=r;return e(n,t),n}var i=r;zo(i);var a=t?function(o){return e(o,t)}:e;return Ko(i,a)}}function ln(e){var r={};return Object.keys(e).forEach(function(t){var n=e[t];if(t.endsWith("Ref"))r[t]=e[t];else{var i=Bo(n);r[t]=function(){return i}}}),r}function wr(e,r){typeof e=="function"?e(r):e.current=r}function Ko(e,r){var t=e.ref;return S(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?g.exports.cloneElement(e,{ref:function(i){wr(t,i),wr(r,i)}}):g.exports.cloneElement(e,{ref:r})}function Ye(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(t){return typeof t}:Ye=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(e)}function xt(e){return e!==null&&Ye(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Et(e,r,t,n){var i=t?t.call(n,e,r):void 0;if(i!==void 0)return!!i;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<a.length;u++){var f=a[u];if(!c(f))return!1;var p=e[f],v=r[f];if(i=t?t.call(n,p,v,f):void 0,i===!1||i===void 0&&p!==v)return!1}return!0}function Wo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e,r,t){return r&&xr(e.prototype,r),t&&xr(e,t),e}function B(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Go=function(){function e(r){var t=this;Wo(this,e),B(this,"hooks",ln({dragSource:function(i,a){t.clearDragSource(),t.dragSourceOptions=a||null,xt(i)?t.dragSourceRef=i:t.dragSourceNode=i,t.reconnectDragSource()},dragPreview:function(i,a){t.clearDragPreview(),t.dragPreviewOptions=a||null,xt(i)?t.dragPreviewRef=i:t.dragPreviewNode=i,t.reconnectDragPreview()}})),B(this,"handlerId",null),B(this,"dragSourceRef",null),B(this,"dragSourceNode",void 0),B(this,"dragSourceOptionsInternal",null),B(this,"dragSourceUnsubscribe",void 0),B(this,"dragPreviewRef",null),B(this,"dragPreviewNode",void 0),B(this,"dragPreviewOptionsInternal",null),B(this,"dragPreviewUnsubscribe",void 0),B(this,"lastConnectedHandlerId",null),B(this,"lastConnectedDragSource",null),B(this,"lastConnectedDragSourceOptions",null),B(this,"lastConnectedDragPreview",null),B(this,"lastConnectedDragPreviewOptions",null),B(this,"backend",void 0),this.backend=r}return Vo(e,[{key:"receiveHandlerId",value:function(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(t){this.dragSourceOptionsInternal=t}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(t){this.dragPreviewOptionsInternal=t}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!t){this.lastConnectedDragSource=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var t=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Et(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Et(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function qo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Er(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xo(e,r,t){return r&&Er(e.prototype,r),t&&Er(e,t),e}function le(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Yo=function(){function e(r){var t=this;qo(this,e),le(this,"hooks",ln({dropTarget:function(i,a){t.clearDropTarget(),t.dropTargetOptions=a,xt(i)?t.dropTargetRef=i:t.dropTargetNode=i,t.reconnect()}})),le(this,"handlerId",null),le(this,"dropTargetRef",null),le(this,"dropTargetNode",void 0),le(this,"dropTargetOptionsInternal",null),le(this,"unsubscribeDropTarget",void 0),le(this,"lastConnectedHandlerId",null),le(this,"lastConnectedDropTarget",null),le(this,"lastConnectedDropTargetOptions",null),le(this,"backend",void 0),this.backend=r}return Xo(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();var n=this.dropTarget;if(!!this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(t){this.dropTargetOptionsInternal=t}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Et(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function Jo(e,r,t){var n=t.getRegistry(),i=n.addTarget(e,r);return[i,function(){return n.removeTarget(i)}]}function Qo(e,r,t){var n=t.getRegistry(),i=n.addSource(e,r);return[i,function(){return n.removeSource(i)}]}var we=typeof window!="undefined"?g.exports.useLayoutEffect:g.exports.useEffect;function Je(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(t){return typeof t}:Je=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}function Zo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function es(e,r,t){return r&&_r(e.prototype,r),t&&_r(e,t),e}function bt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ts=function(){function e(r,t,n){Zo(this,e),bt(this,"spec",void 0),bt(this,"monitor",void 0),bt(this,"connector",void 0),this.spec=r,this.monitor=t,this.connector=n}return es(e,[{key:"beginDrag",value:function(){var t,n=this.spec,i=this.monitor,a=null;return Je(n.item)==="object"?a=n.item:typeof n.item=="function"?a=n.item(i):a={},(t=a)!==null&&t!==void 0?t:null}},{key:"canDrag",value:function(){var t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}},{key:"isDragging",value:function(t,n){var i=this.spec,a=this.monitor,o=i.isDragging;return o?o(a):n===t.getSourceId()}},{key:"endDrag",value:function(){var t=this.spec,n=this.monitor,i=this.connector,a=t.end;a&&a(n.getItem(),n),i.reconnect()}}]),e}();function rs(e,r,t){var n=g.exports.useMemo(function(){return new ts(e,r,t)},[r,t]);return g.exports.useEffect(function(){n.spec=e},[e]),n}function Re(){var e=g.exports.useContext(rn),r=e.dragDropManager;return S(r!=null,"Expected drag drop context"),r}function ns(e){return g.exports.useMemo(function(){var r=e.type;return S(r!=null,"spec.type must be defined"),r},[e])}function is(e,r){return us(e)||ss(e,r)||os(e,r)||as()}function as(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(e,r){if(!!e){if(typeof e=="string")return kr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kr(e,r)}}function kr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ss(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,c;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function us(e){if(Array.isArray(e))return e}function cs(e,r,t){var n=Re(),i=rs(e,r,t),a=ns(e);we(function(){if(a!=null){var c=Qo(a,i,n),u=is(c,2),f=u[0],p=u[1];return r.receiveHandlerId(f),t.receiveHandlerId(f),p}},[n,r,t,i,a])}function ls(e){return ps(e)||gs(e)||ds(e)||fs()}function fs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ds(e,r){if(!!e){if(typeof e=="string")return _t(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _t(e,r)}}function gs(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ps(e){if(Array.isArray(e))return _t(e)}function _t(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fn(e,r){var t=ls(r||[]);return r==null&&typeof e!="function"&&t.push(e),g.exports.useMemo(function(){return typeof e=="function"?e():e},t)}function hs(){var e=Re();return g.exports.useMemo(function(){return new Ho(e)},[e])}function vs(e,r){var t=Re(),n=g.exports.useMemo(function(){return new Go(t.getBackend())},[t]);return we(function(){return n.dragSourceOptions=e||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,e]),we(function(){return n.dragPreviewOptions=r||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,r]),n}var ys=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!e(r[i],t[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(a=Object.keys(r),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var o=a[i];if(!e(r[o],t[o]))return!1}return!0}return r!==r&&t!==t};function ms(e,r){return Os(e)||Ss(e,r)||Ds(e,r)||bs()}function bs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ds(e,r){if(!!e){if(typeof e=="string")return Pr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pr(e,r)}}function Pr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ss(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,c;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function Os(e){if(Array.isArray(e))return e}function Ts(e,r,t){var n=g.exports.useState(function(){return r(e)}),i=ms(n,2),a=i[0],o=i[1],c=g.exports.useCallback(function(){var u=r(e);ys(a,u)||(o(u),t&&t())},[a,e,t]);return we(c),[a,c]}function Cs(e,r){return Es(e)||xs(e,r)||ws(e,r)||Is()}function Is(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ws(e,r){if(!!e){if(typeof e=="string")return Rr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rr(e,r)}}function Rr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function xs(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,c;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function Es(e){if(Array.isArray(e))return e}function _s(e,r,t){var n=Ts(e,r,t),i=Cs(n,2),a=i[0],o=i[1];return we(function(){var u=e.getHandlerId();if(u!=null)return e.subscribeToStateChange(o,{handlerIds:[u]})},[e,o]),a}function dn(e,r,t){return _s(r,e||function(){return{}},function(){return t.reconnect()})}function ks(e){return g.exports.useMemo(function(){return e.hooks.dragSource()},[e])}function Ps(e){return g.exports.useMemo(function(){return e.hooks.dragPreview()},[e])}function Rs(e,r){var t=fn(e,r);S(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=hs(),i=vs(t.options,t.previewOptions);return cs(t,n,i),[dn(t.collect,n,i),ks(i),Ps(i)]}function Ns(e){var r=e.accept;return g.exports.useMemo(function(){return S(e.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]},[r])}function Ms(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Nr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $s(e,r,t){return r&&Nr(e.prototype,r),t&&Nr(e,t),e}function Mr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var As=function(){function e(r,t){Ms(this,e),Mr(this,"spec",void 0),Mr(this,"monitor",void 0),this.spec=r,this.monitor=t}return $s(e,[{key:"canDrop",value:function(){var t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}},{key:"drop",value:function(){var t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}}]),e}();function Ls(e,r){var t=g.exports.useMemo(function(){return new As(e,r)},[r]);return g.exports.useEffect(function(){t.spec=e},[e]),t}function Hs(e,r){return zs(e)||Us(e,r)||Fs(e,r)||js()}function js(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fs(e,r){if(!!e){if(typeof e=="string")return $r(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $r(e,r)}}function $r(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Us(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,c;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function zs(e){if(Array.isArray(e))return e}function Bs(e,r,t){var n=Re(),i=Ls(e,r),a=Ns(e);we(function(){var c=Jo(a,i,n),u=Hs(c,2),f=u[0],p=u[1];return r.receiveHandlerId(f),t.receiveHandlerId(f),p},[n,r,i,t,a.map(function(o){return o.toString()}).join("|")])}function Ks(){var e=Re();return g.exports.useMemo(function(){return new Uo(e)},[e])}function Ws(e){var r=Re(),t=g.exports.useMemo(function(){return new Yo(r.getBackend())},[r]);return we(function(){return t.dropTargetOptions=e||null,t.reconnect(),function(){return t.disconnectDropTarget()}},[e]),t}function Vs(e){return g.exports.useMemo(function(){return e.hooks.dropTarget()},[e])}function Ar(e,r){var t=fn(e,r),n=Ks(),i=Ws(t.options);return Bs(t,n,i),[dn(t.collect,n,i),Vs(i)]}function gn(e){var r=null,t=function(){return r==null&&(r=e()),r};return t}function Gs(e,r){return e.filter(function(t){return t!==r})}function qs(e,r){var t=new Set,n=function(o){return t.add(o)};e.forEach(n),r.forEach(n);var i=[];return t.forEach(function(a){return i.push(a)}),i}function Xs(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ys(e,r,t){return r&&Lr(e.prototype,r),t&&Lr(e,t),e}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Js=function(){function e(r){Xs(this,e),Hr(this,"entered",[]),Hr(this,"isNodeInDocument",void 0),this.isNodeInDocument=r}return Ys(e,[{key:"enter",value:function(t){var n=this,i=this.entered.length,a=function(c){return n.isNodeInDocument(c)&&(!c.contains||c.contains(t))};return this.entered=qs(this.entered.filter(a),[t]),i===0&&this.entered.length>0}},{key:"leave",value:function(t){var n=this.entered.length;return this.entered=Gs(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),Qs=gn(function(){return/firefox/i.test(navigator.userAgent)}),pn=gn(function(){return Boolean(window.safari)});function Zs(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eu(e,r,t){return r&&jr(e.prototype,r),t&&jr(e,t),e}function Fe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Fr=function(){function e(r,t){Zs(this,e),Fe(this,"xs",void 0),Fe(this,"ys",void 0),Fe(this,"c1s",void 0),Fe(this,"c2s",void 0),Fe(this,"c3s",void 0);for(var n=r.length,i=[],a=0;a<n;a++)i.push(a);i.sort(function(J,de){return r[J]<r[de]?-1:1});for(var o=[],c=[],u,f,p=0;p<n-1;p++)u=r[p+1]-r[p],f=t[p+1]-t[p],o.push(u),c.push(f/u);for(var v=[c[0]],b=0;b<o.length-1;b++){var y=c[b],I=c[b+1];if(y*I<=0)v.push(0);else{u=o[b];var d=o[b+1],D=u+d;v.push(3*D/((D+d)/y+(D+u)/I))}}v.push(c[c.length-1]);for(var $=[],R=[],m,A=0;A<v.length-1;A++){m=c[A];var H=v[A],j=1/o[A],L=H+v[A+1]-m-m;$.push((m-H-L)*j),R.push(L*j*j)}this.xs=r,this.ys=t,this.c1s=v,this.c2s=$,this.c3s=R}return eu(e,[{key:"interpolate",value:function(t){var n=this.xs,i=this.ys,a=this.c1s,o=this.c2s,c=this.c3s,u=n.length-1;if(t===n[u])return i[u];for(var f=0,p=c.length-1,v;f<=p;){v=Math.floor(.5*(f+p));var b=n[v];if(b<t)f=v+1;else if(b>t)p=v-1;else return i[v]}u=Math.max(0,p);var y=t-n[u],I=y*y;return i[u]+a[u]*y+o[u]*I+c[u]*y*I}}]),e}(),tu=1;function hn(e){var r=e.nodeType===tu?e:e.parentElement;if(!r)return null;var t=r.getBoundingClientRect(),n=t.top,i=t.left;return{x:i,y:n}}function We(e){return{x:e.clientX,y:e.clientY}}function ru(e){var r;return e.nodeName==="IMG"&&(Qs()||!((r=document.documentElement)!==null&&r!==void 0&&r.contains(e)))}function nu(e,r,t,n){var i=e?r.width:t,a=e?r.height:n;return pn()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function iu(e,r,t,n,i){var a=ru(r),o=a?e:r,c=hn(o),u={x:t.x-c.x,y:t.y-c.y},f=e.offsetWidth,p=e.offsetHeight,v=n.anchorX,b=n.anchorY,y=nu(a,r,f,p),I=y.dragPreviewWidth,d=y.dragPreviewHeight,D=function(){var L=new Fr([0,.5,1],[u.y,u.y/p*d,u.y+d-p]),J=L.interpolate(b);return pn()&&a&&(J+=(window.devicePixelRatio-1)*d),J},$=function(){var L=new Fr([0,.5,1],[u.x,u.x/f*I,u.x+I-f]);return L.interpolate(v)},R=i.offsetX,m=i.offsetY,A=R===0||R,H=m===0||m;return{x:A?R:$(),y:H?m:D()}}var vn="__NATIVE_FILE__",yn="__NATIVE_URL__",mn="__NATIVE_TEXT__",bn="__NATIVE_HTML__",Ur=Object.freeze(Object.defineProperty({__proto__:null,FILE:vn,URL:yn,TEXT:mn,HTML:bn},Symbol.toStringTag,{value:"Module"}));function Dt(e,r,t){var n=r.reduce(function(i,a){return i||e.getData(a)},"");return n!=null?n:t}var ke;function Ve(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kt=(ke={},Ve(ke,vn,{exposeProperties:{files:function(r){return Array.prototype.slice.call(r.files)},items:function(r){return r.items},dataTransfer:function(r){return r}},matchesTypes:["Files"]}),Ve(ke,bn,{exposeProperties:{html:function(r,t){return Dt(r,t,"")},dataTransfer:function(r){return r}},matchesTypes:["Html","text/html"]}),Ve(ke,yn,{exposeProperties:{urls:function(r,t){return Dt(r,t,"").split(`
`)},dataTransfer:function(r){return r}},matchesTypes:["Url","text/uri-list"]}),Ve(ke,mn,{exposeProperties:{text:function(r,t){return Dt(r,t,"")},dataTransfer:function(r){return r}},matchesTypes:["Text","text/plain"]}),ke);function au(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ou(e,r,t){return r&&zr(e.prototype,r),t&&zr(e,t),e}function Br(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var su=function(){function e(r){au(this,e),Br(this,"item",void 0),Br(this,"config",void 0),this.config=r,this.item={},this.initializeExposedProperties()}return ou(e,[{key:"initializeExposedProperties",value:function(){var t=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(t.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(t){var n=this;if(t){var i={};Object.keys(this.config.exposeProperties).forEach(function(a){i[a]={value:n.config.exposeProperties[a](t,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(t,n){return n===t.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function uu(e,r){var t=new su(kt[e]);return t.loadDataTransfer(r),t}function St(e){if(!e)return null;var r=Array.prototype.slice.call(e.types||[]);return Object.keys(kt).filter(function(t){var n=kt[t].matchesTypes;return n.some(function(i){return r.indexOf(i)>-1})})[0]||null}function cu(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lu(e,r,t){return r&&Kr(e.prototype,r),t&&Kr(e,t),e}function Ot(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var fu=function(){function e(r,t){cu(this,e),Ot(this,"ownerDocument",null),Ot(this,"globalContext",void 0),Ot(this,"optionsArgs",void 0),this.globalContext=r,this.optionsArgs=t}return lu(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){var t;return(t=this.globalContext)!==null&&t!==void 0&&t.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}}]),e}();function Wr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Vr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wr(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function du(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gu(e,r,t){return r&&Gr(e.prototype,r),t&&Gr(e,t),e}function E(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pu=function(){function e(r,t,n){var i=this;du(this,e),E(this,"options",void 0),E(this,"actions",void 0),E(this,"monitor",void 0),E(this,"registry",void 0),E(this,"enterLeaveCounter",void 0),E(this,"sourcePreviewNodes",new Map),E(this,"sourcePreviewNodeOptions",new Map),E(this,"sourceNodes",new Map),E(this,"sourceNodeOptions",new Map),E(this,"dragStartSourceIds",null),E(this,"dropTargetIds",[]),E(this,"dragEnterTargetIds",[]),E(this,"currentNativeSource",null),E(this,"currentNativeHandle",null),E(this,"currentDragSourceNode",null),E(this,"altKeyPressed",!1),E(this,"mouseMoveTimeoutTimer",null),E(this,"asyncEndDragFrameId",null),E(this,"dragOverTargetIds",null),E(this,"lastClientOffset",null),E(this,"hoverRafId",null),E(this,"getSourceClientOffset",function(a){var o=i.sourceNodes.get(a);return o&&hn(o)||null}),E(this,"endDragNativeItem",function(){!i.isDraggingNativeItem()||(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),E(this,"isNodeInDocument",function(a){return Boolean(a&&i.document&&i.document.body&&i.document.body.contains(a))}),E(this,"endDragIfSourceWasRemovedFromDOM",function(){var a=i.currentDragSourceNode;a==null||i.isNodeInDocument(a)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),E(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),E(this,"handleTopDragStart",function(a){if(!a.defaultPrevented){var o=i.dragStartSourceIds;i.dragStartSourceIds=null;var c=We(a);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:c});var u=a.dataTransfer,f=St(u);if(i.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){var p=i.monitor.getSourceId(),v=i.sourceNodes.get(p),b=i.sourcePreviewNodes.get(p)||v;if(b){var y=i.getCurrentSourcePreviewNodeOptions(),I=y.anchorX,d=y.anchorY,D=y.offsetX,$=y.offsetY,R={anchorX:I,anchorY:d},m={offsetX:D,offsetY:$},A=iu(v,b,c,R,m);u.setDragImage(b,A.x,A.y)}}try{u==null||u.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(a.target);var H=i.getCurrentSourcePreviewNodeOptions(),j=H.captureDraggingState;j?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(f)i.beginDragNativeItem(f);else{if(u&&!u.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}}}),E(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),E(this,"handleTopDragEnterCapture",function(a){i.dragEnterTargetIds=[];var o=i.enterLeaveCounter.enter(a.target);if(!(!o||i.monitor.isDragging())){var c=a.dataTransfer,u=St(c);u&&i.beginDragNativeItem(u,c)}}),E(this,"handleTopDragEnter",function(a){var o=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=a.altKey,o.length>0&&i.actions.hover(o,{clientOffset:We(a)});var c=o.some(function(u){return i.monitor.canDropOnTarget(u)});c&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),E(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),E(this,"handleTopDragOver",function(a){var o=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}i.altKeyPressed=a.altKey,i.lastClientOffset=We(a),i.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(o||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var c=(o||[]).some(function(u){return i.monitor.canDropOnTarget(u)});c?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))}),E(this,"handleTopDragLeaveCapture",function(a){i.isDraggingNativeItem()&&a.preventDefault();var o=i.enterLeaveCounter.leave(a.target);!o||i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),E(this,"handleTopDropCapture",function(a){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var o;a.preventDefault(),(o=i.currentNativeSource)===null||o===void 0||o.loadDataTransfer(a.dataTransfer)}else St(a.dataTransfer)&&a.preventDefault();i.enterLeaveCounter.reset()}),E(this,"handleTopDrop",function(a){var o=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(o,{clientOffset:We(a)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),E(this,"handleSelectStart",function(a){var o=a.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(a.preventDefault(),o.dragDrop()))}),this.options=new fu(t,n),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new Js(this.isNodeInDocument)}return gu(e,[{key:"profile",value:function(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}},{key:"teardown",value:function(){var t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(t,n,i){var a=this;return this.sourcePreviewNodeOptions.set(t,i),this.sourcePreviewNodes.set(t,n),function(){a.sourcePreviewNodes.delete(t),a.sourcePreviewNodeOptions.delete(t)}}},{key:"connectDragSource",value:function(t,n,i){var a=this;this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,i);var o=function(f){return a.handleDragStart(f,t)},c=function(f){return a.handleSelectStart(f)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",c),function(){a.sourceNodes.delete(t),a.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",c),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(t,n){var i=this,a=function(f){return i.handleDragEnter(f,t)},o=function(f){return i.handleDragOver(f,t)},c=function(f){return i.handleDrop(f,t)};return n.addEventListener("dragenter",a),n.addEventListener("dragover",o),n.addEventListener("drop",c),function(){n.removeEventListener("dragenter",a),n.removeEventListener("dragover",o),n.removeEventListener("drop",c)}}},{key:"addEventListeners",value:function(t){!t.addEventListener||(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(t){!t.removeEventListener||(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return Vr({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return Vr({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var t=this.monitor.getItemType();return Object.keys(Ur).some(function(n){return Ur[n]===t})}},{key:"beginDragNativeItem",value:function(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=uu(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(t){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var a;return(a=n.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(t,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(t,n){this.dropTargetIds.unshift(n)}}]),e}(),hu=function(r,t,n){return new pu(r,t,n)};function vu(e){function r(t,n){n[t.my_id]=t;for(let i of t.sons)r(i,n);return n}return r(e,{})}function yu(e,r=-1){if(e.sort((n,i)=>n[2]<i[2]?1:0),r>0){let n=e.filter(i=>i[0]==r)[0];n[1]=-1}let t=n=>Object.values(e.filter(i=>i[1]==n)).map(i=>({my_id:i[0],father_id:n,sons:t(i[0]),secret:i[3]}));return{my_id:-1,father_id:-1,sons:t(-1),secret:!0}}function mu(e){let r=(t,n)=>{let i=[[t.my_id,t.father_id,n,t.secret]];t.my_id<0&&(i=[]);for(let a in t.sons){let o=parseInt(a);i=[...i,...r(t.sons[o],o)]}return i};return r(e,-1)}class jt{constructor(r,t){Ke(this,"root_id");Ke(this,"nodetree");Ke(this,"_id2node");r!=null&&this.update_rawinfo(r,t)}deepcopy(){return new jt(this.get_raw(),this.root_id)}update_nodetree(r){return this.nodetree=r,this._id2node=vu(r),this}update_rawinfo(r,t){this.root_id=t;let n=yu(r,t);return this.update_nodetree(n),this}id2node(r){return this._id2node[r]}get_raw(){return mu(this.nodetree)}get_root(){return this.nodetree}is_son(r,t){for(;t=this.id2node(t).father_id,t!=-1;)if(t==r)return!0;return!1}}function Dn(e,r){return r.secret?!0:r.father_id>0?Dn(e,e.id2node(r.father_id)):!1}class bu extends g.exports.Component{constructor(r){super(r);this.state={nodetree:new jt([]),expanded:[]}}async componentDidMount(){let r=await Xt.get.nodetree();this.setState({nodetree:this.state.nodetree.update_rawinfo(r,si.node_id),expanded:Object.values(r).map(t=>t[1])})}move_node(r,t,n){let i=this.state.nodetree.deepcopy(),a=r.idx_in_father,o=i.id2node(r.father_id);t=i.id2node(t.my_id),r=i.id2node(r.my_id),o.my_id==t.my_id&&a<n&&n--;let c=o.sons;o.sons=[...c.slice(0,a),...c.slice(a+1,c.length)];let u=t.sons;t.sons=[...u.slice(0,n),r,...u.slice(n,u.length)],r.father_id=t.my_id,this.setState({nodetree:i})}DroppableSpace(r){let t=this,n=r.node,i=r.expect_idx,a=this.state.nodetree;const[{is_over_can_drop:o},c]=Ar(()=>({accept:"treeitem",drop:(u,f)=>{!f.isOver({shallow:!0})||t.move_node(u,n,i)},collect:u=>({is_over_can_drop:u.isOver({shallow:!0})&&u.canDrop()}),canDrop:u=>n.my_id!=u.my_id&&!a.is_son(u.my_id,n.my_id)}));return T(He,{ref:c,sx:{border:o?"1px dashed grey":"0",height:"6px"}})}DragableTreeItem(r){let t=this,n=r.node,i=n.my_id,a=n.father_id,o=r.idx_in_father,c=this.state.nodetree,u=this.DroppableSpace.bind(this),f=Dn(this.state.nodetree,n);const[{is_dragging:p},v]=Rs(()=>({type:"treeitem",item:Vt(Wt({},n),{idx_in_father:o}),collect:d=>({is_dragging:d.isDragging()})})),[{is_over:b,can_drop:y},I]=Ar(()=>({accept:"treeitem",drop:(d,D)=>{!D.isOver({shallow:!0})||d.my_id!=n.my_id&&t.move_node(d,n,n.sons.length)},collect:d=>({is_over:d.isOver({shallow:!0}),can_drop:d.canDrop()}),canDrop:d=>n.my_id==d.my_id||!c.is_son(d.my_id,n.my_id)}));return De(He,{ref:I,sx:{border:b&&y?"1px dashed grey":"0"},children:[T(u,{node:c.id2node(a),expect_idx:o}),De(Xi,{label:T(He,{color:f?"text.secondary":"text.primary",children:De(ui,{force_direction:"row",children:[De(ci,{sx:{marginY:"auto"},children:["[",i,"] ",T(li,{node_id:i})]}),T(_i,{onClick:d=>{d.stopPropagation()},defaultChecked:n.secret,onChange:d=>{let D=this.state.nodetree.deepcopy();D.id2node(i).secret=d.target.checked,this.setState({nodetree:D})}})]})}),nodeId:`${i}`,ref:v,onFocusCapture:d=>d.stopPropagation(),sx:{cursor:"move",opacity:p?.5:1},children:[r.children,T(u,{node:n,expect_idx:n.sons.length})]})]})}get_subtree(r){let t=this,n=this.DragableTreeItem.bind(this);return T(Yn,{children:Object.values(r.sons).map((i,a)=>T(n,{node:i,idx_in_father:a,children:t.get_subtree(i)},`${a}`))})}async save_nodetree(){return await Xt.post.nodetree({nodetree:this.state.nodetree.get_raw()})}render(){let r=this,t=this.state.nodetree;return De(He,{sx:{position:"absolute",top:"2%",left:"2%",height:"96%",width:"96%",display:"flex"},children:[T(Zn,{sx:{marginRight:"1%"},children:T(ei,{save_func:r.save_nodetree.bind(r)})}),De(He,{sx:{position:"relative",width:"100%",flex:1},children:[T(Yt,{}),T(No,{backend:hu,children:T(ia,{expanded:Object.values(r.state.expanded).map(n=>`${n}`),onNodeToggle:(n,i)=>{r.setState({expanded:i})},defaultCollapseIcon:T(Pi,{}),defaultExpandIcon:T(ki,{}),children:r.get_subtree(t.get_root())})}),T(Yt,{})]})]})}}Jn.render(T(Qn.StrictMode,{children:T(bu,{})}),document.getElementById("root"));
