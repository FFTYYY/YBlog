var vr=Object.defineProperty;var yr=(t,e,n)=>e in t?vr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ue=(t,e,n)=>(yr(t,typeof e!="symbol"?e+"":e,n),n);import{r as p,k as xr,R as Be,a as Ye,B as Ve,I as st,j,c as Dr,K as Sr,u as Er,A as Tr}from"./titleword.b1b80b46.js";import{g as fn,a as pn,s as xt,_ as fe,b as hn,a1 as Cr,M as Dt,j as A,e as gn,P as D,W as mn,l as St,h as Ge,r as Or,Q as Ir,u as wr,y as a,I as Me,U as Et,V as Tt,A as L,J as Ct,H as Ze,N as Nr,K as bn,B as Ne,a3 as Rr,L as Pr,a4 as Vt}from"./Link.4cc80eb8.js";import{_ as _r,T as vn,s as Oe,u as Ot,d as kr,a as yn,e as xn,b as Xe}from"./TransitionGroupContext.ec839413.js";import{B as Mr,u as jr,c as We,I as $r}from"./useFormControl.6c940ad3.js";import{S as Lr}from"./Save.784564f2.js";let Bt=0;function Ar(t){const[e,n]=p.exports.useState(t),o=t||e;return p.exports.useEffect(()=>{e==null&&(Bt+=1,n(`mui-${Bt}`))},[e]),o}const zt=xr["useId"];function Fr(t){if(zt!==void 0){const e=zt();return t!=null?t:e}return Ar(t)}function Hr(t,e,n,o,r){const i=r||e;return typeof t[e]!="undefined"?new Error(`The prop \`${i}\` is not supported. Please remove it.`):null}function qt({controlled:t,default:e,name:n,state:o="value"}){const{current:r}=p.exports.useRef(t!==void 0),[i,s]=p.exports.useState(e),u=r?t:i;{p.exports.useEffect(()=>{r!==(t!==void 0)&&console.error([`MUI: A component is changing the ${r?"":"un"}controlled ${o} state of ${n} to be ${r?"un":""}controlled.`,"Elements should not switch from uncontrolled to controlled (or vice versa).",`Decide between using a controlled or uncontrolled ${n} element for the lifetime of the component.`,"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.","More info: https://fb.me/react-controlled-components"].join(`
`))},[o,n,t]);const{current:f}=p.exports.useRef(e);p.exports.useEffect(()=>{!r&&f!==e&&console.error([`MUI: A component is changing the default ${o} state of an uncontrolled ${n} after being initialized. To suppress this warning opt to use a controlled ${n}.`].join(`
`))},[JSON.stringify(e)])}const d=p.exports.useCallback(f=>{r||s(f)},[]);return[u,d]}function Ur(t){return fn("PrivateSwitchBase",t)}pn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Vr=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Br=t=>{const{classes:e,checked:n,disabled:o,edge:r}=t,i={root:["root",n&&"checked",o&&"disabled",r&&`edge${St(r)}`],input:["input"]};return Ge(i,Ur,e)},zr=xt(Mr)(({ownerState:t})=>fe({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),qr=xt("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Dn=p.exports.forwardRef(function(e,n){const{autoFocus:o,checked:r,checkedIcon:i,className:s,defaultChecked:u,disabled:d,disableFocusRipple:f=!1,edge:m=!1,icon:x,id:y,inputProps:h,inputRef:T,name:b,onBlur:v,onChange:N,onFocus:P,readOnly:S,required:q,tabIndex:F,type:H,value:U}=e,le=hn(e,Vr),[de,X]=Cr({controlled:r,default:Boolean(u),name:"SwitchBase",state:"checked"}),G=jr(),ae=V=>{P&&P(V),G&&G.onFocus&&G.onFocus(V)},Q=V=>{v&&v(V),G&&G.onBlur&&G.onBlur(V)},J=V=>{if(V.nativeEvent.defaultPrevented)return;const Z=V.target.checked;X(Z),N&&N(V,Z)};let K=d;G&&typeof K=="undefined"&&(K=G.disabled);const I=H==="checkbox"||H==="radio",z=fe({},e,{checked:de,disabled:K,disableFocusRipple:f,edge:m}),R=Br(z);return Dt(zr,fe({component:"span",className:gn(R.root,s),centerRipple:!0,focusRipple:!f,disabled:K,tabIndex:null,role:void 0,onFocus:ae,onBlur:Q,ownerState:z,ref:n},le,{children:[A(qr,fe({autoFocus:o,checked:r,defaultChecked:u,className:R.input,disabled:K,id:I&&y,name:b,onChange:J,readOnly:S,ref:T,required:q,ownerState:z,tabIndex:F,type:H},H==="checkbox"&&U===void 0?{}:{value:U},h)),de?i:x]}))});Dn.propTypes={autoFocus:D.bool,checked:D.bool,checkedIcon:D.node.isRequired,classes:D.object,className:D.string,defaultChecked:D.bool,disabled:D.bool,disableFocusRipple:D.bool,edge:D.oneOf(["end","start",!1]),icon:D.node.isRequired,id:D.string,inputProps:D.object,inputRef:mn,name:D.string,onBlur:D.func,onChange:D.func,onFocus:D.func,readOnly:D.bool,required:D.bool,sx:D.object,tabIndex:D.oneOfType([D.number,D.string]),type:D.string.isRequired,value:D.any};var Gr=Dn,Wr=We(A("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Kr=We(A("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Yr=We(A("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Xr(t){return fn("MuiCheckbox",t)}const Jr=pn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);var at=Jr;const Qr=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Zr=t=>{const{classes:e,indeterminate:n,color:o}=t,r={root:["root",n&&"indeterminate",`color${St(o)}`]},i=Ge(r,Xr,e);return fe({},e,i)},eo=xt(Gr,{shouldForwardProp:t=>Or(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,n.color!=="default"&&e[`color${St(n.color)}`]]}})(({theme:t,ownerState:e})=>fe({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ir(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${at.checked}, &.${at.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${at.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),to=A(Kr,{}),no=A(Wr,{}),ro=A(Yr,{}),Sn=p.exports.forwardRef(function(e,n){var o,r;const i=wr({props:e,name:"MuiCheckbox"}),{checkedIcon:s=to,color:u="primary",icon:d=no,indeterminate:f=!1,indeterminateIcon:m=ro,inputProps:x,size:y="medium",className:h}=i,T=hn(i,Qr),b=f?m:d,v=f?m:s,N=fe({},i,{color:u,indeterminate:f,size:y}),P=Zr(N);return A(eo,fe({type:"checkbox",inputProps:fe({"data-indeterminate":f},x),icon:p.exports.cloneElement(b,{fontSize:(o=b.props.fontSize)!=null?o:y}),checkedIcon:p.exports.cloneElement(v,{fontSize:(r=v.props.fontSize)!=null?r:y}),ownerState:N,ref:n,className:gn(P.root,h)},T,{classes:P}))});Sn.propTypes={checked:D.bool,checkedIcon:D.node,classes:D.object,className:D.string,color:D.oneOfType([D.oneOf(["default","primary","secondary","error","info","success","warning"]),D.string]),defaultChecked:D.bool,disabled:D.bool,disableRipple:D.bool,icon:D.node,id:D.string,indeterminate:D.bool,indeterminateIcon:D.node,inputProps:D.object,inputRef:mn,onChange:D.func,required:D.bool,size:D.oneOfType([D.oneOf(["medium","small"]),D.string]),sx:D.oneOfType([D.arrayOf(D.oneOfType([D.func,D.object,D.bool])),D.func,D.object]),value:D.any};var oo=Sn;function io(t){function e(n,o){o[n.my_id]=n;for(let r of n.sons)e(r,o);return o}return e(t,{})}function so(t,e=-1){if(t.sort((o,r)=>o[2]<r[2]?1:0),e>0){let o=t.filter(r=>r[0]==e)[0];o[1]=-1}let n=o=>Object.values(t.filter(r=>r[1]==o)).map(r=>({my_id:r[0],father_id:o,sons:n(r[0]),secret:r[3]}));return{my_id:-1,father_id:-1,sons:n(-1),secret:!0}}function ao(t){let e=(n,o)=>{let r=[[n.my_id,n.father_id,o,n.secret]];n.my_id<0&&(r=[]);for(let i in n.sons){let s=parseInt(i);r=[...r,...e(n.sons[s],s)]}return r};return e(t,-1)}class It{constructor(e,n){Ue(this,"root_id");Ue(this,"nodetree");Ue(this,"_id2node");e!=null&&this.update_rawinfo(e,n)}deepcopy(){return new It(this.get_raw(),this.root_id)}update_nodetree(e){return this.nodetree=e,this._id2node=io(e),this}update_rawinfo(e,n){this.root_id=n;let o=so(e,n);return this.update_nodetree(o),this}id2node(e){return this._id2node[e]}get_raw(){return ao(this.nodetree)}get_root(){return this.nodetree}is_son(e,n){for(;n=this.id2node(n).father_id,n!=-1;)if(n==e)return!0;return!1}}var co=We(A("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),uo=We(A("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Gt={disabled:!1},lo=a.oneOfType([a.number,a.shape({enter:a.number,exit:a.number,appear:a.number}).isRequired]);a.oneOfType([a.string,a.shape({enter:a.string,exit:a.string,active:a.string}),a.shape({enter:a.string,enterDone:a.string,enterActive:a.string,exit:a.string,exitDone:a.string,exitActive:a.string})]);var fo=function(e){return e.scrollTop},ze="unmounted",Ee="exited",Te="entering",ke="entered",ht="exiting",pe=function(t){_r(e,t);function e(o,r){var i;i=t.call(this,o,r)||this;var s=r,u=s&&!s.isMounting?o.enter:o.appear,d;return i.appearStatus=null,o.in?u?(d=Ee,i.appearStatus=Te):d=ke:o.unmountOnExit||o.mountOnEnter?d=ze:d=Ee,i.state={status:d},i.nextCallback=null,i}e.getDerivedStateFromProps=function(r,i){var s=r.in;return s&&i.status===ze?{status:Ee}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Te&&s!==ke&&(i=Te):(s===Te||s===ke)&&(i=ht)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,s,u;return i=s=u=r,r!=null&&typeof r!="number"&&(i=r.exit,s=r.enter,u=r.appear!==void 0?r.appear:s),{exit:i,enter:s,appear:u}},n.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Te){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Be.findDOMNode(this);s&&fo(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ee&&this.setState({status:ze})},n.performEnter=function(r){var i=this,s=this.props.enter,u=this.context?this.context.isMounting:r,d=this.props.nodeRef?[u]:[Be.findDOMNode(this),u],f=d[0],m=d[1],x=this.getTimeouts(),y=u?x.appear:x.enter;if(!r&&!s||Gt.disabled){this.safeSetState({status:ke},function(){i.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:Te},function(){i.props.onEntering(f,m),i.onTransitionEnd(y,function(){i.safeSetState({status:ke},function(){i.props.onEntered(f,m)})})})},n.performExit=function(){var r=this,i=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:Be.findDOMNode(this);if(!i||Gt.disabled){this.safeSetState({status:Ee},function(){r.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:ht},function(){r.props.onExiting(u),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:Ee},function(){r.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,i.nextCallback=null,r(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Be.findDOMNode(this),u=r==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=d[0],m=d[1];this.props.addEndListener(f,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===ze)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=Me(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ye.createElement(vn.Provider,{value:null},typeof s=="function"?s(r,u):Ye.cloneElement(Ye.Children.only(s),u))},e}(Ye.Component);pe.contextType=vn;pe.propTypes={nodeRef:a.shape({current:typeof Element=="undefined"?a.any:function(t,e,n,o,r,i){var s=t[e];return a.instanceOf(s&&"ownerDocument"in s?s.ownerDocument.defaultView.Element:Element)(t,e,n,o,r,i)}}),children:a.oneOfType([a.func.isRequired,a.element.isRequired]).isRequired,in:a.bool,mountOnEnter:a.bool,unmountOnExit:a.bool,appear:a.bool,enter:a.bool,exit:a.bool,timeout:function(e){var n=lo;e.addEndListener||(n=n.isRequired);for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return n.apply(void 0,[e].concat(r))},addEndListener:a.func,onEnter:a.func,onEntering:a.func,onEntered:a.func,onExit:a.func,onExiting:a.func,onExited:a.func};function Re(){}pe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Re,onEntering:Re,onEntered:Re,onExit:Re,onExiting:Re,onExited:Re};pe.UNMOUNTED=ze;pe.EXITED=Ee;pe.ENTERING=Te;pe.ENTERED=ke;pe.EXITING=ht;var po=pe;function Wt(t,e){var n,o;const{timeout:r,easing:i,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof r=="number"?r:r[e.mode]||0,easing:(o=s.transitionTimingFunction)!=null?o:typeof i=="object"?i[e.mode]:i,delay:s.transitionDelay}}function ho(t){return Et("MuiCollapse",t)}Tt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const go=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],mo=t=>{const{orientation:e,classes:n}=t,o={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Ge(o,ho,n)},bo=Oe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>L({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&L({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),vo=Oe("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>L({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),yo=Oe("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>L({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),wt=p.exports.forwardRef(function(e,n){const o=Ot({props:e,name:"MuiCollapse"}),{addEndListener:r,children:i,className:s,collapsedSize:u="0px",component:d,easing:f,in:m,onEnter:x,onEntered:y,onEntering:h,onExit:T,onExited:b,onExiting:v,orientation:N="vertical",style:P,timeout:S=kr.standard,TransitionComponent:q=po}=o,F=Me(o,go),H=L({},o,{orientation:N,collapsedSize:u}),U=mo(H),le=yn(),de=p.exports.useRef(),X=p.exports.useRef(null),G=p.exports.useRef(),ae=typeof u=="number"?`${u}px`:u,Q=N==="horizontal",J=Q?"width":"height";p.exports.useEffect(()=>()=>{clearTimeout(de.current)},[]);const K=p.exports.useRef(null),I=Ct(n,K),z=O=>k=>{if(O){const te=K.current;k===void 0?O(te):O(te,k)}},R=()=>X.current?X.current[Q?"clientWidth":"clientHeight"]:0,V=z((O,k)=>{X.current&&Q&&(X.current.style.position="absolute"),O.style[J]=ae,x&&x(O,k)}),Z=z((O,k)=>{const te=R();X.current&&Q&&(X.current.style.position="");const{duration:ne,easing:B}=Wt({style:P,timeout:S,easing:f},{mode:"enter"});if(S==="auto"){const se=le.transitions.getAutoHeightDuration(te);O.style.transitionDuration=`${se}ms`,G.current=se}else O.style.transitionDuration=typeof ne=="string"?ne:`${ne}ms`;O.style[J]=`${te}px`,O.style.transitionTimingFunction=B,h&&h(O,k)}),ye=z((O,k)=>{O.style[J]="auto",y&&y(O,k)}),Y=z(O=>{O.style[J]=`${R()}px`,T&&T(O)}),he=z(b),ee=z(O=>{const k=R(),{duration:te,easing:ne}=Wt({style:P,timeout:S,easing:f},{mode:"exit"});if(S==="auto"){const B=le.transitions.getAutoHeightDuration(k);O.style.transitionDuration=`${B}ms`,G.current=B}else O.style.transitionDuration=typeof te=="string"?te:`${te}ms`;O.style[J]=ae,O.style.transitionTimingFunction=ne,v&&v(O)});return A(q,L({in:m,onEnter:V,onEntered:ye,onEntering:Z,onExit:Y,onExited:he,onExiting:ee,addEndListener:O=>{S==="auto"&&(de.current=setTimeout(O,G.current||0)),r&&r(K.current,O)},nodeRef:K,timeout:S==="auto"?null:S},F,{children:(O,k)=>A(bo,L({as:d,className:Ze(U.root,s,{entered:U.entered,exited:!m&&ae==="0px"&&U.hidden}[O]),style:L({[Q?"minWidth":"minHeight"]:ae},P),ownerState:L({},H,{state:O}),ref:I},k,{children:A(vo,{ownerState:L({},H,{state:O}),className:U.wrapper,ref:X,children:A(yo,{ownerState:L({},H,{state:O}),className:U.wrapperInner,children:i})})}))}))});wt.propTypes={addEndListener:a.func,children:a.node,classes:a.object,className:a.string,collapsedSize:a.oneOfType([a.number,a.string]),component:xn,easing:a.oneOfType([a.shape({enter:a.string,exit:a.string}),a.string]),in:a.bool,onEnter:a.func,onEntered:a.func,onEntering:a.func,onExit:a.func,onExited:a.func,onExiting:a.func,orientation:a.oneOf(["horizontal","vertical"]),style:a.object,sx:a.oneOfType([a.arrayOf(a.oneOfType([a.func,a.object,a.bool])),a.func,a.object]),timeout:a.oneOfType([a.oneOf(["auto"]),a.number,a.shape({appear:a.number,enter:a.number,exit:a.number})])};wt.muiSupportAuto=!0;var En=wt;const Tn=p.exports.createContext({});Tn.displayName="TreeViewContext";var Nt=Tn;const xo=["element"];function Do(t,e){for(let n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}function So(t,e){let n=0,o=t.length-1;for(;n<=o;){const r=Math.floor((n+o)/2);if(t[r].element===e)return r;t[r].element.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING?o=r-1:n=r+1}return n}const Rt=p.exports.createContext({});Rt.displayName="DescendantContext";function Eo(t){const e=p.exports.useRef(null);return p.exports.useEffect(()=>{e.current=t},[t]),e.current}const Kt=()=>{};function To(t){const[,e]=p.exports.useState(),{registerDescendant:n=Kt,unregisterDescendant:o=Kt,descendants:r=[],parentId:i=null}=p.exports.useContext(Rt),s=Do(r,f=>f.element===t.element),u=Eo(r),d=r.some((f,m)=>u&&u[m]&&u[m].element!==f.element);return Nr(()=>{if(t.element)return n(L({},t,{index:s})),()=>{o(t.element)};e({})},[n,o,s,d,t]),{parentId:i,index:s}}function Pt(t){const{children:e,id:n}=t,[o,r]=p.exports.useState([]),i=p.exports.useCallback(d=>{let{element:f}=d,m=Me(d,xo);r(x=>{let y;if(x.length===0)return[L({},m,{element:f,index:0})];const h=So(x,f);if(x[h]&&x[h].element===f)y=x;else{const T=L({},m,{element:f,index:h});y=x.slice(),y.splice(h,0,T)}return y.forEach((T,b)=>{T.index=b}),y})},[]),s=p.exports.useCallback(d=>{r(f=>f.filter(m=>d!==m.element))},[]),u=p.exports.useMemo(()=>({descendants:o,registerDescendant:i,unregisterDescendant:s,parentId:n}),[o,i,s,n]);return A(Rt.Provider,{value:u,children:e})}Pt.propTypes={children:a.node,id:a.string};function Co(t){const{focus:e,isExpanded:n,isExpandable:o,isFocused:r,isDisabled:i,isSelected:s,multiSelect:u,selectNode:d,selectRange:f,toggleExpansion:m}=p.exports.useContext(Nt),x=o?o(t):!1,y=n?n(t):!1,h=r?r(t):!1,T=i?i(t):!1,b=s?s(t):!1;return{disabled:T,expanded:y,selected:b,focused:h,handleExpansion:S=>{if(!T){h||e(S,t);const q=u&&(S.shiftKey||S.ctrlKey||S.metaKey);x&&!(q&&n(t))&&m(S,t)}},handleSelection:S=>{T||(h||e(S,t),u&&(S.shiftKey||S.ctrlKey||S.metaKey)?S.shiftKey?f(S,{end:t}):d(S,t,!0):d(S,t))},preventSelection:S=>{(S.shiftKey||S.ctrlKey||S.metaKey||T)&&S.preventDefault()}}}const Oo=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],Cn=p.exports.forwardRef(function(e,n){const{classes:o,className:r,displayIcon:i,expansionIcon:s,icon:u,label:d,nodeId:f,onClick:m,onMouseDown:x}=e,y=Me(e,Oo),{disabled:h,expanded:T,selected:b,focused:v,handleExpansion:N,handleSelection:P,preventSelection:S}=Co(f),q=u||s||i,F=U=>{S(U),x&&x(U)},H=U=>{N(U),P(U),m&&m(U)};return Dt("div",L({className:Ze(r,o.root,T&&o.expanded,b&&o.selected,v&&o.focused,h&&o.disabled),onClick:H,onMouseDown:F,ref:n},y,{children:[A("div",{className:o.iconContainer,children:q}),A("div",{className:o.label,children:d})]}))});Cn.propTypes={classes:a.object,className:a.string,displayIcon:a.node,expansionIcon:a.node,icon:a.node,label:a.node,nodeId:a.string.isRequired,onClick:a.func,onMouseDown:a.func};var On=Cn;function Io(t){return Et("MuiTreeItem",t)}const wo=Tt("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);var ve=wo;const No=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Ro=t=>{const{classes:e}=t;return Ge({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Io,e)},Po=Oe("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(t,e)=>e.root})({listStyle:"none",margin:0,padding:0,outline:0}),_o=Oe(On,{name:"MuiTreeItem",slot:"Content",overridesResolver:(t,e)=>[e.content,e.iconContainer&&{[`& .${ve.iconContainer}`]:e.iconContainer},e.label&&{[`& .${ve.label}`]:e.label}]})(({theme:t})=>({padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ve.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${ve.focused}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ve.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Xe(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Xe(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Xe(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ve.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Xe(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`& .${ve.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${ve.label}`]:L({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},t.typography.body1)})),ko=Oe(En,{name:"MuiTreeItem",slot:"Group",overridesResolver:(t,e)=>e.group})({margin:0,padding:0,marginLeft:17}),In=p.exports.forwardRef(function(e,n){const o=Ot({props:e,name:"MuiTreeItem"}),{children:r,className:i,collapseIcon:s,ContentComponent:u=On,ContentProps:d,endIcon:f,expandIcon:m,disabled:x,icon:y,id:h,label:T,nodeId:b,onClick:v,onMouseDown:N,TransitionComponent:P=En,TransitionProps:S}=o,q=Me(o,No),{icons:F={},focus:H,isExpanded:U,isFocused:le,isSelected:de,isDisabled:X,multiSelect:G,disabledItemsFocusable:ae,mapFirstChar:Q,unMapFirstChar:J,registerNode:K,unregisterNode:I,treeId:z}=p.exports.useContext(Nt);let R=null;h!=null?R=h:z&&b&&(R=`${z}-${b}`);const[V,Z]=p.exports.useState(null),ye=p.exports.useRef(null),Y=Ct(Z,n),he=p.exports.useMemo(()=>({element:V,id:b}),[b,V]),{index:ee,parentId:ge}=To(he),O=Boolean(Array.isArray(r)?r.length:r),k=U?U(b):!1,te=le?le(b):!1,ne=de?de(b):!1,B=X?X(b):!1,se=L({},o,{expanded:k,focused:te,selected:ne,disabled:B}),re=Ro(se);let xe,De;O&&(k?De=s||F.defaultCollapseIcon:De=m||F.defaultExpandIcon),O?xe=F.defaultParentIcon:xe=f||F.defaultEndIcon,p.exports.useEffect(()=>{if(K&&I&&ee!==-1)return K({id:b,idAttribute:R,index:ee,parentId:ge,expandable:O,disabled:x}),()=>{I(b)}},[K,I,ge,ee,b,O,x,R]),p.exports.useEffect(()=>{if(Q&&J&&T)return Q(b,ye.current.textContent.substring(0,1).toLowerCase()),()=>{J(b)}},[Q,J,b,T]);let $e;G?$e=ne:ne&&($e=!0);function it(me){me.target===me.currentTarget&&bn(me.target).getElementById(z).focus({preventScroll:!0});const ce=!ae&&B;!te&&me.currentTarget===me.target&&!ce&&H(me,b)}return Dt(Po,L({className:Ze(re.root,i),role:"treeitem","aria-expanded":O?k:null,"aria-selected":$e,"aria-disabled":B||null,ref:Y,id:R,tabIndex:-1},q,{ownerState:se,onFocus:it,children:[A(_o,L({as:u,ref:ye,classes:{root:re.content,expanded:re.expanded,selected:re.selected,focused:re.focused,disabled:re.disabled,iconContainer:re.iconContainer,label:re.label},label:T,nodeId:b,onClick:v,onMouseDown:N,icon:y,expansionIcon:De,displayIcon:xe,ownerState:se},d)),r&&A(Pt,{id:b,children:A(ko,L({as:P,unmountOnExit:!0,className:re.group,in:k,component:"ul",role:"group"},S,{children:r}))})]}))});In.propTypes={children:a.node,classes:a.object,className:a.string,collapseIcon:a.node,ContentComponent:xn,ContentProps:a.object,disabled:a.bool,endIcon:a.node,expandIcon:a.node,icon:a.node,id:a.string,label:a.node,nodeId:a.string.isRequired,onClick:a.func,onFocus:Hr,onMouseDown:a.func,sx:a.oneOfType([a.arrayOf(a.oneOfType([a.func,a.object,a.bool])),a.func,a.object]),TransitionComponent:a.elementType,TransitionProps:a.object};var Mo=In;function jo(t){return Et("MuiTreeView",t)}Tt("MuiTreeView",["root"]);const $o=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],Lo=t=>{const{classes:e}=t;return Ge({root:["root"]},jo,e)},Ao=Oe("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,margin:0,listStyle:"none",outline:0});function Fo(t){return t&&t.length===1&&t.match(/\S/)}function Yt(t,e,n){for(let o=e;o<t.length;o+=1)if(n===t[o])return o;return-1}function Xt(){return!1}const Ho=[],Uo=[],wn=p.exports.forwardRef(function(e,n){const o=Ot({props:e,name:"MuiTreeView"}),{children:r,className:i,defaultCollapseIcon:s,defaultEndIcon:u,defaultExpanded:d=Ho,defaultExpandIcon:f,defaultParentIcon:m,defaultSelected:x=Uo,disabledItemsFocusable:y=!1,disableSelection:h=!1,expanded:T,id:b,multiSelect:v=!1,onBlur:N,onFocus:P,onKeyDown:S,onNodeFocus:q,onNodeSelect:F,onNodeToggle:H,selected:U}=o,le=Me(o,$o),X=yn().direction==="rtl",G=L({},o,{defaultExpanded:d,defaultSelected:x,disabledItemsFocusable:y,disableSelection:h,multiSelect:v}),ae=Lo(G),Q=Fr(b),J=p.exports.useRef(null),K=Ct(J,n),[I,z]=p.exports.useState(null),R=p.exports.useRef({}),V=p.exports.useRef({}),[Z,ye]=qt({controlled:T,default:d,name:"TreeView",state:"expanded"}),[Y,he]=qt({controlled:U,default:x,name:"TreeView",state:"selected"}),ee=p.exports.useCallback(c=>Array.isArray(Z)?Z.indexOf(c)!==-1:!1,[Z]),ge=p.exports.useCallback(c=>R.current[c]&&R.current[c].expandable,[]),O=p.exports.useCallback(c=>Array.isArray(Y)?Y.indexOf(c)!==-1:Y===c,[Y]),k=p.exports.useCallback(c=>{let l=R.current[c];if(!l)return!1;if(l.disabled)return!0;for(;l.parentId!=null;)if(l=R.current[l.parentId],l.disabled)return!0;return!1},[]),te=c=>I===c,ne=c=>Object.keys(R.current).map(l=>R.current[l]).filter(l=>l.parentId===c).sort((l,g)=>l.index-g.index).map(l=>l.id),B=c=>{let l=ne(c);return y||(l=l.filter(g=>!k(g))),l},se=c=>{if(ee(c)&&B(c).length>0)return B(c)[0];let l=R.current[c];for(;l!=null;){const g=B(l.parentId),C=g[g.indexOf(l.id)+1];if(C)return C;l=R.current[l.parentId]}return null},re=c=>{const l=R.current[c],g=B(l.parentId),C=g.indexOf(c);if(C===0)return l.parentId;let w=g[C-1];for(;ee(w)&&B(w).length>0;)w=B(w).pop();return w},xe=()=>{let c=B(null).pop();for(;ee(c);)c=B(c).pop();return c},De=()=>B(null)[0],$e=c=>R.current[c].parentId,it=(c,l)=>{if(c===l)return[c,l];const g=R.current[c],C=R.current[l];if(g.parentId===C.id||C.parentId===g.id)return C.parentId===g.id?[g.id,C.id]:[C.id,g.id];const w=[g.id],_=[C.id];let M=g.parentId,W=C.parentId,oe=_.indexOf(M)!==-1,Ae=w.indexOf(W)!==-1,we=!0,Fe=!0;for(;!Ae&&!oe;)we&&(w.push(M),oe=_.indexOf(M)!==-1,we=M!==null,!oe&&we&&(M=R.current[M].parentId)),Fe&&!oe&&(_.push(W),Ae=w.indexOf(W)!==-1,Fe=W!==null,!Ae&&Fe&&(W=R.current[W].parentId));const He=oe?M:W,Ut=ne(He),mr=w[w.indexOf(He)-1],br=_[_.indexOf(He)-1];return Ut.indexOf(mr)<Ut.indexOf(br)?[c,l]:[l,c]},me=(c,l)=>{const[g,C]=it(c,l),w=[g];let _=g;for(;_!==C;)_=se(_),w.push(_);return w},ce=(c,l)=>{l&&(z(l),q&&q(c,l))},At=(c,l)=>ce(c,se(l)),Kn=(c,l)=>ce(c,re(l)),Yn=c=>ce(c,De()),Xn=c=>ce(c,xe()),Jn=(c,l,g)=>{let C,w;const _=g.toLowerCase(),M=[],W=[];Object.keys(V.current).forEach(oe=>{const Ae=V.current[oe],we=R.current[oe],Fe=we.parentId?ee(we.parentId):!0,He=y?!1:k(oe);Fe&&!He&&(M.push(oe),W.push(Ae))}),C=M.indexOf(l)+1,C>=M.length&&(C=0),w=Yt(W,C,_),w===-1&&(w=Yt(W,0,_)),w>-1&&ce(c,M[w])},Ke=(c,l=I)=>{let g;Z.indexOf(l)!==-1?g=Z.filter(C=>C!==l):g=[l].concat(Z),H&&H(c,g),ye(g)},Qn=(c,l)=>{const g=R.current[l],w=ne(g.parentId).filter(M=>ge(M)&&!ee(M)),_=Z.concat(w);w.length>0&&(ye(_),H&&H(c,_))},be=p.exports.useRef(null),Ie=p.exports.useRef(!1),ue=p.exports.useRef([]),Zn=(c,l)=>{let g=Y.slice();const{start:C,next:w,current:_}=l;!w||!_||(ue.current.indexOf(_)===-1&&(ue.current=[]),Ie.current?ue.current.indexOf(w)!==-1?(g=g.filter(M=>M===C||M!==_),ue.current=ue.current.filter(M=>M===C||M!==_)):(g.push(w),ue.current.push(w)):(g.push(w),ue.current.push(_,w)),F&&F(c,g),he(g))},er=(c,l)=>{let g=Y.slice();const{start:C,end:w}=l;Ie.current&&(g=g.filter(W=>ue.current.indexOf(W)===-1));let _=me(C,w);_=_.filter(W=>!k(W)),ue.current=_;let M=g.concat(_);M=M.filter((W,oe)=>M.indexOf(W)===oe),F&&F(c,M),he(M)},tr=(c,l)=>{let g;Y.indexOf(l)!==-1?g=Y.filter(C=>C!==l):g=[l].concat(Y),F&&F(c,g),he(g)},nr=(c,l)=>{const g=v?[l]:l;F&&F(c,g),he(g)},Le=(c,l,g=!1)=>l?(g?tr(c,l):nr(c,l),be.current=l,Ie.current=!1,ue.current=[],!0):!1,Se=(c,l,g=!1)=>{const{start:C=be.current,end:w,current:_}=l;g?Zn(c,{start:C,next:w,current:_}):C!=null&&w!=null&&er(c,{start:C,end:w}),Ie.current=!0},rr=(c,l)=>{be.current||(be.current=l);const g=Ie.current?be.current:l;Se(c,{start:g,end:De()})},or=(c,l)=>{be.current||(be.current=l);const g=Ie.current?be.current:l;Se(c,{start:g,end:xe()})},ir=(c,l)=>{k(se(l))||Se(c,{end:se(l),current:l},!0)},sr=(c,l)=>{k(re(l))||Se(c,{end:re(l),current:l},!0)},ar=c=>{Se(c,{start:De(),end:xe()})},cr=p.exports.useCallback(c=>{const{id:l,index:g,parentId:C,expandable:w,idAttribute:_,disabled:M}=c;R.current[l]={id:l,index:g,parentId:C,expandable:w,idAttribute:_,disabled:M}},[]),ur=p.exports.useCallback(c=>{const l=L({},R.current);delete l[c],R.current=l,z(g=>g===c&&J.current===bn(J.current).activeElement?ne(null)[0]:g)},[]),lr=p.exports.useCallback((c,l)=>{V.current[c]=l},[]),dr=p.exports.useCallback(c=>{const l=L({},V.current);delete l[c],V.current=l},[]),Ft=c=>(ge(I)&&(ee(I)?At(c,I):k(I)||Ke(c)),!0),Ht=c=>{if(ee(I)&&!k(I))return Ke(c,I),!0;const l=$e(I);return l?(ce(c,l),!0):!1},fr=c=>{let l=!1;const g=c.key;if(c.altKey||c.currentTarget!==c.target||!I)return;const C=c.ctrlKey||c.metaKey;switch(g){case" ":!h&&!k(I)&&(v&&c.shiftKey?(Se(c,{end:I}),l=!0):v?l=Le(c,I,!0):l=Le(c,I)),c.stopPropagation();break;case"Enter":k(I)||(ge(I)?(Ke(c),l=!0):v?l=Le(c,I,!0):l=Le(c,I)),c.stopPropagation();break;case"ArrowDown":v&&c.shiftKey&&!h&&ir(c,I),At(c,I),l=!0;break;case"ArrowUp":v&&c.shiftKey&&!h&&sr(c,I),Kn(c,I),l=!0;break;case"ArrowRight":X?l=Ht(c):l=Ft(c);break;case"ArrowLeft":X?l=Ft(c):l=Ht(c);break;case"Home":v&&C&&c.shiftKey&&!h&&!k(I)&&rr(c,I),Yn(c),l=!0;break;case"End":v&&C&&c.shiftKey&&!h&&!k(I)&&or(c,I),Xn(c),l=!0;break;default:g==="*"?(Qn(c,I),l=!0):v&&C&&g.toLowerCase()==="a"&&!h?(ar(c),l=!0):!C&&!c.shiftKey&&Fo(g)&&(Jn(c,I,g),l=!0)}l&&(c.preventDefault(),c.stopPropagation()),S&&S(c)},pr=c=>{if(c.target===c.currentTarget){const l=Array.isArray(Y)?Y[0]:Y;ce(c,l||B(null)[0])}P&&P(c)},hr=c=>{z(null),N&&N(c)},gr=R.current[I]?R.current[I].idAttribute:null;return A(Nt.Provider,{value:{icons:{defaultCollapseIcon:s,defaultExpandIcon:f,defaultParentIcon:m,defaultEndIcon:u},focus:ce,toggleExpansion:Ke,isExpanded:ee,isExpandable:ge,isFocused:te,isSelected:O,isDisabled:k,selectNode:h?Xt:Le,selectRange:h?Xt:Se,multiSelect:v,disabledItemsFocusable:y,mapFirstChar:lr,unMapFirstChar:dr,registerNode:cr,unregisterNode:ur,treeId:Q},children:A(Pt,{children:A(Ao,L({role:"tree",id:Q,"aria-activedescendant":gr,"aria-multiselectable":v,className:Ze(ae.root,i),ref:K,tabIndex:0,onKeyDown:fr,onFocus:pr,onBlur:hr,ownerState:G},le,{children:r}))})})});wn.propTypes={children:a.node,classes:a.object,className:a.string,defaultCollapseIcon:a.node,defaultEndIcon:a.node,defaultExpanded:a.arrayOf(a.string),defaultExpandIcon:a.node,defaultParentIcon:a.node,defaultSelected:a.oneOfType([a.arrayOf(a.string),a.string]),disabledItemsFocusable:a.bool,disableSelection:a.bool,expanded:a.arrayOf(a.string),id:a.string,multiSelect:a.bool,onBlur:a.func,onFocus:a.func,onKeyDown:a.func,onNodeFocus:a.func,onNodeSelect:a.func,onNodeToggle:a.func,selected:a.oneOfType([a.arrayOf(a.string),a.string]),sx:a.oneOfType([a.arrayOf(a.oneOfType([a.func,a.object,a.bool])),a.func,a.object])};var Vo=wn;const Nn=p.exports.createContext({dragDropManager:void 0});var Jt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ct=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qt={INIT:"@@redux/INIT"+ct(),REPLACE:"@@redux/REPLACE"+ct(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ct()}};function Bo(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zo(t){if(t===void 0)return"undefined";if(t===null)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(Wo(t))return"date";if(Go(t))return"error";var n=qo(t);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}function qo(t){return typeof t.constructor=="function"?t.constructor.name:null}function Go(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function Wo(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function Pe(t){var e=typeof t;return e=zo(t),e}function Rn(t,e,n){var o;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof e=="function"&&typeof n=="undefined"&&(n=e,e=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function. Instead, received: '"+Pe(n)+"'");return n(Rn)(t,e)}if(typeof t!="function")throw new Error("Expected the root reducer to be a function. Instead, received: '"+Pe(t)+"'");var r=t,i=e,s=[],u=s,d=!1;function f(){u===s&&(u=s.slice())}function m(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function x(b){if(typeof b!="function")throw new Error("Expected the listener to be a function. Instead, received: '"+Pe(b)+"'");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var v=!0;return f(),u.push(b),function(){if(!!v){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");v=!1,f();var P=u.indexOf(b);u.splice(P,1),s=null}}}function y(b){if(!Bo(b))throw new Error("Actions must be plain objects. Instead, the actual type was: '"+Pe(b)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(typeof b.type=="undefined")throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,i=r(i,b)}finally{d=!1}for(var v=s=u,N=0;N<v.length;N++){var P=v[N];P()}return b}function h(b){if(typeof b!="function")throw new Error("Expected the nextReducer to be a function. Instead, received: '"+Pe(b));r=b,y({type:Qt.REPLACE})}function T(){var b,v=x;return b={subscribe:function(P){if(typeof P!="object"||P===null)throw new Error("Expected the observer to be an object. Instead, received: '"+Pe(P)+"'");function S(){P.next&&P.next(m())}S();var q=v(S);return{unsubscribe:q}}},b[Jt]=function(){return this},b}return y({type:Qt.INIT}),o={dispatch:y,subscribe:x,getState:m,replaceReducer:h},o[Jt]=T,o}function Ko(t){typeof console!="undefined"&&typeof console.error=="function"&&console.error(t);try{throw new Error(t)}catch{}}function Zt(){}typeof Zt.name=="string"&&Zt.name!=="isCrushed"&&Ko('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');function E(t,e,...n){if(Yo()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let o;if(e===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;o=new Error(e.replace(/%s/g,function(){return n[r++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}function Yo(){return typeof process!="undefined"&&process.env.NODE_ENV==="production"}function Xo(t,e,n){return e.split(".").reduce((o,r)=>o&&o[r]?o[r]:n||null,t)}function Jo(t,e){return t.filter(n=>n!==e)}function Pn(t){return typeof t=="object"}function Qo(t,e){const n=new Map,o=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};t.forEach(o),e.forEach(o);const r=[];return n.forEach((i,s)=>{i===1&&r.push(s)}),r}function Zo(t,e){return t.filter(n=>e.indexOf(n)>-1)}const _t="dnd-core/INIT_COORDS",et="dnd-core/BEGIN_DRAG",kt="dnd-core/PUBLISH_DRAG_SOURCE",tt="dnd-core/HOVER",nt="dnd-core/DROP",rt="dnd-core/END_DRAG";function en(t,e){return{type:_t,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const ei={type:_t,payload:{clientOffset:null,sourceClientOffset:null}};function ti(t){return function(n=[],o={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:s}=o,u=t.getMonitor(),d=t.getRegistry();t.dispatch(en(i)),ni(n,u,d);const f=ii(n,u);if(f==null){t.dispatch(ei);return}let m=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");ri(s),m=s(f)}t.dispatch(en(i,m));const y=d.getSource(f).beginDrag(u,f);if(y==null)return;oi(y),d.pinSource(f);const h=d.getSourceType(f);return{type:et,payload:{itemType:h,item:y,sourceId:f,clientOffset:i||null,sourceClientOffset:m||null,isSourcePublic:!!r}}}}function ni(t,e,n){E(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(o){E(n.getSource(o),"Expected sourceIds to be registered.")})}function ri(t){E(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function oi(t){E(Pn(t),"Item must be an object.")}function ii(t,e){let n=null;for(let o=t.length-1;o>=0;o--)if(e.canDragSource(t[o])){n=t[o];break}return n}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){si(t,r,n[r])})}return t}function ci(t){return function(n={}){const o=t.getMonitor(),r=t.getRegistry();ui(o),fi(o).forEach((s,u)=>{const d=li(s,u,r,o),f={type:nt,payload:{dropResult:ai({},n,d)}};t.dispatch(f)})}}function ui(t){E(t.isDragging(),"Cannot call drop while not dragging."),E(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function li(t,e,n,o){const r=n.getTarget(t);let i=r?r.drop(o,t):void 0;return di(i),typeof i=="undefined"&&(i=e===0?{}:o.getDropResult()),i}function di(t){E(typeof t=="undefined"||Pn(t),"Drop result must either be an object or undefined.")}function fi(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function pi(t){return function(){const n=t.getMonitor(),o=t.getRegistry();hi(n);const r=n.getSourceId();return r!=null&&(o.getSource(r,!0).endDrag(n,r),o.unpinSource()),{type:rt}}}function hi(t){E(t.isDragging(),"Cannot call endDrag while not dragging.")}function gt(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function gi(t){return function(n,{clientOffset:o}={}){mi(n);const r=n.slice(0),i=t.getMonitor(),s=t.getRegistry(),u=i.getItemType();return vi(r,s,u),bi(r,i,s),yi(r,i,s),{type:tt,payload:{targetIds:r,clientOffset:o||null}}}}function mi(t){E(Array.isArray(t),"Expected targetIds to be an array.")}function bi(t,e,n){E(e.isDragging(),"Cannot call hover while not dragging."),E(!e.didDrop(),"Cannot call hover after drop.");for(let o=0;o<t.length;o++){const r=t[o];E(t.lastIndexOf(r)===o,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(r);E(i,"Expected targetIds to be registered.")}}function vi(t,e,n){for(let o=t.length-1;o>=0;o--){const r=t[o],i=e.getTargetType(r);gt(i,n)||t.splice(o,1)}}function yi(t,e,n){t.forEach(function(o){n.getTarget(o).hover(e,o)})}function xi(t){return function(){if(t.getMonitor().isDragging())return{type:kt}}}function Di(t){return{beginDrag:ti(t),publishDragSource:xi(t),hover:gi(t),drop:ci(t),endDrag:pi(t)}}class Si{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function o(i){return(...s)=>{const u=i.apply(e,s);typeof u!="undefined"&&n(u)}}const r=Di(this);return Object.keys(r).reduce((i,s)=>{const u=r[s];return i[s]=o(u),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const o=this.store.getState().refCount>0;this.backend&&(o&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!o&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Ei(t,e){return{x:t.x+e.x,y:t.y+e.y}}function _n(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ti(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:o}=t;return!e||!n||!o?null:_n(Ei(e,o),n)}function Ci(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:_n(e,n)}const qe=[],Mt=[];qe.__IS_NONE__=!0;Mt.__IS_ALL__=!0;function Oi(t,e){return t===qe?!1:t===Mt||typeof e=="undefined"?!0:Zo(e,t).length>0}class Ii{subscribeToStateChange(e,n={}){const{handlerIds:o}=n;E(typeof e=="function","listener must be a function."),E(typeof o=="undefined"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),u=s.stateId;try{u===r||u===r+1&&!Oi(s.dirtyHandlerIds,o)||e()}finally{r=u}};return this.store.subscribe(i)}subscribeToOffsetChange(e){E(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const o=()=>{const r=this.store.getState().dragOffset;r!==n&&(n=r,e())};return this.store.subscribe(o)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return E(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(E(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const o=this.registry.getTargetType(e),r=this.getItemType();return gt(o,r)&&n.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(E(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const o=this.registry.getSourceType(e),r=this.getItemType();return o!==r?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:o}=n;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!gt(r,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const u=s.indexOf(e);return o?u===s.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ti(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Ci(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const tn=typeof global!="undefined"?global:self,kn=tn.MutationObserver||tn.WebKitMutationObserver;function Mn(t){return function(){const n=setTimeout(r,0),o=setInterval(r,50);function r(){clearTimeout(n),clearInterval(o),t()}}}function wi(t){let e=1;const n=new kn(t),o=document.createTextNode("");return n.observe(o,{characterData:!0}),function(){e=-e,o.data=e}}const Ni=typeof kn=="function"?wi:Mn;class Ri{enqueueTask(e){const{queue:n,requestFlush:o}=this;n.length||(o(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let o=0,r=e.length-this.index;o<r;o++)e[o]=e[o+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Ni(this.flush),this.requestErrorThrow=Mn(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Pi{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class _i{create(e){const n=this.freeTasks,o=n.length?n.pop():new Pi(this.onError,r=>n[n.length]=r);return o.task=e,o}constructor(e){this.onError=e,this.freeTasks=[]}}const jn=new Ri,ki=new _i(jn.registerPendingError);function Mi(t){jn.enqueueTask(ki.create(t))}const jt="dnd-core/ADD_SOURCE",$t="dnd-core/ADD_TARGET",Lt="dnd-core/REMOVE_SOURCE",ot="dnd-core/REMOVE_TARGET";function ji(t){return{type:jt,payload:{sourceId:t}}}function $i(t){return{type:$t,payload:{targetId:t}}}function Li(t){return{type:Lt,payload:{sourceId:t}}}function Ai(t){return{type:ot,payload:{targetId:t}}}function Fi(t){E(typeof t.canDrag=="function","Expected canDrag to be a function."),E(typeof t.beginDrag=="function","Expected beginDrag to be a function."),E(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Hi(t){E(typeof t.canDrop=="function","Expected canDrop to be a function."),E(typeof t.hover=="function","Expected hover to be a function."),E(typeof t.drop=="function","Expected beginDrag to be a function.")}function mt(t,e){if(e&&Array.isArray(t)){t.forEach(n=>mt(n,!1));return}E(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ie;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ie||(ie={}));let Ui=0;function Vi(){return Ui++}function Bi(t){const e=Vi().toString();switch(t){case ie.SOURCE:return`S${e}`;case ie.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function nn(t){switch(t[0]){case"S":return ie.SOURCE;case"T":return ie.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function rn(t,e){const n=t.entries();let o=!1;do{const{done:r,value:[,i]}=n.next();if(i===e)return!0;o=!!r}while(!o);return!1}class zi{addSource(e,n){mt(e),Fi(n);const o=this.addHandler(ie.SOURCE,e,n);return this.store.dispatch(ji(o)),o}addTarget(e,n){mt(e,!0),Hi(n);const o=this.addHandler(ie.TARGET,e,n);return this.store.dispatch($i(o)),o}containsHandler(e){return rn(this.dragSources,e)||rn(this.dropTargets,e)}getSource(e,n=!1){return E(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return E(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return nn(e)===ie.SOURCE}isTargetId(e){return nn(e)===ie.TARGET}removeSource(e){E(this.getSource(e),"Expected an existing source."),this.store.dispatch(Li(e)),Mi(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){E(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Ai(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);E(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){E(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,o){const r=Bi(e);return this.types.set(r,n),e===ie.SOURCE?this.dragSources.set(r,o):e===ie.TARGET&&this.dropTargets.set(r,o),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const qi=(t,e)=>t===e;function Gi(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Wi(t,e,n=qi){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!n(t[o],e[o]))return!1;return!0}function Ki(t=qe,e){switch(e.type){case tt:break;case jt:case $t:case ot:case Lt:return qe;case et:case kt:case rt:case nt:default:return Mt}const{targetIds:n=[],prevTargetIds:o=[]}=e.payload,r=Qo(n,o);if(!(r.length>0||!Wi(n,o)))return qe;const s=o[o.length-1],u=n[n.length-1];return s!==u&&(s&&r.push(s),u&&r.push(u)),r}function Yi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Yi(t,r,n[r])})}return t}const on={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ji(t=on,e){const{payload:n}=e;switch(e.type){case _t:case et:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case tt:return Gi(t.clientOffset,n.clientOffset)?t:Xi({},t,{clientOffset:n.clientOffset});case rt:case nt:return on;default:return t}}function Qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Qi(t,r,n[r])})}return t}const Zi={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function es(t=Zi,e){const{payload:n}=e;switch(e.type){case et:return _e({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case kt:return _e({},t,{isSourcePublic:!0});case tt:return _e({},t,{targetIds:n.targetIds});case ot:return t.targetIds.indexOf(n.targetId)===-1?t:_e({},t,{targetIds:Jo(t.targetIds,n.targetId)});case nt:return _e({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case rt:return _e({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function ts(t=0,e){switch(e.type){case jt:case $t:return t+1;case Lt:case ot:return t-1;default:return t}}function ns(t=0){return t+1}function rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){rs(t,r,n[r])})}return t}function is(t={},e){return{dirtyHandlerIds:Ki(t.dirtyHandlerIds,{type:e.type,payload:os({},e.payload,{prevTargetIds:Xo(t,"dragOperation.targetIds",[])})}),dragOffset:Ji(t.dragOffset,e),refCount:ts(t.refCount,e),dragOperation:es(t.dragOperation,e),stateId:ns(t.stateId)}}function ss(t,e=void 0,n={},o=!1){const r=as(o),i=new Ii(r,new zi(r)),s=new Si(r,i),u=t(s,e,n);return s.receiveBackend(u),s}function as(t){const e=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Rn(is,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function cs(t,e){if(t==null)return{};var n=us(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,o)||(n[o]=t[o]))}return n}function us(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}let sn=0;const Qe=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ls=p.exports.memo(function(e){var{children:n}=e,o=cs(e,["children"]);const[r,i]=ds(o);return p.exports.useEffect(()=>{if(i){const s=$n();return++sn,()=>{--sn===0&&(s[Qe]=null)}}},[]),A(Nn.Provider,{value:r,children:n})});function ds(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=fs(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function fs(t,e=$n(),n,o){const r=e;return r[Qe]||(r[Qe]={dragDropManager:ss(t,e,n,o)}),r[Qe]}function $n(){return typeof global!="undefined"?global:window}var ps=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,r,i;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(r=o;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(n).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=o;r--!==0;){var s=i[r];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};const Ce=typeof window!="undefined"?p.exports.useLayoutEffect:p.exports.useEffect;function hs(t,e,n){const[o,r]=p.exports.useState(()=>e(t)),i=p.exports.useCallback(()=>{const s=e(t);ps(o,s)||(r(s),n&&n())},[o,t,n]);return Ce(i),[o,i]}function gs(t,e,n){const[o,r]=hs(t,e,n);return Ce(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(r,{handlerIds:[s]})},[t,r]),o}function Ln(t,e,n){return gs(e,t||(()=>({})),()=>n.reconnect())}function An(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),p.exports.useMemo(()=>typeof t=="function"?t():t,n)}function ms(t){return p.exports.useMemo(()=>t.hooks.dragSource(),[t])}function bs(t){return p.exports.useMemo(()=>t.hooks.dragPreview(),[t])}let ut=!1,lt=!1;class vs{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){E(!ut,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ut=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ut=!1}}isDragging(){if(!this.sourceId)return!1;E(!lt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return lt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{lt=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let dt=!1;class ys{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;E(!dt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return dt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{dt=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function xs(t,e,n){const o=n.getRegistry(),r=o.addTarget(t,e);return[r,()=>o.removeTarget(r)]}function Ds(t,e,n){const o=n.getRegistry(),r=o.addSource(t,e);return[r,()=>o.removeSource(r)]}function bt(t,e,n,o){let r=n?n.call(o,t,e):void 0;if(r!==void 0)return!!r;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;const u=Object.prototype.hasOwnProperty.bind(e);for(let d=0;d<i.length;d++){const f=i[d];if(!u(f))return!1;const m=t[f],x=e[f];if(r=n?n.call(o,m,x,f):void 0,r===!1||r===void 0&&m!==x)return!1}return!0}function vt(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ss(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Es(t){return(e=null,n=null)=>{if(!p.exports.isValidElement(e)){const i=e;return t(i,n),i}const o=e;return Ss(o),Ts(o,n?i=>t(i,n):t)}}function Fn(t){const e={};return Object.keys(t).forEach(n=>{const o=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const r=Es(o);e[n]=()=>r}}),e}function an(t,e){typeof t=="function"?t(e):t.current=e}function Ts(t,e){const n=t.ref;return E(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?p.exports.cloneElement(t,{ref:o=>{an(n,o),an(e,o)}}):p.exports.cloneElement(t,{ref:e})}class Cs{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,o=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!bt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!bt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Fn({dragSource:(n,o)=>{this.clearDragSource(),this.dragSourceOptions=o||null,vt(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,o)=>{this.clearDragPreview(),this.dragPreviewOptions=o||null,vt(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Os{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(!!this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!bt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Fn({dropTarget:(n,o)=>{this.clearDropTarget(),this.dropTargetOptions=o,vt(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function je(){const{dragDropManager:t}=p.exports.useContext(Nn);return E(t!=null,"Expected drag drop context"),t}function Is(t,e){const n=je(),o=p.exports.useMemo(()=>new Cs(n.getBackend()),[n]);return Ce(()=>(o.dragSourceOptions=t||null,o.reconnect(),()=>o.disconnectDragSource()),[o,t]),Ce(()=>(o.dragPreviewOptions=e||null,o.reconnect(),()=>o.disconnectDragPreview()),[o,e]),o}function ws(){const t=je();return p.exports.useMemo(()=>new vs(t),[t])}class Ns{beginDrag(){const e=this.spec,n=this.monitor;let o=null;return typeof e.item=="object"?o=e.item:typeof e.item=="function"?o=e.item(n):o={},o!=null?o:null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const o=this.spec,r=this.monitor,{isDragging:i}=o;return i?i(r):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,o=this.connector,{end:r}=e;r&&r(n.getItem(),n),o.reconnect()}constructor(e,n,o){this.spec=e,this.monitor=n,this.connector=o}}function Rs(t,e,n){const o=p.exports.useMemo(()=>new Ns(t,e,n),[e,n]);return p.exports.useEffect(()=>{o.spec=t},[t]),o}function Ps(t){return p.exports.useMemo(()=>{const e=t.type;return E(e!=null,"spec.type must be defined"),e},[t])}function _s(t,e,n){const o=je(),r=Rs(t,e,n),i=Ps(t);Ce(function(){if(i!=null){const[u,d]=Ds(i,r,o);return e.receiveHandlerId(u),n.receiveHandlerId(u),d}},[o,e,n,r,i])}function ks(t,e){const n=An(t,e);E(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const o=ws(),r=Is(n.options,n.previewOptions);return _s(n,o,r),[Ln(n.collect,o,r),ms(r),bs(r)]}function Ms(t){return p.exports.useMemo(()=>t.hooks.dropTarget(),[t])}function js(t){const e=je(),n=p.exports.useMemo(()=>new Os(e.getBackend()),[e]);return Ce(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function $s(){const t=je();return p.exports.useMemo(()=>new ys(t),[t])}function Ls(t){const{accept:e}=t;return p.exports.useMemo(()=>(E(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class As{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function Fs(t,e){const n=p.exports.useMemo(()=>new As(t,e),[e]);return p.exports.useEffect(()=>{n.spec=t},[t]),n}function Hs(t,e,n){const o=je(),r=Fs(t,e),i=Ls(t);Ce(function(){const[u,d]=xs(i,r,o);return e.receiveHandlerId(u),n.receiveHandlerId(u),d},[o,e,r,n,i.map(s=>s.toString()).join("|")])}function cn(t,e){const n=An(t,e),o=$s(),r=js(n.options);return Hs(n,o,r),[Ln(n.collect,o,r),Ms(r)]}function Hn(t){let e=null;return()=>(e==null&&(e=t()),e)}function Us(t,e){return t.filter(n=>n!==e)}function Vs(t,e){const n=new Set,o=i=>n.add(i);t.forEach(o),e.forEach(o);const r=[];return n.forEach(i=>r.push(i)),r}class Bs{enter(e){const n=this.entered.length,o=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(e));return this.entered=Vs(this.entered.filter(o),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=Us(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class zs{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(o=>{const r=this.config.exposeProperties[o];r!=null&&(n[o]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Un="__NATIVE_FILE__",Vn="__NATIVE_URL__",Bn="__NATIVE_TEXT__",zn="__NATIVE_HTML__";var un=Object.freeze(Object.defineProperty({__proto__:null,FILE:Un,URL:Vn,TEXT:Bn,HTML:zn},Symbol.toStringTag,{value:"Module"}));function ft(t,e,n){const o=e.reduce((r,i)=>r||t.getData(i),"");return o!=null?o:n}const yt={[Un]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[zn]:{exposeProperties:{html:(t,e)=>ft(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Vn]:{exposeProperties:{urls:(t,e)=>ft(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Bn]:{exposeProperties:{text:(t,e)=>ft(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function qs(t,e){const n=yt[t];if(!n)throw new Error(`native type ${t} has no configuration`);const o=new zs(n);return o.loadDataTransfer(e),o}function pt(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(yt).filter(n=>{const o=yt[n];return o!=null&&o.matchesTypes?o.matchesTypes.some(r=>e.indexOf(r)>-1):!1})[0]||null}const Gs=Hn(()=>/firefox/i.test(navigator.userAgent)),qn=Hn(()=>Boolean(window.safari));class ln{interpolate(e){const{xs:n,ys:o,c1s:r,c2s:i,c3s:s}=this;let u=n.length-1;if(e===n[u])return o[u];let d=0,f=s.length-1,m;for(;d<=f;){m=Math.floor(.5*(d+f));const h=n[m];if(h<e)d=m+1;else if(h>e)f=m-1;else return o[m]}u=Math.max(0,f);const x=e-n[u],y=x*x;return o[u]+r[u]*x+i[u]*y+s[u]*x*y}constructor(e,n){const{length:o}=e,r=[];for(let h=0;h<o;h++)r.push(h);r.sort((h,T)=>e[h]<e[T]?-1:1);const i=[],s=[];let u,d;for(let h=0;h<o-1;h++)u=e[h+1]-e[h],d=n[h+1]-n[h],i.push(u),s.push(d/u);const f=[s[0]];for(let h=0;h<i.length-1;h++){const T=s[h],b=s[h+1];if(T*b<=0)f.push(0);else{u=i[h];const v=i[h+1],N=u+v;f.push(3*N/((N+v)/T+(N+u)/b))}}f.push(s[s.length-1]);const m=[],x=[];let y;for(let h=0;h<f.length-1;h++){y=s[h];const T=f[h],b=1/i[h],v=T+f[h+1]-y-y;m.push((y-T-v)*b),x.push(v*b*b)}this.xs=e,this.ys=n,this.c1s=f,this.c2s=m,this.c3s=x}}const Ws=1;function Gn(t){const e=t.nodeType===Ws?t:t.parentElement;if(!e)return null;const{top:n,left:o}=e.getBoundingClientRect();return{x:o,y:n}}function Je(t){return{x:t.clientX,y:t.clientY}}function Ks(t){var e;return t.nodeName==="IMG"&&(Gs()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Ys(t,e,n,o){let r=t?e.width:n,i=t?e.height:o;return qn()&&t&&(i/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:i}}function Xs(t,e,n,o,r){const i=Ks(e),u=Gn(i?t:e),d={x:n.x-u.x,y:n.y-u.y},{offsetWidth:f,offsetHeight:m}=t,{anchorX:x,anchorY:y}=o,{dragPreviewWidth:h,dragPreviewHeight:T}=Ys(i,e,f,m),b=()=>{let H=new ln([0,.5,1],[d.y,d.y/m*T,d.y+T-m]).interpolate(y);return qn()&&i&&(H+=(window.devicePixelRatio-1)*T),H},v=()=>new ln([0,.5,1],[d.x,d.x/f*h,d.x+h-f]).interpolate(x),{offsetX:N,offsetY:P}=r,S=N===0||N,q=P===0||P;return{x:S?N:v(),y:q?P:b()}}class Js{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function Qs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Qs(t,r,n[r])})}return t}class Zs{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,o){return this.sourcePreviewNodeOptions.set(e,o),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,o){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,o);const r=s=>this.handleDragStart(s,e),i=s=>this.handleSelectStart(s);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",r),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",r),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const o=s=>this.handleDragEnter(s,e),r=s=>this.handleDragOver(s,e),i=s=>this.handleDrop(s,e);return n.addEventListener("dragenter",o),n.addEventListener("dragover",r),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",o),n.removeEventListener("dragover",r),n.removeEventListener("drop",i)}}addEventListeners(e){!e.addEventListener||(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){!e.removeEventListener||(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return dn({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return dn({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(un).some(n=>un[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=qs(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var o;return(o=this.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,o){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{const i=this.sourceNodes.get(r);return i&&Gn(i)||null},this.endDragNativeItem=()=>{!this.isDraggingNativeItem()||(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>Boolean(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{const r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=Je(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:u}=r,d=pt(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const m=this.monitor.getSourceId(),x=this.sourceNodes.get(m),y=this.sourcePreviewNodes.get(m)||x;if(y){const{anchorX:h,anchorY:T,offsetX:b,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),S=Xs(x,y,s,{anchorX:h,anchorY:T},{offsetX:b,offsetY:v});u.setDragImage(y,S.x,S.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(r.target);const{captureDraggingState:f}=this.getCurrentSourcePreviewNodeOptions();f?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(u&&!u.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;const{dataTransfer:u}=r,d=pt(u);d&&this.beginDragNativeItem(d,u)},this.handleTopDragEnter=r=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Je(r)}),i.some(u=>this.monitor.canDropOnTarget(u))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=Je(r),this.scheduleHover(i),(i||[]).some(u=>this.monitor.canDropOnTarget(u))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;r.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}else pt(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Je(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{const i=r.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(r.preventDefault(),i.dragDrop()))},this.options=new Js(n,o),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Bs(this.isNodeInDocument)}}const ea=function(e,n,o){return new Zs(e,n,o)};var $="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\nodetree\\App.tsx";class ta extends p.exports.Component{constructor(e){super(e),this.state={snackbar_open:!1,status:!1}}render(){return j.exports.jsxDEV(p.exports.Fragment,{children:j.exports.jsxDEV(Tr,{title:"\u4FDD\u5B58",children:j.exports.jsxDEV($r,{size:"small",onClick:()=>this.props.save_func(),children:j.exports.jsxDEV(Lr,{fontSize:"small",color:"primary"},void 0,!1,{fileName:$,lineNumber:49,columnNumber:21},this)},void 0,!1,{fileName:$,lineNumber:48,columnNumber:37},this)},void 0,!1,{fileName:$,lineNumber:48,columnNumber:13},this)},void 0,!1,{fileName:$,lineNumber:47,columnNumber:16},this)}}function Wn(t,e){return e.secret?!0:e.father_id>0?Wn(t,t.id2node(e.father_id)):!1}class na extends p.exports.Component{constructor(n){super(n);Ue(this,"raw_nodetree");this.state={nodetree:new It([]),expanded:[]}}async componentDidMount(){let n=[];Ve.shallow?n=await st.get.shallowtree(Ve.node_id):n=await st.get.nodetree(Ve.node_id),this.setState({nodetree:this.state.nodetree.update_rawinfo(n,Ve.node_id),expanded:Object.values(n).map(o=>o[1])}),this.raw_nodetree=n}move_node(n,o,r){let i=this.state.nodetree.deepcopy(),s=n.idx_in_father,u=i.id2node(n.father_id);o=i.id2node(o.my_id),n=i.id2node(n.my_id),u.my_id==o.my_id&&s<r&&r--;let d=u.sons;u.sons=[...d.slice(0,s),...d.slice(s+1,d.length)];let f=o.sons;o.sons=[...f.slice(0,r),n,...f.slice(r,f.length)],n.father_id=o.my_id,this.setState({nodetree:i})}DroppableSpace(n){let o=this,r=n.node,i=n.expect_idx,s=this.state.nodetree;const[{is_over_can_drop:u},d]=cn(()=>({accept:"treeitem",drop:(f,m)=>{!m.isOver({shallow:!0})||o.move_node(f,r,i)},collect:f=>({is_over_can_drop:f.isOver({shallow:!0})&&f.canDrop()}),canDrop:f=>r.my_id!=f.my_id&&!s.is_son(f.my_id,r.my_id)}));return j.exports.jsxDEV(Ne,{ref:d,sx:{border:u?"1px dashed grey":"0",height:"6px"}},void 0,!1,{fileName:$,lineNumber:173,columnNumber:16},this)}DragableTreeItem(n){let o=this,r=n.node,i=r.my_id,s=r.father_id,u=n.idx_in_father,d=this.state.nodetree,f=this.DroppableSpace.bind(this),m=Wn(this.state.nodetree,r);const[{is_dragging:x},y]=ks(()=>({type:"treeitem",item:{...r,idx_in_father:u},collect:v=>({is_dragging:v.isDragging()})})),[{is_over:h,can_drop:T},b]=cn(()=>({accept:"treeitem",drop:(v,N)=>{!N.isOver({shallow:!0})||v.my_id!=r.my_id&&o.move_node(v,r,r.sons.length)},collect:v=>({is_over:v.isOver({shallow:!0}),can_drop:v.canDrop()}),canDrop:v=>r.my_id==v.my_id||!d.is_son(v.my_id,r.my_id)}));return j.exports.jsxDEV(Ne,{ref:b,sx:{border:h&&T?"1px dashed grey":"0"},children:[j.exports.jsxDEV(f,{node:d.id2node(s),expect_idx:u},void 0,!1,{fileName:$,lineNumber:233,columnNumber:13},this),j.exports.jsxDEV(Mo,{label:j.exports.jsxDEV(Ne,{color:m?"text.secondary":"text.primary",children:j.exports.jsxDEV(Dr,{force_direction:"row",children:[j.exports.jsxDEV(Rr,{sx:{marginY:"auto"},children:["[",i,"] ",j.exports.jsxDEV(Sr,{node_id:i},void 0,!1,{fileName:$,lineNumber:239,columnNumber:70},this)]},void 0,!0,{fileName:$,lineNumber:239,columnNumber:25},this),j.exports.jsxDEV(oo,{onClick:v=>{v.stopPropagation()},defaultChecked:r.secret,onChange:v=>{let N=this.state.nodetree.deepcopy();N.id2node(i).secret=v.target.checked,this.setState({nodetree:N})}},void 0,!1,{fileName:$,lineNumber:240,columnNumber:25},this),j.exports.jsxDEV(Pr,{href:Er(`/edit/content/${i}`),children:"\u7F16\u8F91"},void 0,!1,{fileName:$,lineNumber:249,columnNumber:25},this)]},void 0,!0,{fileName:$,lineNumber:238,columnNumber:22},this)},void 0,!1,{fileName:$,lineNumber:236,columnNumber:21},this),nodeId:`${i}`,ref:y,onFocusCapture:v=>v.stopPropagation(),sx:{cursor:"move",opacity:x?.5:1},children:[n.children,j.exports.jsxDEV(f,{node:r,expect_idx:r.sons.length},void 0,!1,{fileName:$,lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:$,lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:$,lineNumber:227,columnNumber:16},this)}get_subtree(n){let o=this,r=this.DragableTreeItem.bind(this);return j.exports.jsxDEV(j.exports.Fragment,{children:Object.values(n.sons).map((i,s)=>j.exports.jsxDEV(r,{node:i,idx_in_father:s,children:o.get_subtree(i)},`${s}`,!1,{fileName:$,lineNumber:276,columnNumber:20},this))},void 0,!1)}async save_nodetree(){let o=this.raw_nodetree.reduce((d,f)=>{let[m,x,y,h]=f;return d[m]=[x,y,h],d},{}),r=this.state.nodetree.get_raw(),i=[];for(let[d,f,m,x]of r){let y=[f,m,x];JSON.stringify(y)!=JSON.stringify(o[d])&&i.push([d,f,m,x])}console.log(i.length);let s=!0,u=50;for(let d=0;d<i.length;d+=u)s=s&&await st.post.nodetree({nodetree:i.slice(d,d+u)},Ve.node_id),console.log(`${d} / ${i.length}`),console.log(s);return s}render(){let n=this,o=this.state.nodetree;return j.exports.jsxDEV(Ne,{sx:{position:"absolute",top:"2%",left:"2%",height:"96%",width:"96%",display:"flex"},children:[j.exports.jsxDEV(Ne,{sx:{marginRight:"1%"},children:j.exports.jsxDEV(ta,{save_func:n.save_nodetree.bind(n)},void 0,!1,{fileName:$,lineNumber:329,columnNumber:5},this)},void 0,!1,{fileName:$,lineNumber:326,columnNumber:13},this),j.exports.jsxDEV(Ne,{sx:{position:"relative",width:"100%",flex:1},children:[j.exports.jsxDEV(Vt,{},void 0,!1,{fileName:$,lineNumber:337,columnNumber:17},this),j.exports.jsxDEV(ls,{backend:ea,children:j.exports.jsxDEV(Vo,{expanded:Object.values(n.state.expanded).map(r=>`${r}`),onNodeToggle:(r,i)=>{n.setState({expanded:i})},defaultCollapseIcon:j.exports.jsxDEV(uo,{},void 0,!1,{fileName:$,lineNumber:341,columnNumber:44},this),defaultExpandIcon:j.exports.jsxDEV(co,{},void 0,!1,{fileName:$,lineNumber:342,columnNumber:42},this),children:n.get_subtree(o.get_root())},void 0,!1,{fileName:$,lineNumber:338,columnNumber:53},this)},void 0,!1,{fileName:$,lineNumber:338,columnNumber:17},this),j.exports.jsxDEV(Vt,{},void 0,!1,{fileName:$,lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:$,lineNumber:332,columnNumber:13},this)]},void 0,!0,{fileName:$,lineNumber:318,columnNumber:16},this)}}var ra="E:\\Coding\\Projects\\YBlog\\yblog_frontend\\templates\\articlezone\\nodetree\\main.tsx";Be.render(j.exports.jsxDEV(na,{},void 0,!1,{fileName:ra,lineNumber:6,columnNumber:2},globalThis),document.getElementById("root"));
