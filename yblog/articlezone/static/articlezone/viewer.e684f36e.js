var Ve=Object.defineProperty;var Ne=(t,e,r)=>e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>(Ne(t,typeof e!="symbol"?e+"":e,r),r);import{r as y,j as o,b as m,a as u,B as h,I as x,T as k,A as X,F as b,f as Ee,a7 as K,Q as Z,a6 as ee,d as me,S as T,u as M,ai as ye,P as We,i as He,m as te,h as Ue,M as je,G as Ye,Y as Xe,k as Ke,R as Je}from"./theme.c5dff8ee.js";import{T as qe,C as Ge}from"./overlayscrollbars.8180b654.js";import{P as Qe,I as Ze,k as Fe,F as Ie,p as et,f as tt,a as ot,d as rt}from"./index.35167f90.js";import{g as he,a as fe,s as V,h as v,_,u as ne,b as ae,e as N,f as ge,w as L,c as it,i as Ce,T as $,A as nt,D as ke,C as de,U as at,R as lt,V as st,W as ct,B as c,L as j,j as dt}from"./Link.48e398e7.js";import{B as ue,I as ut}from"./useFormControl.7cefcdd9.js";import{c as P}from"./createSvgIcon.1f2d0c35.js";import{T as ie,B as Y,C as pt,P as mt}from"./TextField.924cbf8e.js";import"./Divider.f2e090f2.js";function ht(t){return he("MuiAppBar",t)}fe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const ft=["className","color","enableColorOnDark","position"],gt=t=>{const{color:e,position:r,classes:i}=t,n={root:["root",`color${v(e)}`,`position${v(r)}`]};return ge(n,ht,i)},oe=(t,e)=>`${t==null?void 0:t.replace(")","")}, ${e})`,vt=V(Qe,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${v(r.position)}`],e[`color${v(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return _({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&_({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&_({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&_({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:oe(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:oe(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:oe(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:oe(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),xt=y.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiAppBar"}),{className:n,color:l="primary",enableColorOnDark:a=!1,position:s="fixed"}=i,d=ae(i,ft),p=_({},i,{color:l,position:s,enableColorOnDark:a}),f=gt(p);return o(vt,_({square:!0,component:"header",ownerState:p,elevation:4,className:N(f.root,n,s==="fixed"&&"mui-fixed"),ref:r},d))});var _t=xt,bt=P(o("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function yt(t){return he("MuiChip",t)}const Ct=fe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]);var g=Ct;const kt=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],Bt=t=>{const{classes:e,disabled:r,size:i,color:n,iconColor:l,onDelete:a,clickable:s,variant:d}=t,p={root:["root",d,r&&"disabled",`size${v(i)}`,`color${v(n)}`,s&&"clickable",s&&`clickableColor${v(n)}`,a&&"deletable",a&&`deletableColor${v(n)}`,`${d}${v(n)}`],label:["label",`label${v(i)}`],avatar:["avatar",`avatar${v(i)}`,`avatarColor${v(n)}`],icon:["icon",`icon${v(i)}`,`iconColor${v(l)}`],deleteIcon:["deleteIcon",`deleteIcon${v(i)}`,`deleteIconColor${v(n)}`,`deleteIcon${v(d)}Color${v(n)}`]};return ge(p,yt,e)},wt=V("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:i,iconColor:n,clickable:l,onDelete:a,size:s,variant:d}=r;return[{[`& .${g.avatar}`]:e.avatar},{[`& .${g.avatar}`]:e[`avatar${v(s)}`]},{[`& .${g.avatar}`]:e[`avatarColor${v(i)}`]},{[`& .${g.icon}`]:e.icon},{[`& .${g.icon}`]:e[`icon${v(s)}`]},{[`& .${g.icon}`]:e[`iconColor${v(n)}`]},{[`& .${g.deleteIcon}`]:e.deleteIcon},{[`& .${g.deleteIcon}`]:e[`deleteIcon${v(s)}`]},{[`& .${g.deleteIcon}`]:e[`deleteIconColor${v(i)}`]},{[`& .${g.deleteIcon}`]:e[`deleteIcon${v(d)}Color${v(i)}`]},e.root,e[`size${v(s)}`],e[`color${v(i)}`],l&&e.clickable,l&&i!=="default"&&e[`clickableColor${v(i)})`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${v(i)}`],e[d],e[`${d}${v(i)}`]]}})(({theme:t,ownerState:e})=>{const r=L(t.palette.text.primary,.26),i=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return _({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${g.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${g.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${g.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${g.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${g.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${g.icon}`]:_({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&_({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},e.color!=="default"&&{color:"inherit"})),[`& .${g.deleteIcon}`]:_({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:L(r,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:L(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${g.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:L(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${g.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>_({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.hoverOpacity}))`:L(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${g.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:L(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${g.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>_({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${g.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${g.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${g.avatar}`]:{marginLeft:4},[`& .${g.avatarSmall}`]:{marginLeft:2},[`& .${g.icon}`]:{marginLeft:4},[`& .${g.iconSmall}`]:{marginLeft:2},[`& .${g.deleteIcon}`]:{marginRight:5},[`& .${g.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:L(t.palette[e.color].main,.7)}`,[`&.${g.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:L(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${g.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:L(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${g.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:L(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),$t=V("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:i}=r;return[e.label,e[`label${v(i)}`]]}})(({ownerState:t})=>_({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.size==="small"&&{paddingLeft:8,paddingRight:8}));function Be(t){return t.key==="Backspace"||t.key==="Delete"}const At=y.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiChip"}),{avatar:n,className:l,clickable:a,color:s="default",component:d,deleteIcon:p,disabled:f=!1,icon:B,label:z,onClick:F,onDelete:A,onKeyDown:D,onKeyUp:R,size:C="medium",variant:O="filled"}=i,W=ae(i,kt),E=y.exports.useRef(null),J=it(E,r),q=w=>{w.stopPropagation(),A&&A(w)},Le=w=>{w.currentTarget===w.target&&Be(w)&&w.preventDefault(),D&&D(w)},Me=w=>{w.currentTarget===w.target&&(A&&Be(w)?A(w):w.key==="Escape"&&E.current&&E.current.blur()),R&&R(w)},le=a!==!1&&F?!0:a,se=le||A?ue:d||"div",ce=_({},i,{component:se,disabled:f,size:C,color:s,iconColor:y.exports.isValidElement(B)&&B.props.color||s,onDelete:!!A,clickable:le,variant:O}),H=Bt(ce),Pe=se===ue?_({component:d||"div",focusVisibleClassName:H.focusVisible},A&&{disableRipple:!0}):{};let xe=null;A&&(xe=p&&y.exports.isValidElement(p)?y.exports.cloneElement(p,{className:N(p.props.className,H.deleteIcon),onClick:q}):o(bt,{className:N(H.deleteIcon),onClick:q}));let _e=null;n&&y.exports.isValidElement(n)&&(_e=y.exports.cloneElement(n,{className:N(H.avatar,n.props.className)}));let be=null;return B&&y.exports.isValidElement(B)&&(be=y.exports.cloneElement(B,{className:N(H.icon,B.props.className)})),m(wt,_({as:se,className:N(H.root,l),disabled:le&&f?!0:void 0,onClick:F,onKeyDown:Le,onKeyUp:Me,ref:J,ownerState:ce},Pe,W,{children:[_e||be,o($t,{className:N(H.label),ownerState:ce,children:z}),xe]}))});var I=At,Et=P(o("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");const Ft=V(ue)(({theme:t})=>_({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":_({},t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":_({boxShadow:t.shadows[0]},t.palette.mode==="light"?{backgroundColor:Ce(t.palette.grey[200],.12)}:{backgroundColor:Ce(t.palette.grey[600],.12)})})),It=V(Et)({width:24,height:16});function St(t){const e=t;return o("li",{children:o(Ft,_({focusRipple:!0},t,{ownerState:e,children:o(It,{ownerState:e})}))})}function Tt(t){return he("MuiBreadcrumbs",t)}const zt=fe("MuiBreadcrumbs",["root","ol","li","separator"]);var Dt=zt;const Rt=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],Ot=t=>{const{classes:e}=t;return ge({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Tt,e)},Lt=V($,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${Dt.li}`]:e.li},e.root]})({}),Mt=V("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Pt=V("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Vt(t,e,r,i){return t.reduce((n,l,a)=>(a<t.length-1?n=n.concat(l,o(Pt,{"aria-hidden":!0,className:e,ownerState:i,children:r},`separator-${a}`)):n.push(l),n),[])}const Nt=y.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiBreadcrumbs"}),{children:n,className:l,component:a="nav",expandText:s="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:p=1,maxItems:f=8,separator:B="/"}=i,z=ae(i,Rt),[F,A]=y.exports.useState(!1),D=_({},i,{component:a,expanded:F,expandText:s,itemsAfterCollapse:d,itemsBeforeCollapse:p,maxItems:f,separator:B}),R=Ot(D),C=y.exports.useRef(null),O=E=>{const J=()=>{A(!0);const q=C.current.querySelector("a[href],button,[tabindex]");q&&q.focus()};return p+d>=E.length?E:[...E.slice(0,p),o(St,{"aria-label":s,onClick:J},"ellipsis"),...E.slice(E.length-d,E.length)]},W=y.exports.Children.toArray(n).filter(E=>y.exports.isValidElement(E)).map((E,J)=>o("li",{className:R.li,children:E},`child-${J}`));return o(Lt,_({ref:r,component:a,color:"text.secondary",className:N(R.root,l),ownerState:D},z,{children:o(Mt,{className:R.ol,ref:C,ownerState:D,children:Vt(F||f&&W.length<=f?W:O(W),R.separator,B,D)})}))});var Wt=Nt;const Ht=["component","direction","spacing","divider","children"];function Ut(t,e){const r=y.exports.Children.toArray(t).filter(Boolean);return r.reduce((i,n,l)=>(i.push(n),l<r.length-1&&i.push(y.exports.cloneElement(e,{key:`separator-${l}`})),i),[])}const jt=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Yt=({ownerState:t,theme:e})=>{let r=_({display:"flex",flexDirection:"column"},ke({theme:e},de({values:t.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i})));if(t.spacing){const i=at(e),n=Object.keys(e.breakpoints.values).reduce((d,p)=>((typeof t.spacing=="object"&&t.spacing[p]!=null||typeof t.direction=="object"&&t.direction[p]!=null)&&(d[p]=!0),d),{}),l=de({values:t.direction,base:n}),a=de({values:t.spacing,base:n});typeof l=="object"&&Object.keys(l).forEach((d,p,f)=>{if(!l[d]){const z=p>0?l[f[p-1]]:"column";l[d]=z}}),r=lt(r,ke({theme:e},a,(d,p)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${jt(p?l[p]:t.direction)}`]:ct(i,d)}})))}return r=st(e.breakpoints,r),r},Xt=V("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Yt),Kt=y.exports.forwardRef(function(e,r){const i=ne({props:e,name:"MuiStack"}),n=nt(i),{component:l="div",direction:a="column",spacing:s=0,divider:d,children:p}=n,f=ae(n,Ht);return o(Xt,_({as:l,ownerState:{direction:a,spacing:s},ref:r},f,{children:d?Ut(p,d):p}))});var Jt=Kt,qt=P([o("circle",{cx:"18",cy:"4.54",r:"2"},"0"),o("path",{d:"M15 17h-2c0 1.65-1.35 3-3 3s-3-1.35-3-3 1.35-3 3-3v-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5zm3-3.5h-1.86l1.67-3.67C18.42 8.5 17.44 7 15.96 7h-5.2c-.81 0-1.54.47-1.87 1.2L8.22 10l1.92.53.65-1.53H13l-1.83 4.1c-.6 1.33.39 2.9 1.85 2.9H18v5h2v-5.5c0-1.1-.9-2-2-2z"},"1")],"AccessibleForwardOutlined"),Gt=P(o("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Qt=P(o("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),Zt=P(o("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),eo=P(o("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}),"DescriptionOutlined"),to=P(o("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined"),oo=P(o("path",{d:"M15 4v7H5.17L4 12.17V4h11m1-2H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm5 4h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1z"}),"ForumOutlined"),ro=P(o("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");class io extends u.Component{constructor(e){super(e),this.state={father_id:h.node_id,son_ids:[],indis_ids:[]}}async set_father_id(e){let r=await x.get.son_ids(e),i=await x.get.indiscriminates(e);this.setState({father_id:e,son_ids:r,indis_ids:i})}async componentDidMount(){if((await x.get.son_ids(h.node_id)).length==0){let r=await x.get.father_id(h.node_id);this.set_father_id(r)}else this.set_father_id(h.node_id)}WordsWithButton(e){let r=e.icon,i="80%";e.weak&&e.indis&&(i="75%");let n=u.useContext(k);return m(c,{sx:{marginTop:"0.5rem"},children:[o(c,{sx:{display:"inline-block",width:"1.5rem",verticalAlign:"top"},children:r?o(X,{title:e.title,children:o(ut,{size:"small",onClick:e.onClick,children:o(r,{sx:{fontSize:"0.9rem"}})})}):o(b,{})},"box"),o(c,{sx:{display:"inline-block",left:"1.5rem",width:i},children:o(j,{sx:{fontSize:"0.9rem",textAlign:"left"},underline:"hover",href:e.url,color:"text.primary",children:e.words})},"link"),e.weak?o(c,{sx:{display:"inline-block",right:0,height:"1.2rem",position:"absolute"},children:o(X,{title:"\u4E0D\u8BA9\u770B",children:o(c,{children:o(Ee,{text:"\u9690",fontSize:"small",color:n.mui.palette.info.main})})})},"unseen"):o(b,{})]})}SubnodeItem(e){let r=this,i=e.node_id,[n,l]=u.useState(!0),[a,s]=u.useState(!1),d=this.WordsWithButton.bind(this);return u.useEffect(()=>{(async()=>{let p=await x.get.son_ids(i);l(p.length>0);let f=await x.get.visibility(i);s(!f.secret)})()}),o(u.Fragment,{children:o(K,{children:n?o(d,{words:o(Z,{node_id:i}),title:"\u4E0B\u884C",onClick:()=>r.set_father_id(i),icon:Gt,url:ee.view.content(i),weak:!a,indis:e.indis},"word"):o(d,{words:o(Z,{node_id:i}),url:ee.view.content(i),weak:!a,indis:e.indis},"word")})})}FathernodeItem(e){let r=this,i=e.node_id,n=this.WordsWithButton.bind(this),[l,a]=u.useState(-1),[s,d]=u.useState(!0);return u.useEffect(()=>{(async()=>{let p=await x.get.father_id(i);a(p);let f=await x.get.visibility(i);d(!f.secret)})()}),o(u.Fragment,{children:o(K,{children:l>0?o(n,{words:o(Z,{node_id:i}),title:"\u4E0A\u884C",onClick:()=>r.set_father_id(l),icon:Zt,url:ee.view.content(i),weak:!s}):o(n,{words:o(Z,{node_id:i}),url:ee.view.content(i),weak:!s})})})}render(){let e=this.state.father_id,r=this.state.son_ids;this.state.indis_ids;let i=this.FathernodeItem.bind(this),n=this.SubnodeItem.bind(this);return o(c,{sx:{marginTop:"0.5rem"},children:m(me,{force_direction:"column",children:[o(i,{node_id:e}),o(c,{sx:{marginLeft:"1rem"},children:r.map((l,a)=>o(u.Fragment,{children:o(n,{node_id:l})},a))})]})})}}class no extends u.Component{constructor(e){super(e),this.state={create_time:void 0,modify_time:void 0,TLDR:void 0,vis_secret:void 0,vis_indis:void 0}}async componentDidMount(){let e=await x.get.create_time(h.node_id),r=await x.get.tldr(h.node_id),i=await x.get.visibility(h.node_id);this.setState({create_time:e.create_time,modify_time:e.modify_time,TLDR:r,vis_secret:i.secret,vis_indis:i.indiscriminate_provider})}render(){let e=this;this.props.root.parameters.title.val;let r=i=>{let n=u.useContext(k);return m(c,{sx:{marginBottom:"1rem"},children:[o($,{color:"text.secondary",sx:{marginRight:n.printer.margins.colon,fontSize:"0.8rem",display:"inline-block"},children:i.title}),o($,{sx:{fontSize:"0.8rem",display:"inline-block",whiteSpace:"pre-wrap"},children:i.content})]})};return h.logged_in&&(c,e.state.vis_secret||b,e.state.vis_indis||b),m(c,{children:[o(r,{title:"\u521B\u5EFA\u65F6\u95F4",content:e.state.create_time}),o(r,{title:"\u4FEE\u6539\u65F6\u95F4",content:e.state.modify_time}),e.state.TLDR?o(K,{children:o(r,{title:"\u592A\u957F\u4E0D\u770B",content:e.state.TLDR})}):o(b,{}),h.logged_in?o(r,{title:"\u53EF\u89C1\u6027",content:m(c,{sx:{textAlign:"left"},children:[e.state.vis_secret?o(I,{label:"\u4E0D\u8BA9\u770B",variant:"outlined",color:"info",size:"small"}):o(b,{}),e.state.vis_indis?o(I,{label:"\u6742\u9648",variant:"outlined",color:"info",size:"small"}):o(b,{})]})}):o(b,{})]})}}class ao extends u.Component{constructor(e){super(e)}render(){let e=this.context;return m(c,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:[m(c,{sx:{position:"absolute",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"1%",left:"0",height:"23%",width:"100%"},children:[o(c,{sx:{textAlign:"right"},children:o(I,{label:"\u57FA\u672C\u4FE1\u606F",color:"secondary",size:"small"})}),o(T,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"1rem",right:"0.25rem",overflow:"auto"},children:o(no,{root:this.props.root})})]}),m(c,{sx:{position:"absolute",paddingX:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"27%",bottom:"2%",width:"100%"},children:[o(c,{sx:{textAlign:"right"},children:o(I,{label:"\u6587\u7AE0\u6811",color:"secondary",size:"small"})}),o(T,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"0.5rem",right:"0.25rem",overflow:"auto"},children:o(io,{})})]})]})}}S(ao,"contextType",k);class lo extends u.Component{constructor(e){super(e),this.state={comments:[]}}async update(){let e=await x.get.comments(h.node_id);e=e.reverse(),this.setState({comments:e})}async componentDidMount(){await this.update()}render(){let e=this,r=i=>m(c,{sx:{marginBottom:"1rem",marginX:"0.5rem"},children:[o($,{sx:{marginLeft:"0.5rem",fontSize:"0.9rem"},children:i.content},"typo1"),m($,{sx:{textAlign:"right",marginTop:"0.5rem",fontSize:"0.9rem"},children:["\u2014\u2014 ",i.name?`${i.name}`:"\u4E0D\u77E5\u540D\u7F51\u53CB"]},"typo2")]});return o(c,{children:e.state.comments.map((i,n)=>{let[l,a]=i;return o(r,{name:a,content:l},n)})})}}class so extends u.Component{constructor(e){super(e),this.state={content:"",name:"",snakerbar_open:!1,status:!1}}async submit(){let e=this,r=!1;e.state.content&&(r=await x.post.comments({content:e.state.content,name:e.state.name},h.node_id)),e.setState({status:r,snakerbar_open:!0}),r&&(e.props.onRenew(),e.setState({content:"",name:""}))}render(){let e=this;return m(c,{children:[o(ie,{label:"\u7559\u8A00",placeholder:"\u8BF4\u70B9\u5565",multiline:!0,onChange:r=>{e.setState({content:r.target.value})},variant:"outlined",fullWidth:!0,minRows:4,value:e.state.content}),o(ie,{label:"\u79F0\u547C",placeholder:"\u4F60\u662F\u8C01\uFF1F",onChange:r=>{e.setState({name:r.target.value})},variant:"standard",fullWidth:!0,sx:{marginTop:"0.5rem"},value:e.state.name}),o(c,{sx:{textAlign:"left",marginTop:"1rem"},children:o(Y,{variant:"outlined",onClick:()=>e.submit(),children:"\u65B0\u5EFA\u7559\u8A00"})})]})}}class co extends u.Component{constructor(r){super(r);S(this,"comment_ref");this.comment_ref=u.createRef()}render(){let r=this,i=r.context;return m(c,{sx:{...i.printer.fonts.structure,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:[o(T,{sx:{position:"absolute",height:"36%",top:"1%",left:"1rem",right:"1rem",overflow:"auto",paddingTop:"1rem"},children:o(so,{onRenew:()=>{r.comment_ref&&r.comment_ref.current&&r.comment_ref.current.update()}})}),m(c,{sx:{position:"absolute",bottom:"1%",top:"38%",left:"1rem",right:"1rem",backgroundColor:"background.default",paddingX:"0.25rem",paddingY:"0.25rem"},children:[o(c,{sx:{textAlign:"right"},children:o(I,{label:"\u7559\u8A00\u5217\u8868",color:"secondary",size:"small"})}),o(T,{sx:{position:"absolute",left:"0.25rem",right:"0.25rem",top:"2.25rem",bottom:"0.25rem",overflowY:"auto"},children:o(lo,{ref:r.comment_ref})})]})]})}}S(co,"contextType",k);let G=t=>{let e=u.useContext(k);return o(j,{...t,sx:{marginTop:"0.2rem",marginBottom:"0.3rem",...e.printer.fonts.body}})};class Wo extends u.Component{constructor(e){super(e)}render(){let e=this.props;return o(c,{sx:{position:"absolute",top:"5%"},children:m(me,{force_direction:"column",children:[o(G,{underline:"hover",href:M(`/edit/content/${h.node_id}`),children:"\u7F16\u8F91\u5185\u5BB9"}),o(G,{underline:"hover",href:M(`/edit/structure/${h.node_id}`),children:"\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(G,{underline:"hover",href:M(`/edit/shallow_structure/${h.node_id}`),children:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(G,{underline:"hover",href:M(`/admin/articlezone/node/add/?father_id=${h.node_id}`),children:"\u65B0\u5EFA\u5B50\u8282\u70B9"}),o(G,{underline:"hover",href:M(`/admin/articlezone/node/${h.node_id}/change/`),children:"\u8FDB\u5165\u540E\u53F0"}),o("br",{}),m("div",{children:["\u7EC4\u4EF6IDX\u663E\u793A",e.idx_activated?"\u5DF2":"\u672A","\u6253\u5F00\u3002"]}),m(Y,{onClick:()=>{e.onActivateIdx&&e.onActivateIdx()},children:[e.idx_activated?"\u505C\u6B62\u663E\u793A":"\u663E\u793A","\u7EC4\u4EF6ID"]}),m("div",{children:["\u6839\u8282\u70B9IDX: ",e.root.idx]})]})})}}class uo extends u.Component{constructor(e){super(e)}render(){let e=this.context;return o(c,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:o(c,{sx:{position:"absolute",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem",backgroundColor:"background.default",top:"1%",left:"0",height:"23%",width:"100%"},children:o(T,{sx:{position:"absolute",top:"2.25rem",bottom:"0.5rem",left:"1rem",right:"0.25rem",overflow:"auto"},children:o(c,{sx:{marginBottom:"1rem"},children:m($,{color:"text.secondary",sx:{marginRight:e.printer.margins.colon,fontSize:"0.5rem",display:"inline-block"},children:["\u{1F449}",o(j,{href:"https://fftyyy.github.io",children:"\u6211\u7684\u4E2A\u4EBA\u4E3B\u9875"})]})})})})})}}S(uo,"contextType",k);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Se=ho,we=fo,po=decodeURIComponent,mo=encodeURIComponent,re=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ho(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},i=e||{},n=t.split(";"),l=i.decode||po,a=0;a<n.length;a++){var s=n[a],d=s.indexOf("=");if(!(d<0)){var p=s.substring(0,d).trim();if(r[p]==null){var f=s.substring(d+1,s.length).trim();f[0]==='"'&&(f=f.slice(1,-1)),r[p]=go(f,l)}}}return r}function fo(t,e,r){var i=r||{},n=i.encode||mo;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!re.test(t))throw new TypeError("argument name is invalid");var l=n(e);if(l&&!re.test(l))throw new TypeError("argument val is invalid");var a=t+"="+l;if(i.maxAge!=null){var s=i.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(i.domain){if(!re.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!re.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var d=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(d){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function go(t,e){try{return e(t)}catch{return t}}function vo(){return typeof document=="object"&&typeof document.cookie=="string"}function xo(t,e){return typeof t=="string"?Se(t,e):typeof t=="object"&&t!==null?t:{}}function _o(t,e){return typeof e=="undefined"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function $e(t,e){e===void 0&&(e={});var r=bo(t);if(_o(r,e.doNotParse))try{return JSON.parse(r)}catch{}return t}function bo(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var U=globalThis&&globalThis.__assign||function(){return U=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},U.apply(this,arguments)},yo=function(){function t(e,r){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=xo(e,r),new Promise(function(){i.HAS_DOCUMENT_COOKIE=vo()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){!this.HAS_DOCUMENT_COOKIE||(this.cookies=Se(document.cookie,e))},t.prototype._emitChange=function(e){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](e)},t.prototype.get=function(e,r,i){return r===void 0&&(r={}),this._updateBrowserValues(i),$e(this.cookies[e],r)},t.prototype.getAll=function(e,r){e===void 0&&(e={}),this._updateBrowserValues(r);var i={};for(var n in this.cookies)i[n]=$e(this.cookies[n],e);return i},t.prototype.set=function(e,r,i){var n;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=U(U({},this.cookies),(n={},n[e]=r,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=we(e,r,i)),this._emitChange({name:e,value:r,options:i})},t.prototype.remove=function(e,r){var i=r=U(U({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=U({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=we(e,"",i)),this._emitChange({name:e,value:void 0,options:r})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var r=this.changeListeners.indexOf(e);r>=0&&this.changeListeners.splice(r,1)},t}(),Ae=yo;class Ho extends u.Component{constructor(e){super(e)}render(){let{value:e,children:r,active_tab:i}=this.props;return o(c,{sx:{display:i==e?"block":"none",paddingLeft:"1.5rem"},children:r})}}function Te(t){let e=t.item,r=e.name,[i,n]=r.split("___");return m(c,{sx:{marginTop:"0.2rem"},children:[m(j,{component:"button",underline:"hover",onClick:l=>{t.onScroll(e.node_path)},color:"text.primary",textAlign:"left",children:[o($,{sx:{fontSize:"0.8rem",left:0,right:"1rem",position:"absolute"},children:i}),o($,{sx:{fontSize:"0.8rem",left:"1.5rem",marginRight:"1rem",position:"relative"},children:n})]}),o(c,{children:e.sons.map((l,a)=>o(Te,{item:l,onScroll:t.onScroll},a))})]})}function Co(t){if(!t.printer)return o(b,{});let e=u.useContext(k),r=new Ze(()=>""),[i,n,l,a]=t.printer.preprocess({root:t.root,init_env:{}}),s=r.get_env(i).root;return s.sons.length<2?o(b,{}):o(c,{sx:{...e.printer.fonts.body,position:"relative",top:"30%",height:"40%",width:"auto"},children:m(c,{sx:{position:"absolute",width:"100%",height:"100%",paddingLeft:"1rem",paddingRight:"0.5rem",paddingY:"0.25rem"},children:[o(c,{sx:{position:"absolute",top:0,height:"1.5rem",width:"100%",left:0,backgroundColor:e.my_palette.background.primary,color:e.my_palette.text.on_primary,opacity:.9,paddingLeft:"0.2rem",lineHeight:"1.5rem",paddingY:"0.2rem"},children:o($,{fontSize:"small",sx:{paddingLeft:"0.2rem"},children:"\u76EE\u5F55"})}),o(T,{sx:{overflow:"auto",position:"absolute",left:"0.4rem",right:"0.5rem",top:"2rem",bottom:"0.5rem"},children:s.sons.map((d,p)=>o(K,{children:o(Te,{item:d,onScroll:t.onScroll},p)}))})]})})}function pe(t){let e=t.node_id,r=t.level||"high",i=t.lower_level||0,n=t.idx;t.total;let l=t.element||o(Z,{node_id:e}),a=u.useContext(k),s,[d,p]=u.useState(!1),f=C=>{p(C),C&&s&&clearTimeout(s)},[B,z]=u.useState(!0);u.useEffect(()=>{(async()=>{let C=await x.get.visibility(e);z(!C.secret)})()});let[F,A]=u.useState([]);u.useEffect(()=>{(async()=>{if(!(i>4))if(r=="high"){let C=await x.get.father_id(e);if(C>0){let O=await x.get.son_ids(C);A(O)}else{let O=await x.get.son_ids(e);A(O)}}else{let C=await x.get.son_ids(e);A(C)}})()},[t.level,t.node_id,t.lower_level]);function D(C){return()=>{s&&clearTimeout(s),s=setTimeout(()=>{f(!1)},C)}}let R=u.useRef(void 0);return m(K,{children:[o(j,{href:ee.view.content(e),target:"_blank",underline:"none",children:m(Y,{onMouseOver:()=>{f(!0)},onMouseOut:D(100),ref:R,sx:{marginX:"0.2rem",width:(r=="high","calc(100% - 0.4rem)"),justifyContent:"flex-start",textAlign:"left",...r=="high"?{whiteSpace:"nowarp"}:{},minHeight:"1.3rem",paddingY:"0.1rem",marginY:r=="high"?"0.4rem":"0.1rem",minWidth:"1rem",color:a.my_palette.text.on_primary,backgroundColor:a.my_palette.background.primary,"&:hover":{backgroundColor:a.my_palette.background.anti_primary,color:a.my_palette.text.anti_on_primary,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},children:[l,B?o(b,{}):o(c,{sx:{display:"inline-block",marginLeft:"auto",right:0,paddingLeft:"0.4rem"},children:o(X,{title:"\u4E0D\u8BA9\u770B",children:o(c,{children:o(Ee,{text:"\u9690",fontSize:"0.7rem",color:"inherit"})})})},"unseen")]})}),o(pt,{onClickAway:()=>{f(!1)},children:F.length<=0?o(b,{}):o(Fe,{onMouseOver:()=>{f(!0)},onMouseOut:D(300),anchorEl:R.current,open:d,placement:r=="high"?"bottom-start":"right-start",transition:!0,modifiers:[{name:"preventOverflow",enabled:!0,options:{altAxis:!0,altBoundary:!1,tether:!1,rootBoundary:"document",padding:8}}],children:({TransitionProps:C})=>o(Ie,{...C,timeout:200,children:o(c,{children:o(T,{sx:{marginLeft:"0.3rem",marginTop:r=="high"?"0.5rem":n==0?0:"-1.5rem",marginBottom:"1rem",minWidth:"5rem",maxWidth:"15rem",maxHeight:"30rem",borderRadius:1},children:o(c,{sx:{paddingY:"0.5rem",backgroundColor:a.my_palette.background.primary,color:a.my_palette.text.on_primary,opacity:.85},children:F.map((O,W)=>o(pe,{level:"low",node_id:O,lower_level:i+1,idx:W,total:F.length},O))})})})})})})]})}function ko(t){let e=h.node_id,[r,i]=u.useState([e]),[n,l]=u.useState([]),a=u.useContext(k);u.useEffect(()=>{(async()=>{let p=e,f=[e];for(let z=0;z<20;z++){let F=await x.get.father_id(p);if(F<=0)break;f=[F,...f],p=F}i(f);let B=await x.get.son_ids(e);l(B)})()},[]);let s=n.length>0?r.length+1:r.length,d=r.map((p,f)=>o(pe,{node_id:p,idx:f,total:s},p));return n.length>0&&(d=[...d,o(pe,{node_id:n[0],idx:s-1,total:s,element:o(X,{title:"\u5B50\u8282\u70B9",children:o(ro,{})})},n[0])]),o(Wt,{sx:{color:a.my_palette.text.on_primary},separator:o(Qt,{sx:{color:a.my_palette.text.weak_on_primary}}),children:d})}function ve(t){let[e,r]=u.useState(!1),i=u.useContext(k);return m(b,{children:[o(X,{title:t.title,children:o(Y,{sx:{paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.2rem",marginY:"0.4rem",minWidth:"0.5rem",marginX:"0.1rem",color:"white",backgroundColor:"inherit","&:hover":{backgroundColor:i.my_palette.background.anti_primary,color:i.my_palette.text.anti_on_primary,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:n=>{r(!0)},children:t.button_content})}),o(mt,{sx:{left:"20%",top:"20%",width:"60%",height:"60%",opacity:.95},PaperProps:{sx:{paddingX:"1rem",paddingY:"1rem",minWidth:"40vw",width:"100%",height:"100%",backgroundColor:i.my_palette.background.secondary,color:"white"}},open:e,anchorReference:"none",onClose:()=>{r(!1)},children:t.children})]})}function Bo(t){return o(ve,{button_content:o(eo,{fontSize:"small"}),title:"\u57FA\u672C\u4FE1\u606F",children:o(wo,{root:t.root})})}class wo extends u.Component{constructor(e){super(e),this.state={create_time:void 0,modify_time:void 0,TLDR:void 0,vis_secret:void 0,vis_indis:void 0}}async componentDidMount(){let e=await x.get.create_time(h.node_id),r=await x.get.tldr(h.node_id),i=await x.get.visibility(h.node_id);this.setState({create_time:e.create_time,modify_time:e.modify_time,TLDR:r,vis_secret:i.secret,vis_indis:i.indiscriminate_provider})}render(){let e=this;this.props.root.parameters.title.val;let r=i=>{let n=u.useContext(k);return m(c,{sx:{marginBottom:"1rem"},children:[o($,{color:"text.default",sx:{marginRight:n.printer.margins.colon,display:"inline-block",...n.printer.fonts.structure,color:n.my_palette.text.on_secondary},children:i.title}),o($,{sx:{...n.printer.fonts.structure,display:"inline-block",whiteSpace:"pre-wrap",color:n.my_palette.text.weak_on_secondary},children:i.content})]})};return h.logged_in&&(c,e.state.vis_secret||b,e.state.vis_indis||b),m(c,{children:[o(r,{title:"\u521B\u5EFA\u65F6\u95F4",content:e.state.create_time}),o(r,{title:"\u4FEE\u6539\u65F6\u95F4",content:e.state.modify_time}),e.state.TLDR?o(K,{children:o(r,{title:"\u592A\u957F\u4E0D\u770B",content:e.state.TLDR})}):o(b,{}),h.logged_in?o(r,{title:"\u53EF\u89C1\u6027",content:m(c,{sx:{textAlign:"left"},children:[e.state.vis_secret?o(I,{label:"\u4E0D\u8BA9\u770B",variant:"outlined",color:"info",size:"small"}):o(b,{}),e.state.vis_indis?o(I,{label:"\u6742\u9648",variant:"outlined",color:"info",size:"small"}):o(b,{})]})}):o(b,{})]})}}function $o(t){return o(ve,{button_content:o(oo,{fontSize:"small"}),title:"\u7559\u8A00",children:o(De,{})})}class Ao extends u.Component{constructor(e){super(e),this.state={comments:[]}}async update(){let e=await x.get.comments(h.node_id);e=e.reverse(),this.setState({comments:e})}async componentDidMount(){await this.update()}render(){let e=this,r=i=>m(c,{sx:{marginBottom:"1rem",marginX:"0.5rem"},children:[o($,{sx:{marginLeft:"0.5rem",fontSize:"0.9rem"},children:i.content},"typo1"),m($,{sx:{textAlign:"right",marginTop:"0.5rem",fontSize:"0.9rem"},children:["\u2014\u2014 ",i.name?`${i.name}`:"\u4E0D\u77E5\u540D\u8005"]},"typo2")]});return o(c,{children:e.state.comments.length==0?o(b,{children:"\uFF08\u7A7A\uFF09"}):e.state.comments.map((i,n)=>{let[l,a]=i;return o(r,{name:a,content:l},n)})})}}class ze extends u.Component{constructor(e){super(e),this.state={content:"",name:"",snakerbar_open:!1,status:!1}}async submit(){let e=this,r=!1;e.state.content&&(r=await x.post.comments({content:e.state.content,name:e.state.name},h.node_id)),e.setState({status:r,snakerbar_open:!0}),r&&(e.props.onRenew(),e.setState({content:"",name:""}))}render(){let e=this,r=this.context;return m(c,{children:[o(ie,{label:o("span",{style:{color:r.my_palette.text.weak_on_secondary},children:"\u7559\u8A00"}),placeholder:"\u8BF4\u70B9\u5565",multiline:!0,onChange:i=>{e.setState({content:i.target.value})},variant:"outlined",fullWidth:!0,minRows:4,value:e.state.content,InputProps:{style:{color:r.my_palette.text.on_secondary},inputProps:{style:{color:r.my_palette.text.on_secondary}}}}),o(ie,{label:o("span",{style:{color:r.my_palette.text.weak_on_secondary},children:"\u79F0\u547C"}),placeholder:"\u4F60\u662F\u8C01\uFF1F",onChange:i=>{e.setState({name:i.target.value})},variant:"standard",fullWidth:!0,sx:{marginTop:"0.5rem"},InputProps:{style:{color:r.my_palette.text.on_secondary},inputProps:{style:{color:r.my_palette.text.on_secondary}}},value:e.state.name}),o(c,{sx:{textAlign:"left",marginTop:"1rem"},children:o(Y,{variant:"outlined",onClick:()=>e.submit(),sx:{color:r.my_palette.text.on_primary,borderColor:r.my_palette.text.on_primary},children:"\u63D0\u4EA4\u7559\u8A00"})})]})}}S(ze,"contextType",k);class De extends u.Component{constructor(r){super(r);S(this,"comment_ref");this.comment_ref=u.createRef()}render(){let r=this,i=r.context;return m(c,{sx:{...i.printer.fonts.structure,position:"absolute",top:"2%",bottom:"2%",left:"2%",width:"96%"},children:[m(c,{sx:{position:"absolute",top:"1%",height:"98%",left:"1%",width:"69%",paddingX:"0.25rem",paddingY:"0.25rem"},children:[o(c,{sx:{textAlign:"left"},children:o(I,{sx:{border:"1px solid white",color:i.my_palette.text.on_secondary},label:"\u7559\u8A00\u5217\u8868",size:"small"})}),o(T,{sx:{position:"absolute",left:"0.25rem",right:"0.25rem",top:"2.25rem",bottom:"0.25rem",overflowY:"auto"},children:o(Ao,{ref:r.comment_ref})})]}),o(T,{sx:{position:"absolute",top:"1%",height:"98%",left:"71%",width:"28%",overflow:"auto",paddingTop:"1rem"},children:o(ze,{onRenew:()=>{r.comment_ref&&r.comment_ref.current&&r.comment_ref.current.update()}})})]})}}S(De,"contextType",k);function Eo(t){return o(ve,{button_content:o(qt,{fontSize:"small"}),title:"\u5173\u4E8E",children:o(Re,{})})}class Re extends u.Component{constructor(e){super(e)}render(){let e=this.context;return o(c,{sx:{...e.printer.fonts.body,position:"absolute",top:"2%",bottom:"2%",width:"100%"},children:o(j,{underline:"hover",href:"https://fftyyy.github.io",sx:{marginTop:"1rem",fontSize:"1rem",display:"inline-block",color:e.my_palette.text.on_secondary},children:"\u{1F449}\u6211\u7684\u4E2A\u4EBA\u4E3B\u9875"})})}}S(Re,"contextType",k);function Fo(t){const e="yblog-topbox-edit-active";let[r,i]=u.useState(!1);y.exports.useEffect(()=>{let p=new Ae().get(e)=="true";i(p)},[]);let n=d=>{new Ae().set(e,d?"true":"false",{path:"/",maxAge:6e6}),i(d)},l=u.useContext(k),a={backgroundColor:"rgba(0,0,0,0)",color:"white"},s={backgroundColor:l.my_palette.background.anti_primary,color:l.my_palette.text.anti_on_primary};return m(b,{children:[o(X,{title:"\u7F16\u8F91",children:o(Y,{sx:{paddingX:"0.2rem",minHeight:"1.3rem",paddingY:"0.2rem",marginY:"0.4rem",minWidth:"0.5rem",marginX:"0.1rem",...r?s:a,"&:hover":{...r?a:s,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out"},onClick:d=>{n(!r)},children:o(to,{fontSize:"small"})})}),o(Fe,{sx:{left:"0",top:"0",width:"12%",height:"30%",marginTop:"3rem",marginLeft:"0.2rem"},open:r,transition:!0,children:({TransitionProps:d})=>o(Ie,{...d,timeout:350,children:o(c,{sx:{paddingX:"1rem",paddingY:"1rem",width:"100%",height:"100%"},children:o(Oe,{root:t.root,idx_activated:t.idx_activated,onActivateIdx:t.onActivateIdx})})})})]})}let Q=t=>{let e=u.useContext(k);return o(j,{...t,sx:{marginTop:"0.2rem",marginBottom:"0.3rem",...e.printer.fonts.body}})};class Oe extends u.Component{constructor(e){super(e)}render(){let e=this.props,r=this.context,i={color:r.my_palette.text.on_primary,backgroundColor:"rgba(30,60,40,0.7)"},n={backgroundColor:"rgba(130,170,160,0.8)",color:r.my_palette.text.anti_on_primary};return o(c,{sx:{position:"absolute",top:"5%"},children:m(me,{force_direction:"column",children:[o(Q,{underline:"hover",href:M(`/edit/content/${h.node_id}`),children:"\u7F16\u8F91\u5185\u5BB9"}),o(Q,{underline:"hover",href:M(`/edit/structure/${h.node_id}`),children:"\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(Q,{underline:"hover",href:M(`/edit/shallow_structure/${h.node_id}`),children:"\uFF08\u6D45\uFF09\u7F16\u8F91\u5B50\u8282\u70B9\u6811"}),o(Q,{underline:"hover",href:M(`/admin/articlezone/node/add/?father_id=${h.node_id}`),children:"\u65B0\u5EFA\u5B50\u8282\u70B9"}),o(Q,{underline:"hover",href:M(`/admin/articlezone/node/${h.node_id}/change/`),children:"\u8FDB\u5165\u540E\u53F0"}),o("br",{}),m(c,{sx:{...r.printer.fonts.structure},children:[m($,{children:["\u7EC4\u4EF6IDX\u663E\u793A",e.idx_activated?"\u5DF2":"\u672A","\u6253\u5F00\u3002"]}),m(Y,{sx:{marginX:"1rem",...e.idx_activated?i:n,"&:hover":{...e.idx_activated?n:i,transition:"background-color 400ms ease-out, color 400ms ease-out"},transition:"background-color 400ms ease-out, color 400ms ease-out",style:"block-inline"},onClick:()=>{e.onActivateIdx&&e.onActivateIdx()},children:[e.idx_activated?"\u505C\u6B62\u663E\u793A":"\u663E\u793A","\u7EC4\u4EF6ID"]})]}),o($,{sx:{...r.printer.fonts.structure}}),m("div",{children:["\u6839\u8282\u70B9IDX\u4E3A ",e.root.idx]})]})})}}S(Oe,"contextType",k);function Io(t){let e=!t.simple,r=i=>{let n=e?i=="row"?"column":"row":i;return o(ye.Provider,{value:n,children:o(Jt,{direction:i,...t.sx||{},children:t.children})})};return t.force_direction!=null?r(t.force_direction):o(ye.Consumer,{children:i=>r(i)})}function So(t){return u.useContext(k),m(Io,{force_direction:"row",sx:{width:"100%",height:"100%",overflow:"hidden"},children:[o(T,{sx:{paddingX:"1rem",maxWidth:"80%",maxHeight:"100%",overflow:"auto",borderRight:"1px solid grey"},children:o(ko,{root:t.root})}),m(c,{sx:{textAlign:"right",marginLeft:"auto",paddingLeft:"0.6rem",paddingRight:"0.4rem",borderLeft:"1px solid grey"},children:[h.logged_in?o(Fo,{root:t.root,idx_activated:t.idx_activated,onActivateIdx:t.onActivateIdx}):o(b,{}),o(Eo,{}),o($o,{root:t.root}),o(Bo,{root:t.root})]})]})}class To extends u.Component{constructor(r){super(r);S(this,"printer_comp_ref");this.state={printer:void 0,tree:void 0,cache:void 0,info:{},activate_idx:!1},this.printer_comp_ref=u.createRef()}get_printer_comp(){if(this.printer_comp_ref&&this.printer_comp_ref.current)return this.printer_comp_ref.current}async componentDidMount(){let r=await x.get.concept(h.node_id),i=et(r),n=new We(tt,i,ot,rt),l=await x.get.content(h.node_id);document.title=l.parameters.title.val;let a=await x.get.cache(h.node_id),s=await x.get.create_time(h.node_id);this.setState({printer:n,tree:l,cache:a,info:{create_time:s.create_time,modify_time:s.modify_time}}),setTimeout(()=>{He.go()},1e3)}render(){let r=this,{printer:i,tree:n}=this.state;return i&&n?o(qe,{theme:dt(te.mui),children:o(Ue,{value:te,children:m(c,{sx:{position:"fixed",width:"100%",height:"100%",left:"0",right:"0",backgroundColor:"rgba(0,0,0,0)",color:"text.primary"},children:[o(Ge,{}),o(_t,{sx:{position:"absolute",top:"0",left:"0",height:"2.60rem",width:"100%",opacity:"0.9",border:"1px solid grey"},children:o(So,{root:n,idx_activated:r.state.activate_idx,onActivateIdx:()=>{r.setState({activate_idx:!r.state.activate_idx})}})}),o(c,{sx:{position:"absolute",top:"2.6rem",left:"12%",bottom:"0.5rem",width:"65%"},children:o(T,{sx:{position:"absolute",width:"98%",left:"1%",top:"1%",height:"98%",overflowY:"auto",wordBreak:"break-all"},className:"mathjax_process",children:o(je,{children:m(Ye,{value:{BackendData:h,cache:r.state.cache,activate_idx:r.state.activate_idx},children:[o(c,{sx:{marginTop:"2.5rem",marginLeft:"2rem",marginBottom:"2.5rem"},children:o(Xe,{sx:{...te.printer.fonts.title,fontSize:"1.7rem"},children:n.parameters.title.val})}),o(c,{children:o(Ke,{ref:this.printer_comp_ref,printer:i,theme:te,onUpdateCache:l=>{l&&JSON.stringify(l)!=JSON.stringify(r.state.cache)&&setTimeout(()=>r.setState({cache:l}),200)},root:n,onDidMount:l=>{h.linkto&&setTimeout(()=>{let a=parseInt(h.linkto);l.scroll_to_idx(a);let s=l.get_ref_from_idx(a);s&&(s.style.border="2px solid")},500)}})})]})})})}),o(c,{sx:{position:"absolute",top:"6%",left:"83%",height:"92%",width:"13%"},children:o(Co,{root:n,printer:r.state.printer,onScroll:l=>{var s;let a=(s=r.get_printer_comp())==null?void 0:s.get_component();a&&a.scroll_to(l)}})})]})})}):o(b,{children:"\u522B\u6025"})}}Je.render(o(To,{}),document.getElementById("root"));
