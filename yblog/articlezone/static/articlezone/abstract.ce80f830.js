var gc=Object.defineProperty;var mc=(e,t,r)=>t in e?gc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ae=(e,t,r)=>(mc(e,typeof t!="symbol"?t+"":t,r),r);import{r as O,j as D,b as pe,a as G,F as cr,a9 as wn,R as Dc}from"./titleword.346a9035.js";import{Q as Cc,R as bc,b as ke,_ as V,c as ur,J as Xn,f as Pt,s as Be,a2 as Bc,u as bt,a as ut,g as Mt,D as Je,e as _e,G as de,U as bu,O as wa,H as Bu,a0 as ea,N as yu,a3 as Fs,h as Ke,$ as Eu,a4 as yc,W as Ec,Y as _s,X as Oo,a5 as wc,V as xc,a6 as Ac,a7 as Fc,a8 as _c,a9 as Oc,j as Pc,B as Se,a1 as xa,I as gn}from"./Link.1059a8a1.js";import{o as Vn,e as Sc,h as kc,i as Rc,u as Aa,j as wu,T as Tc,k as $c,l as Nc,g as Os,M as Mc,P as Zn,n as xu,L as Mr,q as Ic,s as Ps,t as Lc,v as Au,G as Ss,w as xn,c as jc,F as zc,x as Wc,y as Vc,a as ks,z as Hc,B as Fa,A as Fu}from"./overlayscrollbars.00f447e8.js";import{S as _u}from"./SwitchBase.33106311.js";var Ye="top",Dt="bottom",Ct="right",Xe="left",_a="auto",mn=[Ye,Dt,Ct,Xe],Lr="start",sn="end",Uc="clippingParents",Ou="viewport",Yr="popper",qc="reference",Rs=mn.reduce(function(e,t){return e.concat([t+"-"+Lr,t+"-"+sn])},[]),Pu=[].concat(mn,[_a]).reduce(function(e,t){return e.concat([t,t+"-"+Lr,t+"-"+sn])},[]),Kc="beforeRead",Gc="read",Jc="afterRead",Yc="beforeMain",Xc="main",Zc="afterMain",Qc="beforeWrite",ef="write",tf="afterWrite",rf=[Kc,Gc,Jc,Yc,Xc,Zc,Qc,ef,tf];function Tt(e){return e?(e.nodeName||"").toLowerCase():null}function Bt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function br(e){var t=Bt(e).Element;return e instanceof t||e instanceof Element}function mt(e){var t=Bt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Oa(e){if(typeof ShadowRoot=="undefined")return!1;var t=Bt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nf(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},o=t.attributes[r]||{},a=t.elements[r];!mt(a)||!Tt(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(s){var i=o[s];i===!1?a.removeAttribute(s):a.setAttribute(s,i===!0?"":i)}))})}function of(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),i=s.reduce(function(u,l){return u[l]="",u},{});!mt(o)||!Tt(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(u){o.removeAttribute(u)}))})}}var af={name:"applyStyles",enabled:!0,phase:"write",fn:nf,effect:of,requires:["computeStyles"]};function kt(e){return e.split("-")[0]}var Dr=Math.max,Qn=Math.min,jr=Math.round;function ta(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Su(){return!/^((?!chrome|android).)*safari/i.test(ta())}function zr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),o=1,a=1;t&&mt(e)&&(o=e.offsetWidth>0&&jr(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&jr(n.height)/e.offsetHeight||1);var s=br(e)?Bt(e):window,i=s.visualViewport,u=!Su()&&r,l=(n.left+(u&&i?i.offsetLeft:0))/o,d=(n.top+(u&&i?i.offsetTop:0))/a,p=n.width/o,f=n.height/a;return{width:p,height:f,top:d,right:l+p,bottom:d+f,left:l,x:l,y:d}}function Pa(e){var t=zr(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function ku(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Oa(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Gt(e){return Bt(e).getComputedStyle(e)}function sf(e){return["table","td","th"].indexOf(Tt(e))>=0}function fr(e){return((br(e)?e.ownerDocument:e.document)||window.document).documentElement}function mo(e){return Tt(e)==="html"?e:e.assignedSlot||e.parentNode||(Oa(e)?e.host:null)||fr(e)}function Ts(e){return!mt(e)||Gt(e).position==="fixed"?null:e.offsetParent}function uf(e){var t=/firefox/i.test(ta()),r=/Trident/i.test(ta());if(r&&mt(e)){var n=Gt(e);if(n.position==="fixed")return null}var o=mo(e);for(Oa(o)&&(o=o.host);mt(o)&&["html","body"].indexOf(Tt(o))<0;){var a=Gt(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function Dn(e){for(var t=Bt(e),r=Ts(e);r&&sf(r)&&Gt(r).position==="static";)r=Ts(r);return r&&(Tt(r)==="html"||Tt(r)==="body"&&Gt(r).position==="static")?t:r||uf(e)||t}function Sa(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function rn(e,t,r){return Dr(e,Qn(t,r))}function lf(e,t,r){var n=rn(e,t,r);return n>r?r:n}function Ru(){return{top:0,right:0,bottom:0,left:0}}function Tu(e){return Object.assign({},Ru(),e)}function $u(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var cf=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Tu(typeof t!="number"?t:$u(t,mn))};function ff(e){var t,r=e.state,n=e.name,o=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,i=kt(r.placement),u=Sa(i),l=[Xe,Ct].indexOf(i)>=0,d=l?"height":"width";if(!(!a||!s)){var p=cf(o.padding,r),f=Pa(a),c=u==="y"?Ye:Xe,g=u==="y"?Dt:Ct,v=r.rects.reference[d]+r.rects.reference[u]-s[u]-r.rects.popper[d],C=s[u]-r.rects.reference[u],B=Dn(a),E=B?u==="y"?B.clientHeight||0:B.clientWidth||0:0,F=v/2-C/2,w=p[c],P=E-f[d]-p[g],_=E/2-f[d]/2+F,T=rn(w,_,P),m=u;r.modifiersData[n]=(t={},t[m]=T,t.centerOffset=T-_,t)}}function df(e){var t=e.state,r=e.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||!ku(t.elements.popper,o)||(t.elements.arrow=o))}var pf={name:"arrow",enabled:!0,phase:"main",fn:ff,effect:df,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wr(e){return e.split("-")[1]}var hf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vf(e){var t=e.x,r=e.y,n=window,o=n.devicePixelRatio||1;return{x:jr(t*o)/o||0,y:jr(r*o)/o||0}}function $s(e){var t,r=e.popper,n=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,i=e.position,u=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=s.x,c=f===void 0?0:f,g=s.y,v=g===void 0?0:g,C=typeof d=="function"?d({x:c,y:v}):{x:c,y:v};c=C.x,v=C.y;var B=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),F=Xe,w=Ye,P=window;if(l){var _=Dn(r),T="clientHeight",m="clientWidth";if(_===Bt(r)&&(_=fr(r),Gt(_).position!=="static"&&i==="absolute"&&(T="scrollHeight",m="scrollWidth")),_=_,o===Ye||(o===Xe||o===Ct)&&a===sn){w=Dt;var b=p&&_===P&&P.visualViewport?P.visualViewport.height:_[T];v-=b-n.height,v*=u?1:-1}if(o===Xe||(o===Ye||o===Dt)&&a===sn){F=Ct;var y=p&&_===P&&P.visualViewport?P.visualViewport.width:_[m];c-=y-n.width,c*=u?1:-1}}var A=Object.assign({position:i},l&&hf),$=d===!0?vf({x:c,y:v}):{x:c,y:v};if(c=$.x,v=$.y,u){var k;return Object.assign({},A,(k={},k[w]=E?"0":"",k[F]=B?"0":"",k.transform=(P.devicePixelRatio||1)<=1?"translate("+c+"px, "+v+"px)":"translate3d("+c+"px, "+v+"px, 0)",k))}return Object.assign({},A,(t={},t[w]=E?v+"px":"",t[F]=B?c+"px":"",t.transform="",t))}function gf(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,i=r.roundOffsets,u=i===void 0?!0:i,l={placement:kt(t.placement),variation:Wr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,$s(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,$s(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var mf={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gf,data:{}},An={passive:!0};function Df(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,a=o===void 0?!0:o,s=n.resize,i=s===void 0?!0:s,u=Bt(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(d){d.addEventListener("scroll",r.update,An)}),i&&u.addEventListener("resize",r.update,An),function(){a&&l.forEach(function(d){d.removeEventListener("scroll",r.update,An)}),i&&u.removeEventListener("resize",r.update,An)}}var Cf={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Df,data:{}},bf={left:"right",right:"left",bottom:"top",top:"bottom"};function Hn(e){return e.replace(/left|right|bottom|top/g,function(t){return bf[t]})}var Bf={start:"end",end:"start"};function Ns(e){return e.replace(/start|end/g,function(t){return Bf[t]})}function ka(e){var t=Bt(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ra(e){return zr(fr(e)).left+ka(e).scrollLeft}function yf(e,t){var r=Bt(e),n=fr(e),o=r.visualViewport,a=n.clientWidth,s=n.clientHeight,i=0,u=0;if(o){a=o.width,s=o.height;var l=Su();(l||!l&&t==="fixed")&&(i=o.offsetLeft,u=o.offsetTop)}return{width:a,height:s,x:i+Ra(e),y:u}}function Ef(e){var t,r=fr(e),n=ka(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=Dr(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Dr(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-n.scrollLeft+Ra(e),u=-n.scrollTop;return Gt(o||r).direction==="rtl"&&(i+=Dr(r.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:i,y:u}}function Ta(e){var t=Gt(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Nu(e){return["html","body","#document"].indexOf(Tt(e))>=0?e.ownerDocument.body:mt(e)&&Ta(e)?e:Nu(mo(e))}function nn(e,t){var r;t===void 0&&(t=[]);var n=Nu(e),o=n===((r=e.ownerDocument)==null?void 0:r.body),a=Bt(n),s=o?[a].concat(a.visualViewport||[],Ta(n)?n:[]):n,i=t.concat(s);return o?i:i.concat(nn(mo(s)))}function ra(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wf(e,t){var r=zr(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Ms(e,t,r){return t===Ou?ra(yf(e,r)):br(t)?wf(t,r):ra(Ef(fr(e)))}function xf(e){var t=nn(mo(e)),r=["absolute","fixed"].indexOf(Gt(e).position)>=0,n=r&&mt(e)?Dn(e):e;return br(n)?t.filter(function(o){return br(o)&&ku(o,n)&&Tt(o)!=="body"}):[]}function Af(e,t,r,n){var o=t==="clippingParents"?xf(e):[].concat(t),a=[].concat(o,[r]),s=a[0],i=a.reduce(function(u,l){var d=Ms(e,l,n);return u.top=Dr(d.top,u.top),u.right=Qn(d.right,u.right),u.bottom=Qn(d.bottom,u.bottom),u.left=Dr(d.left,u.left),u},Ms(e,s,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Mu(e){var t=e.reference,r=e.element,n=e.placement,o=n?kt(n):null,a=n?Wr(n):null,s=t.x+t.width/2-r.width/2,i=t.y+t.height/2-r.height/2,u;switch(o){case Ye:u={x:s,y:t.y-r.height};break;case Dt:u={x:s,y:t.y+t.height};break;case Ct:u={x:t.x+t.width,y:i};break;case Xe:u={x:t.x-r.width,y:i};break;default:u={x:t.x,y:t.y}}var l=o?Sa(o):null;if(l!=null){var d=l==="y"?"height":"width";switch(a){case Lr:u[l]=u[l]-(t[d]/2-r[d]/2);break;case sn:u[l]=u[l]+(t[d]/2-r[d]/2);break}}return u}function un(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=n===void 0?e.placement:n,a=r.strategy,s=a===void 0?e.strategy:a,i=r.boundary,u=i===void 0?Uc:i,l=r.rootBoundary,d=l===void 0?Ou:l,p=r.elementContext,f=p===void 0?Yr:p,c=r.altBoundary,g=c===void 0?!1:c,v=r.padding,C=v===void 0?0:v,B=Tu(typeof C!="number"?C:$u(C,mn)),E=f===Yr?qc:Yr,F=e.rects.popper,w=e.elements[g?E:f],P=Af(br(w)?w:w.contextElement||fr(e.elements.popper),u,d,s),_=zr(e.elements.reference),T=Mu({reference:_,element:F,strategy:"absolute",placement:o}),m=ra(Object.assign({},F,T)),b=f===Yr?m:_,y={top:P.top-b.top+B.top,bottom:b.bottom-P.bottom+B.bottom,left:P.left-b.left+B.left,right:b.right-P.right+B.right},A=e.modifiersData.offset;if(f===Yr&&A){var $=A[o];Object.keys(y).forEach(function(k){var L=[Ct,Dt].indexOf(k)>=0?1:-1,R=[Ye,Dt].indexOf(k)>=0?"y":"x";y[k]+=$[R]*L})}return y}function Ff(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=r.boundary,a=r.rootBoundary,s=r.padding,i=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?Pu:u,d=Wr(n),p=d?i?Rs:Rs.filter(function(g){return Wr(g)===d}):mn,f=p.filter(function(g){return l.indexOf(g)>=0});f.length===0&&(f=p);var c=f.reduce(function(g,v){return g[v]=un(e,{placement:v,boundary:o,rootBoundary:a,padding:s})[kt(v)],g},{});return Object.keys(c).sort(function(g,v){return c[g]-c[v]})}function _f(e){if(kt(e)===_a)return[];var t=Hn(e);return[Ns(e),t,Ns(t)]}function Of(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,a=o===void 0?!0:o,s=r.altAxis,i=s===void 0?!0:s,u=r.fallbackPlacements,l=r.padding,d=r.boundary,p=r.rootBoundary,f=r.altBoundary,c=r.flipVariations,g=c===void 0?!0:c,v=r.allowedAutoPlacements,C=t.options.placement,B=kt(C),E=B===C,F=u||(E||!g?[Hn(C)]:_f(C)),w=[C].concat(F).reduce(function(U,Y){return U.concat(kt(Y)===_a?Ff(t,{placement:Y,boundary:d,rootBoundary:p,padding:l,flipVariations:g,allowedAutoPlacements:v}):Y)},[]),P=t.rects.reference,_=t.rects.popper,T=new Map,m=!0,b=w[0],y=0;y<w.length;y++){var A=w[y],$=kt(A),k=Wr(A)===Lr,L=[Ye,Dt].indexOf($)>=0,R=L?"width":"height",S=un(t,{placement:A,boundary:d,rootBoundary:p,altBoundary:f,padding:l}),j=L?k?Ct:Xe:k?Dt:Ye;P[R]>_[R]&&(j=Hn(j));var M=Hn(j),W=[];if(a&&W.push(S[$]<=0),i&&W.push(S[j]<=0,S[M]<=0),W.every(function(U){return U})){b=A,m=!1;break}T.set(A,W)}if(m)for(var q=g?3:1,K=function(Y){var X=w.find(function(ee){var Q=T.get(ee);if(Q)return Q.slice(0,Y).every(function(te){return te})});if(X)return b=X,"break"},J=q;J>0;J--){var re=K(J);if(re==="break")break}t.placement!==b&&(t.modifiersData[n]._skip=!0,t.placement=b,t.reset=!0)}}var Pf={name:"flip",enabled:!0,phase:"main",fn:Of,requiresIfExists:["offset"],data:{_skip:!1}};function Is(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ls(e){return[Ye,Ct,Dt,Xe].some(function(t){return e[t]>=0})}function Sf(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,s=un(t,{elementContext:"reference"}),i=un(t,{altBoundary:!0}),u=Is(s,n),l=Is(i,o,a),d=Ls(u),p=Ls(l);t.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var kf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sf};function Rf(e,t,r){var n=kt(e),o=[Xe,Ye].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],i=a[1];return s=s||0,i=(i||0)*o,[Xe,Ct].indexOf(n)>=0?{x:i,y:s}:{x:s,y:i}}function Tf(e){var t=e.state,r=e.options,n=e.name,o=r.offset,a=o===void 0?[0,0]:o,s=Pu.reduce(function(d,p){return d[p]=Rf(p,t.rects,a),d},{}),i=s[t.placement],u=i.x,l=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=s}var $f={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tf};function Nf(e){var t=e.state,r=e.name;t.modifiersData[r]=Mu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Mf={name:"popperOffsets",enabled:!0,phase:"read",fn:Nf,data:{}};function If(e){return e==="x"?"y":"x"}function Lf(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,a=o===void 0?!0:o,s=r.altAxis,i=s===void 0?!1:s,u=r.boundary,l=r.rootBoundary,d=r.altBoundary,p=r.padding,f=r.tether,c=f===void 0?!0:f,g=r.tetherOffset,v=g===void 0?0:g,C=un(t,{boundary:u,rootBoundary:l,padding:p,altBoundary:d}),B=kt(t.placement),E=Wr(t.placement),F=!E,w=Sa(B),P=If(w),_=t.modifiersData.popperOffsets,T=t.rects.reference,m=t.rects.popper,b=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,y=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(!!_){if(a){var k,L=w==="y"?Ye:Xe,R=w==="y"?Dt:Ct,S=w==="y"?"height":"width",j=_[w],M=j+C[L],W=j-C[R],q=c?-m[S]/2:0,K=E===Lr?T[S]:m[S],J=E===Lr?-m[S]:-T[S],re=t.elements.arrow,U=c&&re?Pa(re):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ru(),X=Y[L],ee=Y[R],Q=rn(0,T[S],U[S]),te=F?T[S]/2-q-Q-X-y.mainAxis:K-Q-X-y.mainAxis,oe=F?-T[S]/2+q+Q+ee+y.mainAxis:J+Q+ee+y.mainAxis,fe=t.elements.arrow&&Dn(t.elements.arrow),Me=fe?w==="y"?fe.clientTop||0:fe.clientLeft||0:0,le=(k=A==null?void 0:A[w])!=null?k:0,ve=j+te-le-Me,Re=j+oe-le,Oe=rn(c?Qn(M,ve):M,j,c?Dr(W,Re):W);_[w]=Oe,$[w]=Oe-j}if(i){var We,Ge=w==="x"?Ye:Xe,et=w==="x"?Dt:Ct,xe=_[P],Ie=P==="y"?"height":"width",Ae=xe+C[Ge],ct=xe-C[et],tt=[Ye,Xe].indexOf(B)!==-1,Fe=(We=A==null?void 0:A[P])!=null?We:0,Te=tt?Ae:xe-T[Ie]-m[Ie]-Fe+y.altAxis,ft=tt?xe+T[Ie]+m[Ie]-Fe-y.altAxis:ct,Le=c&&tt?lf(Te,xe,ft):rn(c?Te:Ae,xe,c?ft:ct);_[P]=Le,$[P]=Le-xe}t.modifiersData[n]=$}}var jf={name:"preventOverflow",enabled:!0,phase:"main",fn:Lf,requiresIfExists:["offset"]};function zf(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Wf(e){return e===Bt(e)||!mt(e)?ka(e):zf(e)}function Vf(e){var t=e.getBoundingClientRect(),r=jr(t.width)/e.offsetWidth||1,n=jr(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Hf(e,t,r){r===void 0&&(r=!1);var n=mt(t),o=mt(t)&&Vf(t),a=fr(t),s=zr(e,o,r),i={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Tt(t)!=="body"||Ta(a))&&(i=Wf(t)),mt(t)?(u=zr(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Ra(a))),{x:s.left+i.scrollLeft-u.x,y:s.top+i.scrollTop-u.y,width:s.width,height:s.height}}function Uf(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function o(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(i){if(!r.has(i)){var u=t.get(i);u&&o(u)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||o(a)}),n}function qf(e){var t=Uf(e);return rf.reduce(function(r,n){return r.concat(t.filter(function(o){return o.phase===n}))},[])}function Kf(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Gf(e){var t=e.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var js={placement:"bottom",modifiers:[],strategy:"absolute"};function zs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Jf(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,o=t.defaultOptions,a=o===void 0?js:o;return function(i,u,l){l===void 0&&(l=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},js,a),modifiersData:{},elements:{reference:i,popper:u},attributes:{},styles:{}},p=[],f=!1,c={state:d,setOptions:function(B){var E=typeof B=="function"?B(d.options):B;v(),d.options=Object.assign({},a,d.options,E),d.scrollParents={reference:br(i)?nn(i):i.contextElement?nn(i.contextElement):[],popper:nn(u)};var F=qf(Gf([].concat(n,d.options.modifiers)));return d.orderedModifiers=F.filter(function(w){return w.enabled}),g(),c.update()},forceUpdate:function(){if(!f){var B=d.elements,E=B.reference,F=B.popper;if(!!zs(E,F)){d.rects={reference:Hf(E,Dn(F),d.options.strategy==="fixed"),popper:Pa(F)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(y){return d.modifiersData[y.name]=Object.assign({},y.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var P=d.orderedModifiers[w],_=P.fn,T=P.options,m=T===void 0?{}:T,b=P.name;typeof _=="function"&&(d=_({state:d,options:m,name:b,instance:c})||d)}}}},update:Kf(function(){return new Promise(function(C){c.forceUpdate(),C(d)})}),destroy:function(){v(),f=!0}};if(!zs(i,u))return c;c.setOptions(l).then(function(C){!f&&l.onFirstUpdate&&l.onFirstUpdate(C)});function g(){d.orderedModifiers.forEach(function(C){var B=C.name,E=C.options,F=E===void 0?{}:E,w=C.effect;if(typeof w=="function"){var P=w({state:d,name:B,instance:c,options:F}),_=function(){};p.push(P||_)}})}function v(){p.forEach(function(C){return C()}),p=[]}return c}}var Yf=[Cf,Mf,mf,af,$f,Pf,jf,pf,kf],Xf=Jf({defaultModifiers:Yf});function Zf(e){return Cc("MuiPopperUnstyled",e)}bc("MuiPopperUnstyled",["root"]);const Qf=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],ed=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function td(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function na(e){return typeof e=="function"?e():e}const rd=()=>Pt({root:["root"]},Zf,{}),nd={},od=O.exports.forwardRef(function(t,r){var n;const{anchorEl:o,children:a,component:s,direction:i,disablePortal:u,modifiers:l,open:d,ownerState:p,placement:f,popperOptions:c,popperRef:g,slotProps:v={},slots:C={},TransitionProps:B}=t,E=ke(t,Qf),F=O.exports.useRef(null),w=ur(F,r),P=O.exports.useRef(null),_=ur(P,g),T=O.exports.useRef(_);Xn(()=>{T.current=_},[_]),O.exports.useImperativeHandle(g,()=>P.current,[]);const m=td(f,i),[b,y]=O.exports.useState(m);O.exports.useEffect(()=>{P.current&&P.current.forceUpdate()}),Xn(()=>{if(!o||!d)return;const R=M=>{y(M.placement)};na(o);let S=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:M})=>{R(M)}}];l!=null&&(S=S.concat(l)),c&&c.modifiers!=null&&(S=S.concat(c.modifiers));const j=Xf(na(o),F.current,V({placement:m},c,{modifiers:S}));return T.current(j),()=>{j.destroy(),T.current(null)}},[o,u,l,d,c,m]);const A={placement:b};B!==null&&(A.TransitionProps=B);const $=rd(),k=(n=s!=null?s:C.root)!=null?n:"div",L=kc({elementType:k,externalSlotProps:v.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:V({},t,p),className:$.root});return D(k,V({},L,{children:typeof a=="function"?a(A):a}))}),ad=O.exports.forwardRef(function(t,r){const{anchorEl:n,children:o,container:a,direction:s="ltr",disablePortal:i=!1,keepMounted:u=!1,modifiers:l,open:d,placement:p="bottom",popperOptions:f=nd,popperRef:c,style:g,transition:v=!1}=t,C=ke(t,ed),[B,E]=O.exports.useState(!0),F=()=>{E(!1)},w=()=>{E(!0)};if(!u&&!d&&(!v||B))return null;const P=a||(n?Vn(na(n)).body:void 0);return D(Sc,{disablePortal:i,container:P,children:D(od,V({anchorEl:n,direction:s,disablePortal:i,modifiers:l,ref:r,open:v?!B:d,placement:p,popperOptions:f,popperRef:c},C,{style:V({position:"fixed",top:0,left:0,display:!d&&u&&(!v||B)?"none":null},g),TransitionProps:v?{in:d,onEnter:F,onExited:w}:null,children:o}))})});var sd=ad;const id=["components","componentsProps","slots","slotProps"],ud=Be(sd,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ld=O.exports.forwardRef(function(t,r){var n;const o=Bc(),a=bt({props:t,name:"MuiPopper"}),{components:s,componentsProps:i,slots:u,slotProps:l}=a,d=ke(a,id),p=(n=u==null?void 0:u.root)!=null?n:s==null?void 0:s.Root;return D(ud,V({direction:o==null?void 0:o.direction,slots:{root:p},slotProps:l!=null?l:i},d,{ref:r}))});var $a=ld;function cd(e){return Mt("MuiButtonGroup",e)}const fd=ut("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var nr=fd;const dd=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],pd=(e,t)=>{const{ownerState:r}=e;return[{[`& .${nr.grouped}`]:t.grouped},{[`& .${nr.grouped}`]:t[`grouped${de(r.orientation)}`]},{[`& .${nr.grouped}`]:t[`grouped${de(r.variant)}`]},{[`& .${nr.grouped}`]:t[`grouped${de(r.variant)}${de(r.orientation)}`]},{[`& .${nr.grouped}`]:t[`grouped${de(r.variant)}${de(r.color)}`]},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},hd=e=>{const{classes:t,color:r,disabled:n,disableElevation:o,fullWidth:a,orientation:s,variant:i}=e,u={root:["root",i,s==="vertical"&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${de(s)}`,`grouped${de(i)}`,`grouped${de(i)}${de(s)}`,`grouped${de(i)}${de(r)}`,n&&"disabled"]};return Pt(u,cd,t)},vd=Be("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:pd})(({theme:e,ownerState:t})=>V({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${nr.grouped}`]:V({minWidth:40,"&:not(:first-of-type)":V({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":V({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Je(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${nr.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${nr.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":V({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":V({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),gd=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiButtonGroup"}),{children:o,className:a,color:s="primary",component:i="div",disabled:u=!1,disableElevation:l=!1,disableFocusRipple:d=!1,disableRipple:p=!1,fullWidth:f=!1,orientation:c="horizontal",size:g="medium",variant:v="outlined"}=n,C=ke(n,dd),B=V({},n,{color:s,component:i,disabled:u,disableElevation:l,disableFocusRipple:d,disableRipple:p,fullWidth:f,orientation:c,size:g,variant:v}),E=hd(B),F=O.exports.useMemo(()=>({className:E.grouped,color:s,disabled:u,disableElevation:l,disableFocusRipple:d,disableRipple:p,fullWidth:f,size:g,variant:v}),[s,u,l,d,p,f,g,v,E.grouped]);return D(vd,V({as:i,role:"group",className:_e(E.root,a),ref:r,ownerState:B},C,{children:D(Rc.Provider,{value:F,children:o})}))});var md=gd;function Ws(e){return e.substring(2).toLowerCase()}function Dd(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Cd(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=O.exports.useRef(!1),i=O.exports.useRef(null),u=O.exports.useRef(!1),l=O.exports.useRef(!1);O.exports.useEffect(()=>(setTimeout(()=>{u.current=!0},0),()=>{u.current=!1}),[]);const d=ur(t.ref,i),p=bu(g=>{const v=l.current;l.current=!1;const C=Vn(i.current);if(!u.current||!i.current||"clientX"in g&&Dd(g,C))return;if(s.current){s.current=!1;return}let B;g.composedPath?B=g.composedPath().indexOf(i.current)>-1:B=!C.documentElement.contains(g.target)||i.current.contains(g.target),!B&&(r||!v)&&o(g)}),f=g=>v=>{l.current=!0;const C=t.props[g];C&&C(v)},c={ref:d};return a!==!1&&(c[a]=f(a)),O.exports.useEffect(()=>{if(a!==!1){const g=Ws(a),v=Vn(i.current),C=()=>{s.current=!0};return v.addEventListener(g,p),v.addEventListener("touchmove",C),()=>{v.removeEventListener(g,p),v.removeEventListener("touchmove",C)}}},[p,a]),n!==!1&&(c[n]=f(n)),O.exports.useEffect(()=>{if(n!==!1){const g=Ws(n),v=Vn(i.current);return v.addEventListener(g,p),()=>{v.removeEventListener(g,p)}}},[p,n]),D(O.exports.Fragment,{children:O.exports.cloneElement(t,c)})}const bd=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Bd(e,t,r){const n=t.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),a=wu(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const l=a.getComputedStyle(t);s=l.getPropertyValue("-webkit-transform")||l.getPropertyValue("transform")}let i=0,u=0;if(s&&s!=="none"&&typeof s=="string"){const l=s.split("(")[1].split(")")[0].split(",");i=parseInt(l[4],10),u=parseInt(l[5],10)}return e==="left"?o?`translateX(${o.right+i-n.left}px)`:`translateX(${a.innerWidth+i-n.left}px)`:e==="right"?o?`translateX(-${n.right-o.left-i}px)`:`translateX(-${n.left+n.width-i}px)`:e==="up"?o?`translateY(${o.bottom+u-n.top}px)`:`translateY(${a.innerHeight+u-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-u}px)`:`translateY(-${n.top+n.height-u}px)`}function yd(e){return typeof e=="function"?e():e}function Fn(e,t,r){const n=yd(r),o=Bd(e,t,n);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Ed=O.exports.forwardRef(function(t,r){const n=Aa(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:u,container:l,direction:d="down",easing:p=o,in:f,onEnter:c,onEntered:g,onEntering:v,onExit:C,onExited:B,onExiting:E,style:F,timeout:w=a,TransitionComponent:P=Tc}=t,_=ke(t,bd),T=O.exports.useRef(null),m=ur(u.ref,T,r),b=M=>W=>{M&&(W===void 0?M(T.current):M(T.current,W))},y=b((M,W)=>{Fn(d,M,l),Nc(M),c&&c(M,W)}),A=b((M,W)=>{const q=Os({timeout:w,style:F,easing:p},{mode:"enter"});M.style.webkitTransition=n.transitions.create("-webkit-transform",V({},q)),M.style.transition=n.transitions.create("transform",V({},q)),M.style.webkitTransform="none",M.style.transform="none",v&&v(M,W)}),$=b(g),k=b(E),L=b(M=>{const W=Os({timeout:w,style:F,easing:p},{mode:"exit"});M.style.webkitTransition=n.transitions.create("-webkit-transform",W),M.style.transition=n.transitions.create("transform",W),Fn(d,M,l),C&&C(M)}),R=b(M=>{M.style.webkitTransition="",M.style.transition="",B&&B(M)}),S=M=>{s&&s(T.current,M)},j=O.exports.useCallback(()=>{T.current&&Fn(d,T.current,l)},[d,l]);return O.exports.useEffect(()=>{if(f||d==="down"||d==="right")return;const M=$c(()=>{T.current&&Fn(d,T.current,l)}),W=wu(T.current);return W.addEventListener("resize",M),()=>{M.clear(),W.removeEventListener("resize",M)}},[d,f,l]),O.exports.useEffect(()=>{f||j()},[f,j]),D(P,V({nodeRef:T,onEnter:y,onEntered:$,onEntering:A,onExit:L,onExited:R,onExiting:k,addEndListener:S,appear:i,in:f,timeout:w},_,{children:(M,W)=>O.exports.cloneElement(u,V({ref:m,style:V({visibility:M==="exited"&&!f?"hidden":void 0},F,u.props.style)},W))}))});var wd=Ed;function xd(e){return Mt("MuiDrawer",e)}ut("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ad=["BackdropProps"],Fd=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Iu=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},_d=e=>{const{classes:t,anchor:r,variant:n}=e,o={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${de(r)}`,n!=="temporary"&&`paperAnchorDocked${de(r)}`]};return Pt(o,xd,t)},Od=Be(Mc,{name:"MuiDrawer",slot:"Root",overridesResolver:Iu})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),Vs=Be("div",{shouldForwardProp:wa,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Iu})({flex:"0 0 auto"}),Pd=Be(Zn,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${de(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${de(r.anchor)}`]]}})(({theme:e,ownerState:t})=>V({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),Lu={left:"right",right:"left",top:"down",bottom:"up"};function Sd(e){return["left","right"].indexOf(e)!==-1}function kd(e,t){return e.direction==="rtl"&&Sd(t)?Lu[t]:t}const Rd=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiDrawer"}),o=Aa(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:i,children:u,className:l,elevation:d=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:f}={},onClose:c,open:g=!1,PaperProps:v={},SlideProps:C,TransitionComponent:B=wd,transitionDuration:E=a,variant:F="temporary"}=n,w=ke(n.ModalProps,Ad),P=ke(n,Fd),_=O.exports.useRef(!1);O.exports.useEffect(()=>{_.current=!0},[]);const T=kd(o,s),b=V({},n,{anchor:s,elevation:d,open:g,variant:F},P),y=_d(b),A=D(Pd,V({elevation:F==="temporary"?d:0,square:!0},v,{className:_e(y.paper,v.className),ownerState:b,children:u}));if(F==="permanent")return D(Vs,V({className:_e(y.root,y.docked,l),ownerState:b,ref:r},P,{children:A}));const $=D(B,V({in:g,direction:Lu[T],timeout:E,appear:_.current},C,{children:A}));return F==="persistent"?D(Vs,V({className:_e(y.root,y.docked,l),ownerState:b,ref:r},P,{children:$})):D(Od,V({BackdropProps:V({},i,f,{transitionDuration:E}),className:_e(y.root,y.modal,l),open:g,ownerState:b,onClose:c,hideBackdrop:p,ref:r},P,w,{children:$}))});var Na=Rd;function Td(e){return Mt("MuiFormControlLabel",e)}const $d=ut("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var _n=$d;const Nd=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],Md=e=>{const{classes:t,disabled:r,labelPlacement:n,error:o}=e,a={root:["root",r&&"disabled",`labelPlacement${de(n)}`,o&&"error"],label:["label",r&&"disabled"]};return Pt(a,Td,t)},Id=Be("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${_n.label}`]:t.label},t.root,t[`labelPlacement${de(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>V({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${_n.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${_n.label}`]:{[`&.${_n.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Ld=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:s,disabled:i,disableTypography:u,label:l,labelPlacement:d="end"}=n,p=ke(n,Nd),f=Bu();let c=i;typeof c=="undefined"&&typeof s.props.disabled!="undefined"&&(c=s.props.disabled),typeof c=="undefined"&&f&&(c=f.disabled);const g={disabled:c};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof s.props[F]=="undefined"&&typeof n[F]!="undefined"&&(g[F]=n[F])});const v=xu({props:n,muiFormControl:f,states:["error"]}),C=V({},n,{disabled:c,labelPlacement:d,error:v.error}),B=Md(C);let E=l;return E!=null&&E.type!==ea&&!u&&(E=D(ea,V({component:"span",className:B.label},a.typography,{children:E}))),pe(Id,V({className:_e(B.root,o),ownerState:C,ref:r},p,{children:[O.exports.cloneElement(s,g),E]}))});var Hs=Ld;function jd(e){return Mt("MuiFormGroup",e)}ut("MuiFormGroup",["root","row","error"]);const zd=["className","row"],Wd=e=>{const{classes:t,row:r,error:n}=e;return Pt({root:["root",r&&"row",n&&"error"]},jd,t)},Vd=Be("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>V({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Hd=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiFormGroup"}),{className:o,row:a=!1}=n,s=ke(n,zd),i=Bu(),u=xu({props:n,muiFormControl:i,states:["error"]}),l=V({},n,{row:a,error:u.error}),d=Wd(l);return D(Vd,V({className:_e(d.root,o),ownerState:l,ref:r},s))});var Ud=Hd;function qd(e){return Mt("MuiListItem",e)}const Kd=ut("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var Sr=Kd;const Gd=ut("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var Jd=Gd;function Yd(e){return Mt("MuiListItemSecondaryAction",e)}ut("MuiListItemSecondaryAction",["root","disableGutters"]);const Xd=["className"],Zd=e=>{const{disableGutters:t,classes:r}=e;return Pt({root:["root",t&&"disableGutters"]},Yd,r)},Qd=Be("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ju=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=n,a=ke(n,Xd),s=O.exports.useContext(Mr),i=V({},n,{disableGutters:s.disableGutters}),u=Zd(i);return D(Qd,V({className:_e(u.root,o),ownerState:i,ref:r},a))});ju.muiName="ListItemSecondaryAction";var ep=ju;const tp=["className"],rp=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],np=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},op=e=>{const{alignItems:t,button:r,classes:n,dense:o,disabled:a,disableGutters:s,disablePadding:i,divider:u,hasSecondaryAction:l,selected:d}=e;return Pt({root:["root",o&&"dense",!s&&"gutters",!i&&"padding",u&&"divider",a&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction",d&&"selected"],container:["container"]},qd,n)},ap=Be("div",{name:"MuiListItem",slot:"Root",overridesResolver:np})(({theme:e,ownerState:t})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&V({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Jd.root}`]:{paddingRight:48}},{[`&.${Sr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Sr.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Je(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Sr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Je(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Sr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Sr.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Je(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Je(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),sp=Be("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ip=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:a=!1,button:s=!1,children:i,className:u,component:l,components:d={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:c}={},dense:g=!1,disabled:v=!1,disableGutters:C=!1,disablePadding:B=!1,divider:E=!1,focusVisibleClassName:F,secondaryAction:w,selected:P=!1}=n,_=ke(n.ContainerProps,tp),T=ke(n,rp),m=O.exports.useContext(Mr),b=O.exports.useMemo(()=>({dense:g||m.dense||!1,alignItems:o,disableGutters:C}),[o,m.dense,g,C]),y=O.exports.useRef(null);Xn(()=>{a&&y.current&&y.current.focus()},[a]);const A=O.exports.Children.toArray(i),$=A.length&&Ic(A[A.length-1],["ListItemSecondaryAction"]),k=V({},n,{alignItems:o,autoFocus:a,button:s,dense:b.dense,disabled:v,disableGutters:C,disablePadding:B,divider:E,hasSecondaryAction:$,selected:P}),L=op(k),R=ur(y,r),S=d.Root||ap,j=p.root||{},M=V({className:_e(L.root,j.className,u),disabled:v},T);let W=l||"li";return s&&(M.component=l||"div",M.focusVisibleClassName=_e(Sr.focusVisible,F),W=yu),$?(W=!M.component&&!l?"div":W,f==="li"&&(W==="li"?W="div":M.component==="li"&&(M.component="div")),D(Mr.Provider,{value:b,children:pe(sp,V({as:f,className:_e(L.container,c),ref:R,ownerState:k},_,{children:[D(S,V({},j,!Ps(S)&&{as:W,ownerState:V({},k,j.ownerState)},M,{children:A})),A.pop()]}))})):D(Mr.Provider,{value:b,children:pe(S,V({},j,{as:W,ref:R,ownerState:k},!Ps(S)&&{ownerState:V({},k,j.ownerState)},M,{children:[A,w&&D(ep,{children:w})]}))})});var up=ip;const lp=ut("MuiListItemIcon",["root","alignItemsFlexStart"]);var Us=lp;const cp=ut("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var qs=cp;function fp(e){return Mt("MuiMenuItem",e)}const dp=ut("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Xr=dp;const pp=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],hp=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},vp=e=>{const{disabled:t,dense:r,divider:n,disableGutters:o,selected:a,classes:s}=e,u=Pt({root:["root",r&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",a&&"selected"]},fp,s);return V({},s,u)},gp=Be(yu,{shouldForwardProp:e=>wa(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:hp})(({theme:e,ownerState:t})=>V({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xr.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Je(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Xr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Je(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Xr.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Je(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Je(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Xr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Fs.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Fs.inset}`]:{marginLeft:52},[`& .${qs.root}`]:{marginTop:0,marginBottom:0},[`& .${qs.inset}`]:{paddingLeft:36},[`& .${Us.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&V({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Us.root} svg`]:{fontSize:"1.25rem"}}))),mp=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:s=!1,divider:i=!1,disableGutters:u=!1,focusVisibleClassName:l,role:d="menuitem",tabIndex:p,className:f}=n,c=ke(n,pp),g=O.exports.useContext(Mr),v=O.exports.useMemo(()=>({dense:s||g.dense||!1,disableGutters:u}),[g.dense,s,u]),C=O.exports.useRef(null);Xn(()=>{o&&C.current&&C.current.focus()},[o]);const B=V({},n,{dense:v.dense,divider:i,disableGutters:u}),E=vp(n),F=ur(C,r);let w;return n.disabled||(w=p!==void 0?p:-1),D(Mr.Provider,{value:v,children:D(gp,V({ref:F,role:d,tabIndex:w,component:a,focusVisibleClassName:_e(E.focusVisible,l),className:_e(E.root,f)},c,{ownerState:B,classes:E}))})});var eo=mp,Dp=Ke(D("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Cp=Ke(D("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");const bp=Be("span")({position:"relative",display:"flex"}),Bp=Be(Dp)({transform:"scale(1)"}),yp=Be(Cp)(({theme:e,ownerState:t})=>V({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function zu(e){const{checked:t=!1,classes:r={},fontSize:n}=e,o=V({},e,{checked:t});return pe(bp,{className:r.root,ownerState:o,children:[D(Bp,{fontSize:n,className:r.background,ownerState:o}),D(yp,{fontSize:n,className:r.dot,ownerState:o})]})}const Ep=O.exports.createContext(void 0);var Wu=Ep;function wp(){return O.exports.useContext(Wu)}function xp(e){return Mt("MuiRadio",e)}const Ap=ut("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]);var Ks=Ap;const Fp=["checked","checkedIcon","color","icon","name","onChange","size","className"],_p=e=>{const{classes:t,color:r}=e,n={root:["root",`color${de(r)}`]};return V({},t,Pt(n,xp,t))},Op=Be(_u,{shouldForwardProp:e=>wa(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${de(r.color)}`]]}})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Je(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Ks.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${Ks.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function Pp(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const Gs=D(zu,{checked:!0}),Js=D(zu,{}),Sp=O.exports.forwardRef(function(t,r){var n,o;const a=bt({props:t,name:"MuiRadio"}),{checked:s,checkedIcon:i=Gs,color:u="primary",icon:l=Js,name:d,onChange:p,size:f="medium",className:c}=a,g=ke(a,Fp),v=V({},a,{color:u,size:f}),C=_p(v),B=wp();let E=s;const F=Lc(p,B&&B.onChange);let w=d;return B&&(typeof E=="undefined"&&(E=Pp(B.value,a.value)),typeof w=="undefined"&&(w=B.name)),D(Op,V({type:"radio",icon:O.exports.cloneElement(l,{fontSize:(n=Js.props.fontSize)!=null?n:f}),checkedIcon:O.exports.cloneElement(i,{fontSize:(o=Gs.props.fontSize)!=null?o:f}),ownerState:v,classes:C,name:w,checked:E,onChange:F,ref:r,className:_e(C.root,c)},g))});var kp=Sp;const Rp=["actions","children","defaultValue","name","onChange","value"],Tp=O.exports.forwardRef(function(t,r){const{actions:n,children:o,defaultValue:a,name:s,onChange:i,value:u}=t,l=ke(t,Rp),d=O.exports.useRef(null),[p,f]=Eu({controlled:u,default:a,name:"RadioGroup"});O.exports.useImperativeHandle(n,()=>({focus:()=>{let C=d.current.querySelector("input:not(:disabled):checked");C||(C=d.current.querySelector("input:not(:disabled)")),C&&C.focus()}}),[]);const c=ur(r,d),g=Au(s),v=O.exports.useMemo(()=>({name:g,onChange(C){f(C.target.value),i&&i(C,C.target.value)},value:p}),[g,i,f,p]);return D(Wu.Provider,{value:v,children:D(Ud,V({role:"radiogroup",ref:c},l,{children:o}))})});var $p=Tp;function Np(e){return Mt("MuiTooltip",e)}const Mp=ut("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);var or=Mp;const Ip=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function Lp(e){return Math.round(e*1e5)/1e5}const jp=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:o,placement:a}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch",`tooltipPlacement${de(a.split("-")[0])}`],arrow:["arrow"]};return Pt(s,Np,t)},zp=Be($a,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>V({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${or.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${or.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${or.arrow}`]:V({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${or.arrow}`]:V({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Wp=Be("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${de(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>V({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Je(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Lp(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${or.popper}[data-popper-placement*="left"] &`]:V({transformOrigin:"right center"},t.isRtl?V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):V({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${or.popper}[data-popper-placement*="right"] &`]:V({transformOrigin:"left center"},t.isRtl?V({marginRight:"14px"},t.touch&&{marginRight:"24px"}):V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${or.popper}[data-popper-placement*="top"] &`]:V({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${or.popper}[data-popper-placement*="bottom"] &`]:V({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Vp=Be("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Je(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let On=!1,Po=null;function Pn(e,t){return r=>{t&&t(r),e(r)}}const Hp=O.exports.forwardRef(function(t,r){var n,o,a,s,i,u;const l=bt({props:t,name:"MuiTooltip"}),{arrow:d=!1,children:p,components:f={},componentsProps:c={},describeChild:g=!1,disableFocusListener:v=!1,disableHoverListener:C=!1,disableInteractive:B=!1,disableTouchListener:E=!1,enterDelay:F=100,enterNextDelay:w=0,enterTouchDelay:P=700,followCursor:_=!1,id:T,leaveDelay:m=0,leaveTouchDelay:b=1500,onClose:y,onOpen:A,open:$,placement:k="bottom",PopperComponent:L,PopperProps:R={},title:S,TransitionComponent:j=Ss,TransitionProps:M}=l,W=ke(l,Ip),q=Aa(),K=q.direction==="rtl",[J,re]=O.exports.useState(),[U,Y]=O.exports.useState(null),X=O.exports.useRef(!1),ee=B||_,Q=O.exports.useRef(),te=O.exports.useRef(),oe=O.exports.useRef(),fe=O.exports.useRef(),[Me,le]=Eu({controlled:$,default:!1,name:"Tooltip",state:"open"});let ve=Me;const Re=Au(T),Oe=O.exports.useRef(),We=O.exports.useCallback(()=>{Oe.current!==void 0&&(document.body.style.WebkitUserSelect=Oe.current,Oe.current=void 0),clearTimeout(fe.current)},[]);O.exports.useEffect(()=>()=>{clearTimeout(Q.current),clearTimeout(te.current),clearTimeout(oe.current),We()},[We]);const Ge=se=>{clearTimeout(Po),On=!0,le(!0),A&&!ve&&A(se)},et=bu(se=>{clearTimeout(Po),Po=setTimeout(()=>{On=!1},800+m),le(!1),y&&ve&&y(se),clearTimeout(Q.current),Q.current=setTimeout(()=>{X.current=!1},q.transitions.duration.shortest)}),xe=se=>{X.current&&se.type!=="touchstart"||(J&&J.removeAttribute("title"),clearTimeout(te.current),clearTimeout(oe.current),F||On&&w?te.current=setTimeout(()=>{Ge(se)},On?w:F):Ge(se))},Ie=se=>{clearTimeout(te.current),clearTimeout(oe.current),oe.current=setTimeout(()=>{et(se)},m)},{isFocusVisibleRef:Ae,onBlur:ct,onFocus:tt,ref:Fe}=yc(),[,Te]=O.exports.useState(!1),ft=se=>{ct(se),Ae.current===!1&&(Te(!1),Ie(se))},Le=se=>{J||re(se.currentTarget),tt(se),Ae.current===!0&&(Te(!0),xe(se))},yt=se=>{X.current=!0;const je=p.props;je.onTouchStart&&je.onTouchStart(se)},Lt=xe,ye=Ie,St=se=>{yt(se),clearTimeout(oe.current),clearTimeout(Q.current),We(),Oe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Oe.current,xe(se)},P)},jt=se=>{p.props.onTouchEnd&&p.props.onTouchEnd(se),We(),clearTimeout(oe.current),oe.current=setTimeout(()=>{et(se)},b)};O.exports.useEffect(()=>{if(!ve)return;function se(je){(je.key==="Escape"||je.key==="Esc")&&et(je)}return document.addEventListener("keydown",se),()=>{document.removeEventListener("keydown",se)}},[et,ve]);const Et=ur(p.ref,Fe,re,r);!S&&S!==0&&(ve=!1);const Ve=O.exports.useRef({x:0,y:0}),dt=O.exports.useRef(),pt=se=>{const je=p.props;je.onMouseMove&&je.onMouseMove(se),Ve.current={x:se.clientX,y:se.clientY},dt.current&&dt.current.update()},zt={},ht=typeof S=="string";g?(zt.title=!ve&&ht&&!C?S:null,zt["aria-describedby"]=ve?Re:null):(zt["aria-label"]=ht?S:null,zt["aria-labelledby"]=ve&&!ht?Re:null);const He=V({},zt,W,p.props,{className:_e(W.className,p.props.className),onTouchStart:yt,ref:Et},_?{onMouseMove:pt}:{}),Wt={};E||(He.onTouchStart=St,He.onTouchEnd=jt),C||(He.onMouseOver=Pn(Lt,He.onMouseOver),He.onMouseLeave=Pn(ye,He.onMouseLeave),ee||(Wt.onMouseOver=Lt,Wt.onMouseLeave=ye)),v||(He.onFocus=Pn(Le,He.onFocus),He.onBlur=Pn(ft,He.onBlur),ee||(Wt.onFocus=Le,Wt.onBlur=ft));const Kr=O.exports.useMemo(()=>{var se;let je=[{name:"arrow",enabled:Boolean(U),options:{element:U,padding:4}}];return(se=R.popperOptions)!=null&&se.modifiers&&(je=je.concat(R.popperOptions.modifiers)),V({},R.popperOptions,{modifiers:je})},[U,R]),Vt=V({},l,{isRtl:K,arrow:d,disableInteractive:ee,placement:k,PopperComponentProp:L,touch:X.current}),Gr=jp(Vt),Jr=(n=f.Popper)!=null?n:zp,Es=(o=(a=f.Transition)!=null?a:j)!=null?o:Ss,ws=(s=f.Tooltip)!=null?s:Wp,xs=(i=f.Arrow)!=null?i:Vp,dc=xn(Jr,V({},R,c.popper),Vt),pc=xn(Es,V({},M,c.transition),Vt),hc=xn(ws,V({},c.tooltip),Vt),vc=xn(xs,V({},c.arrow),Vt);return pe(O.exports.Fragment,{children:[O.exports.cloneElement(p,He),D(Jr,V({as:L!=null?L:$a,placement:k,anchorEl:_?{getBoundingClientRect:()=>({top:Ve.current.y,left:Ve.current.x,right:Ve.current.x,bottom:Ve.current.y,width:0,height:0})}:J,popperRef:dt,open:J?ve:!1,id:Re,transition:!0},Wt,dc,{className:_e(Gr.popper,R==null?void 0:R.className,(u=c.popper)==null?void 0:u.className),popperOptions:Kr,children:({TransitionProps:se})=>{var je,As;return D(Es,V({timeout:q.transitions.duration.shorter},se,pc,{children:pe(ws,V({},hc,{className:_e(Gr.tooltip,(je=c.tooltip)==null?void 0:je.className),children:[S,d?D(xs,V({},vc,{className:_e(Gr.arrow,(As=c.arrow)==null?void 0:As.className),ref:Y})):null]}))}))}}))]})});var Up=Hp;const qp=["component","direction","spacing","divider","children"];function Kp(e,t){const r=O.exports.Children.toArray(e).filter(Boolean);return r.reduce((n,o,a)=>(n.push(o),a<r.length-1&&n.push(O.exports.cloneElement(t,{key:`separator-${a}`})),n),[])}const Gp=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Jp=({ownerState:e,theme:t})=>{let r=V({display:"flex",flexDirection:"column"},_s({theme:t},Oo({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=wc(t),o=Object.keys(t.breakpoints.values).reduce((u,l)=>((typeof e.spacing=="object"&&e.spacing[l]!=null||typeof e.direction=="object"&&e.direction[l]!=null)&&(u[l]=!0),u),{}),a=Oo({values:e.direction,base:o}),s=Oo({values:e.spacing,base:o});typeof a=="object"&&Object.keys(a).forEach((u,l,d)=>{if(!a[u]){const f=l>0?a[d[l-1]]:"column";a[u]=f}}),r=xc(r,_s({theme:t},s,(u,l)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${Gp(l?a[l]:e.direction)}`]:Fc(n,u)}})))}return r=Ac(t.breakpoints,r),r},Yp=Be("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})(Jp),Xp=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiStack"}),o=Ec(n),{component:a="div",direction:s="column",spacing:i=0,divider:u,children:l}=o,d=ke(o,qp);return D(Yp,V({as:a,ownerState:{direction:s,spacing:i},ref:r},d,{children:u?Kp(l,u):l}))});var Zp=Xp;function Qp(e){return Mt("MuiSwitch",e)}const eh=ut("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var Ue=eh;const th=["className","color","edge","size","sx"],rh=e=>{const{classes:t,edge:r,size:n,color:o,checked:a,disabled:s}=e,i={root:["root",r&&`edge${de(r)}`,`size${de(n)}`],switchBase:["switchBase",`color${de(o)}`,a&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=Pt(i,Qp,t);return V({},t,u)},nh=Be("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${de(r.edge)}`],t[`size${de(r.size)}`]]}})(({ownerState:e})=>V({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${Ue.thumb}`]:{width:16,height:16},[`& .${Ue.switchBase}`]:{padding:4,[`&.${Ue.checked}`]:{transform:"translateX(16px)"}}})),oh=Be(_u,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Ue.input}`]:t.input},r.color!=="default"&&t[`color${de(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ue.checked}`]:{transform:"translateX(20px)"},[`&.${Ue.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ue.checked} + .${Ue.track}`]:{opacity:.5},[`&.${Ue.disabled} + .${Ue.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ue.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>V({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Je(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Ue.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Je(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ue.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?_c(e.palette[t.color].main,.62):Oc(e.palette[t.color].main,.55)}`}},[`&.${Ue.checked} + .${Ue.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),ah=Be("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),sh=Be("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ih=O.exports.forwardRef(function(t,r){const n=bt({props:t,name:"MuiSwitch"}),{className:o,color:a="primary",edge:s=!1,size:i="medium",sx:u}=n,l=ke(n,th),d=V({},n,{color:a,edge:s,size:i}),p=rh(d),f=D(sh,{className:p.thumb,ownerState:d});return pe(nh,{className:_e(p.root,o),sx:u,ownerState:d,children:[D(oh,V({type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:d},l,{classes:V({},p,{root:p.switchBase})})),D(ah,{className:p.track,ownerState:d})]})});var Vu=ih,uh=Ke(D("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox"),lh=Ke(D("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt"),ch=Ke(D("path",{d:"M3 17h18v2H3zm0-7h18v5H3zm0-4h18v2H3z"}),"CalendarViewDay"),fh=Ke(D("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),dh=Ke(D("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"}),"CloseFullscreen"),ph=Ke(D("path",{d:"M18.5 3H6c-1.1 0-2 .9-2 2v5.71c0 3.83 2.95 7.18 6.78 7.29 3.96.12 7.22-3.06 7.22-7v-1h.5c1.93 0 3.5-1.57 3.5-3.5S20.43 3 18.5 3zM16 5v3H6V5h10zm2.5 3H18V5h.5c.83 0 1.5.67 1.5 1.5S19.33 8 18.5 8zM4 19h16v2H4v-2z"}),"Coffee"),hh=Ke(D("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNone"),vh=Ke(D("path",{d:"M3 13c0-2.45 1.76-4.47 4.08-4.91l-1.49 1.5L7 11l4-4.01L7 3 5.59 4.41l1.58 1.58v.06C3.7 6.46 1 9.42 1 13c0 3.87 3.13 7 7 7h3v-2H8c-2.76 0-5-2.24-5-5zm10 0v7h9v-7h-9zm7 5h-5v-3h5v3zM13 4h9v7h-9z"}),"MoveUp"),gh=Ke(D("path",{d:"m5 9 1.41 1.41L11 5.83V22h2V5.83l4.59 4.59L19 9l-7-7-7 7z"}),"North"),mh=Ke(D("path",{d:"M6.5 5.5 12 11l7-7-1-1-6 6-4.5-4.5H11V3H5v6h1.5V5.5zm17.21 11.17C20.66 13.78 16.54 12 12 12 7.46 12 3.34 13.78.29 16.67c-.18.18-.29.43-.29.71s.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73 1.6 0 3.15.25 4.6.72v3.1c0 .39.23.74.56.9.98.49 1.87 1.12 2.67 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71s-.12-.52-.3-.7z"}),"PhoneMissed"),Dh=Ke(D("path",{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zm8-12v8h8V3h-8zm6 6h-4V5h4v4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),Hu=Ke(D("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings"),Ch=Ke(D("path",{d:"m19 15-1.41-1.41L13 18.17V2h-2v16.17l-4.59-4.59L5 15l7 7 7-7z"}),"South");const Ze=G.createContext({});function Cn(e){return D(Ze.Consumer,{children:t=>D(Ze.Provider,{value:{...t,...e.value},children:e.children})})}class qe extends Error{constructor(t){super(t),Object.setPrototypeOf(this,qe.prototype)}}class Ma extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Ma.prototype)}}function Ys(e){return e.type!=null}function bh(e){return e.type=="inline"}function Do(e){return e.type==null&&e.children!=null}function on(e){return e.type==null&&e.text!=null}function Bh(e,t){if(on(t)||bh(t))return!0;if(Do(t))return!1;let r=e.get_node_first_concept(t);return r?r.meta_parameters.force_inline:!1}class mC{constructor(t,r,n,o){ae(this,"firstClassConcepts");ae(this,"secondClassConcepts");ae(this,"renderers");ae(this,"defaultRenderers");const a=()=>({group:{},inline:{},structure:{},support:{},abstract:{}});this.firstClassConcepts=a();for(let s of t)this.firstClassConcepts[s.type][s.name]=s;this.secondClassConcepts=a();for(let s of r)this.secondClassConcepts[s.type][s.name]=s;this.renderers=n,this.defaultRenderers=o}get_second_concept(t,r){return this.secondClassConcepts[t][r]}get_first_concept(t,r){return this.firstClassConcepts[t][r]}get_node_second_concept(t){let r=t.concept;return this.get_second_concept(t.type,r)}get_node_first_concept(t){let r=this.get_node_second_concept(t);if(r==null)return;let n=r.first_concept;return this.get_first_concept(t.type,n)}get_renderer(t,r){if(t!="paragraph"&&t!="text"){if(r==null)return this.defaultRenderers[t];let n=this.renderers[t][r];return n==null&&(n=this.defaultRenderers[t]),n}return this.defaultRenderers[t]}get_node_renderer(t){let r=this;if(on(t))return r.get_renderer("text");if(Do(t))return r.get_renderer("paragraph");let n=r.get_node_first_concept(t),o=n?n.name:void 0;return r.get_renderer(t.type,o)}process_parameters(t){let r=this.get_node_second_concept(t),n=this.get_node_first_concept(t);if(r==null||n==null)return{};let o={...r.default_override,...t.parameters},a={};for(let u in r.fixed_override){if(n.parameter_prototype[u]==null)continue;let l=r.fixed_override[u];if(l.type!="function")a[u]=l;else{let d=Function(`return ${l.val}`)()(o);a[u]={type:n.parameter_prototype[u].type,val:d}}}let s={...n.parameter_prototype,...o,...a},i={};for(let u in s)i[u]=s[u].val;return i}}class yh extends G.Component{constructor(r){super(r);ae(this,"idx2path");ae(this,"path_refs");this.path_refs={},this.idx2path={}}get_printer(){return this.props.printer}bind_ref(r){let n=JSON.stringify(r);return this.path_refs[n]||(this.path_refs[n]=G.createRef()),this.path_refs[n]}get_ref(r){let n=JSON.stringify(r);if(this.path_refs[n]&&this.path_refs[n].current)return this.path_refs[n].current}get_ref_from_idx(r){if(this.idx2path[r]!=null)return this.get_ref(this.idx2path[r])}scroll_to_idx(r){this.idx2path[r]!=null&&this.scroll_to(this.idx2path[r])}scroll_to(r){let n=this.get_ref(r);!n||n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}preprocess({root:r,init_env:n}={}){let o=this,a=o.props.printer;r=r||o.props.root,n=n||o.props.init_env||{};function s(f,c,g,v,C,B){let E=a.get_node_renderer(c),F=JSON.stringify(g),w=!0,P=v[F];P==null&&(P={});let _=C[F];if(_==null&&(_={},!on(c)&&!Do(c)&&(_=a.process_parameters(c)),C[F]=_),E.enter(c,_,f,P),!on(c))for(let b in c.children){let y=c.children[b],[A,$]=s(f,y,[...g,parseInt(b)],v,C,B);w=w&&$,f=A}let[T,m]=E.exit(c,_,f,P);return w=w&&m,Ys(c)&&(B[c.idx]=T||{}),v[F]=P,[f,w]}let i=n,u={},l={},d={},p=!1;for(;!p;){let[f,c]=s(i,r,[],u,d,l);i=f,p=c;break}return[i,u,d,l]}subrender(r){let n=this,[o,a,s,i]=[r.node,r.path,r.all_contexts,r.all_parameters],u=n.subrender.bind(this),l=JSON.stringify(a),d=s[l],p=i[l];if(p==null)throw new qe(`all_parameters should contain ${l} but it doesn't.`);if(d==null)throw new qe(`contexts should contain ${l} but it doesn't.`);let c=n.props.printer.get_node_renderer(o).renderer,g=D(cr,{});if(!on(o)){let C=o.children;g=D(G.Fragment,{children:Object.keys(C).map(B=>D(u,{node:C[B],path:[...a,parseInt(B)],all_contexts:s,all_parameters:i},B))})}return Ys(o)&&(this.idx2path[o.idx]=[...a]),Bh(n.props.printer,o)?D("span",{ref:n.bind_ref(a),children:D(c,{context:d,node:o,parameters:p,children:g})}):D("div",{ref:n.bind_ref(a),children:D(c,{context:d,node:o,parameters:p,children:g})})}render(){let r=this,n=r.subrender.bind(this),[o,a,s,i]=r.preprocess();this.props.onUpdateCache&&this.props.onUpdateCache(i);let u={printer:r.props.printer,root:r.props.root,printer_component:r,env:o,all_contexts:a,all_parameters:s,all_caches:i};return D(Cn,{value:u,children:D(n,{node:r.props.root,path:[],all_contexts:a,all_parameters:s})})}}class Ia{constructor(t){ae(this,"enter");ae(this,"exit");ae(this,"renderer");ae(this,"renderer_as_property");this.enter=t.enter||((r,n,o,a)=>{}),this.exit=t.exit||((r,n,o,a)=>[{},!0]),this.renderer=t.renderer,this.renderer_as_property=t.renderer_as_property}}function ln(e,t){if(e==null)return t;if(t==null)return e;if(typeof t!="object")return t;if(typeof e!="object")return e;let r={};for(let n in{...e,...t})r[n]=ln(e[n],t[n]);return r}const La={mui:{palette:{divider:"#00000077",primary:{main:"#111111"}}},printer:{margins:{paragraph:"0.4rem",special:"0.8rem",colon:"1rem",level:"2rem",structure:"0.4rem"},fonts:{body:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},weaken:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},structure:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},display:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},title:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400}}},editor:{margins:{background:"0.5rem",paragraph:"0.8rem",small:"0.2rem"},widths:{editable_drawer:"70%",minimum_content:"3rem"},fonts:{body:{fontFamily:"default",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400},structure:{fontFamily:"Century Gothic, SimHei",fontSize:"1rem",lineHeight:"1.5rem",lineSpacing:"0.00938em",fontWeight:400}}}};let mr=G.createContext(La);function Uu(e){let t=e.value.mui;return e.mui&&t!=null?D(jc,{theme:Pc(t),children:D(mr.Consumer,{children:r=>D(mr.Provider,{value:ln(r,e.value),children:e.children})})}):D(mr.Consumer,{children:r=>D(mr.Provider,{value:ln(r,e.value),children:e.children})})}const Vr=G.createContext("row"),qu=G.createContext(!1);function bn(e){let t=e.title||"";return D(Vr.Consumer,{children:r=>D(Up,{title:t,placement:r=="row"?"left":"top",children:e.children},"tooltip")})}function Eh(e){let t=!e.simple,r=n=>{let o=n=="row"?"horizontal":"vertical",a=t?n=="row"?"column":"row":n;return D(Vr.Provider,{value:a,children:D(md,{orientation:o,...e.buttongroup_props,children:e.children})})};return e.force_direction!=null?r(e.force_direction):D(Vr.Consumer,{children:n=>r(n)})}function ja(e){let t=!e.simple,r=n=>{let o=t?n=="row"?"column":"row":n;return D(Vr.Provider,{value:o,children:D(Zp,{direction:n,children:e.children})})};return e.force_direction!=null?r(e.force_direction):D(Vr.Consumer,{children:n=>r(n)})}class wh extends G.Component{constructor(t){super(t)}render(){let t=this.props,r=t.stacker||ja,n=t.component||Zn,{force_direction:o,children:a,stacker:s,anchorEl:i,open:u,component:l,...d}=t,p=f=>D(qu.Consumer,{children:c=>D($a,{anchorEl:t.anchorEl,open:t.open,placement:f=="row"?"right":"bottom",disablePortal:c,transition:!0,...d,children:({TransitionProps:g})=>D(zc,{...g,timeout:350,children:D(Zn,{children:D(n,{children:D(r,{children:t.children})})})})})});return t.force_direction!=null?p(t.force_direction):D(Vr.Consumer,{children:f=>p(f)})}}const xh=e=>{let t=G.useContext(mr);return D(Se,{...e,sx:[{...t.printer.fonts.body,padding:t.printer.margins.structure,boxSizing:"border-box",height:"100%",width:"100%",overflowY:"visible",wordWrap:"break-word",paddingX:"2rem"},...Array.isArray(e.sx)?e.sx:[e.sx]]})};new Ia({renderer(e){return D("span",{children:e.children})}});new Ia({renderer(e){let t=e.node;return D("span",{style:{whiteSpace:"normal"},children:t.text})}});new Ia({renderer(e){return e.node,D("div",{children:e.children})}});class DC extends G.Component{constructor(r){super(r);ae(this,"printer_ref");this.printer_ref=G.createRef()}componentDidMount(){for(;!this.get_component(););this.props.onDidMount&&this.props.onDidMount(this.get_component(),this)}get_component(){if(this.printer_ref&&this.printer_ref.current)return this.printer_ref.current}render(){let r=this,n=ln(La,this.props.theme);return D(Cn,{value:{theme:n},children:D(Uu,{value:n,children:D(xh,{children:D(yh,{ref:r.printer_ref,printer:r.props.printer,root:r.props.root,onUpdateCache:r.props.onUpdateCache})})})})}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Xs(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ne(e){var t,r;return Xs(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Xs(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function wt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Br(e){return!!e&&!!e[at]}function yr(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Rh}(e)||Array.isArray(e)||!!e[ai]||!!(!((t=e.constructor)===null||t===void 0)&&t[ai])||za(e)||Wa(e))}function cn(e,t,r){r===void 0&&(r=!1),Ur(e)===0?(r?Object.keys:Ka)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function Ur(e){var t=e[at];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:za(e)?2:Wa(e)?3:0}function oa(e,t){return Ur(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ah(e,t){return Ur(e)===2?e.get(t):e[t]}function Ku(e,t,r){var n=Ur(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Fh(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function za(e){return Sh&&e instanceof Map}function Wa(e){return kh&&e instanceof Set}function hr(e){return e.o||e.t}function Va(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Th(e);delete t[at];for(var r=Ka(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Ha(e,t){return t===void 0&&(t=!1),Ua(e)||Br(e)||!yr(e)||(Ur(e)>1&&(e.set=e.add=e.clear=e.delete=_h),Object.freeze(e),t&&cn(e,function(r,n){return Ha(n,!0)},!0)),e}function _h(){wt(2)}function Ua(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Rt(e){var t=$h[e];return t||wt(18,e),t}function Zs(){return fn}function So(e,t){t&&(Rt("Patches"),e.u=[],e.s=[],e.v=t)}function to(e){aa(e),e.p.forEach(Oh),e.p=null}function aa(e){e===fn&&(fn=e.l)}function Qs(e){return fn={p:[],l:fn,h:e,m:!0,_:0}}function Oh(e){var t=e[at];t.i===0||t.i===1?t.j():t.O=!0}function ko(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Rt("ES5").S(t,e,n),n?(r[at].P&&(to(t),wt(4)),yr(e)&&(e=ro(t,e),t.l||no(t,e)),t.u&&Rt("Patches").M(r[at].t,e,t.u,t.s)):e=ro(t,r,[]),to(t),t.u&&t.v(t.u,t.s),e!==Gu?e:void 0}function ro(e,t,r){if(Ua(t))return t;var n=t[at];if(!n)return cn(t,function(a,s){return ei(e,n,t,a,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return no(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=Va(n.k):n.o;cn(n.i===3?new Set(o):o,function(a,s){return ei(e,n,o,a,s,r)}),no(e,o,!1),r&&e.u&&Rt("Patches").R(n,r,e.u,e.s)}return n.o}function ei(e,t,r,n,o,a){if(Br(o)){var s=ro(e,o,a&&t&&t.i!==3&&!oa(t.D,n)?a.concat(n):void 0);if(Ku(r,n,s),!Br(s))return;e.m=!1}if(yr(o)&&!Ua(o)){if(!e.h.F&&e._<1)return;ro(e,o),t&&t.A.l||no(e,o)}}function no(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Ha(t,r)}function Ro(e,t){var r=e[at];return(r?hr(r):e)[t]}function ti(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function sa(e){e.P||(e.P=!0,e.l&&sa(e.l))}function To(e){e.o||(e.o=Va(e.t))}function ia(e,t,r){var n=za(t)?Rt("MapSet").N(t,r):Wa(t)?Rt("MapSet").T(t,r):e.g?function(o,a){var s=Array.isArray(o),i={i:s?1:0,A:a?a.A:Zs(),P:!1,I:!1,D:{},l:a,t:o,k:null,o:null,j:null,C:!1},u=i,l=ua;s&&(u=[i],l=tn);var d=Proxy.revocable(u,l),p=d.revoke,f=d.proxy;return i.k=f,i.j=p,f}(t,r):Rt("ES5").J(t,r);return(r?r.A:Zs()).p.push(n),n}function Ph(e){return Br(e)||wt(22,e),function t(r){if(!yr(r))return r;var n,o=r[at],a=Ur(r);if(o){if(!o.P&&(o.i<4||!Rt("ES5").K(o)))return o.t;o.I=!0,n=ri(r,a),o.I=!1}else n=ri(r,a);return cn(n,function(s,i){o&&Ah(o.t,s)===i||Ku(n,s,t(i))}),a===3?new Set(n):n}(e)}function ri(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Va(e)}var ni,fn,qa=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Sh=typeof Map!="undefined",kh=typeof Set!="undefined",oi=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Gu=qa?Symbol.for("immer-nothing"):((ni={})["immer-nothing"]=!0,ni),ai=qa?Symbol.for("immer-draftable"):"__$immer_draftable",at=qa?Symbol.for("immer-state"):"__$immer_state",Rh=""+Object.prototype.constructor,Ka=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Th=Object.getOwnPropertyDescriptors||function(e){var t={};return Ka(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},$h={},ua={get:function(e,t){if(t===at)return e;var r=hr(e);if(!oa(r,t))return function(o,a,s){var i,u=ti(a,s);return u?"value"in u?u.value:(i=u.get)===null||i===void 0?void 0:i.call(o.k):void 0}(e,r,t);var n=r[t];return e.I||!yr(n)?n:n===Ro(e.t,t)?(To(e),e.o[t]=ia(e.A.h,n,e)):n},has:function(e,t){return t in hr(e)},ownKeys:function(e){return Reflect.ownKeys(hr(e))},set:function(e,t,r){var n=ti(hr(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=Ro(hr(e),t),a=o==null?void 0:o[at];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Fh(r,o)&&(r!==void 0||oa(e.t,t)))return!0;To(e),sa(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Ro(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,To(e),sa(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=hr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){wt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){wt(12)}},tn={};cn(ua,function(e,t){tn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tn.deleteProperty=function(e,t){return tn.set.call(this,e,t,void 0)},tn.set=function(e,t,r){return ua.set.call(this,e[0],t,r,e[0])};var Nh=function(){function e(r){var n=this;this.g=oi,this.F=!0,this.produce=function(o,a,s){if(typeof o=="function"&&typeof a!="function"){var i=a;a=o;var u=n;return function(v){var C=this;v===void 0&&(v=i);for(var B=arguments.length,E=Array(B>1?B-1:0),F=1;F<B;F++)E[F-1]=arguments[F];return u.produce(v,function(w){var P;return(P=a).call.apply(P,[C,w].concat(E))})}}var l;if(typeof a!="function"&&wt(6),s!==void 0&&typeof s!="function"&&wt(7),yr(o)){var d=Qs(n),p=ia(n,o,void 0),f=!0;try{l=a(p),f=!1}finally{f?to(d):aa(d)}return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(v){return So(d,s),ko(v,d)},function(v){throw to(d),v}):(So(d,s),ko(l,d))}if(!o||typeof o!="object"){if((l=a(o))===void 0&&(l=o),l===Gu&&(l=void 0),n.F&&Ha(l,!0),s){var c=[],g=[];Rt("Patches").M(o,l,c,g),s(c,g)}return l}wt(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(l){for(var d=arguments.length,p=Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];return n.produceWithPatches(l,function(c){return o.apply(void 0,[c].concat(p))})};var s,i,u=n.produce(o,a,function(l,d){s=l,i=d});return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(l){return[l,s,i]}):[u,s,i]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){yr(r)||wt(8),Br(r)&&(r=Ph(r));var n=Qs(this),o=ia(this,r,void 0);return o[at].C=!0,aa(n),o},t.finishDraft=function(r,n){var o=r&&r[at],a=o.A;return So(a,n),ko(void 0,a)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!oi&&wt(20),this.g=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}o>-1&&(n=n.slice(o+1));var s=Rt("Patches").$;return Br(r)?s(r,n):this.produce(r,function(i){return s(i,n)})},e}(),st=new Nh,Bn=st.produce;st.produceWithPatches.bind(st);st.setAutoFreeze.bind(st);st.setUseProxies.bind(st);st.applyPatches.bind(st);var si=st.createDraft.bind(st),ii=st.finishDraft.bind(st),Un=Bn;function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oo=new WeakMap,ao=new WeakMap,Zr=new WeakMap,ui=new WeakMap,li=new WeakMap,ci=new WeakMap,fi=new WeakMap;function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Mh=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of h.pathRefs(e))hv.transform(r,t);for(var n of h.pointRefs(e))vv.transform(n,t);for(var o of h.rangeRefs(e))Dv.transform(o,t);var a=oo.get(e)||[],s=ao.get(e)||new Set,i,u,l=g=>{if(g){var v=g.join(",");u.has(v)||(u.add(v),i.push(g))}};if(x.operationCanTransformPath(t)){i=[],u=new Set;for(var d of a){var p=x.transform(d,t);l(p)}}else i=a,u=s;var f=Ih(t);for(var c of f)l(c);oo.set(e,i),ao.set(e,u),I.transform(e,t),e.operations.push(t),h.normalize(e),t.type==="set_selection"&&(e.marks=null),Zr.get(e)||(Zr.set(e,!0),Promise.resolve().then(()=>{Zr.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(N.isExpanded(n))I.setNodes(e,{[t]:r},{match:Z.isText,split:!0});else{var o=Sn(Sn({},h.marks(e)||{}),{},{[t]:r});e.marks=o,Zr.get(e)||e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&N.isCollapsed(r)&&I.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&N.isCollapsed(r)&&I.delete(e,{unit:t})},deleteFragment:t=>{var{selection:r}=e;r&&N.isExpanded(r)&&I.delete(e,{reverse:t==="backward"})},getFragment:()=>{var{selection:t}=e;return t?H.fragment(e,t):[]},insertBreak:()=>{I.splitNodes(e,{always:!0})},insertFragment:t=>{I.insertFragment(e,t)},insertNode:t=>{I.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(n){var o=Sn({text:t},n);I.insertNodes(e,o)}else I.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!Z.isText(r)){if(ce.isElement(r)&&r.children.length===0){var o={text:""};I.insertNodes(e,o,{at:n.concat(0),voids:!0});return}for(var a=h.isEditor(r)?!1:ce.isElement(r)&&(e.isInline(r)||r.children.length===0||Z.isText(r.children[0])||e.isInline(r.children[0])),s=0,i=0;i<r.children.length;i++,s++){var u=H.get(e,n);if(!Z.isText(u)){var l=r.children[i],d=u.children[s-1],p=i===r.children.length-1,f=Z.isText(l)||ce.isElement(l)&&e.isInline(l);if(f!==a)I.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(ce.isElement(l)){if(e.isInline(l)){if(d==null||!Z.isText(d)){var c={text:""};I.insertNodes(e,c,{at:n.concat(s),voids:!0}),s++}else if(p){var g={text:""};I.insertNodes(e,g,{at:n.concat(s+1),voids:!0}),s++}}}else d!=null&&Z.isText(d)&&(Z.equals(l,d,{loose:!0})?(I.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):d.text===""?(I.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):l.text===""&&(I.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}},removeMark:t=>{var{selection:r}=e;if(r)if(N.isExpanded(r))I.unsetNodes(e,t,{match:Z.isText,split:!0});else{var n=Sn({},h.marks(e)||{});delete n[t],e.marks=n,Zr.get(e)||e.onChange()}}};return e},Ih=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return x.levels(t)}case"insert_node":{var{node:r,path:n}=e,o=x.levels(n),a=Z.isText(r)?[]:Array.from(H.nodes(r),b=>{var[,y]=b;return n.concat(y)});return[...o,...a]}case"merge_node":{var{path:s}=e,i=x.ancestors(s),u=x.previous(s);return[...i,u]}case"move_node":{var{path:l,newPath:d}=e;if(x.equals(l,d))return[];var p=[],f=[];for(var c of x.ancestors(l)){var g=x.transform(c,e);p.push(g)}for(var v of x.ancestors(d)){var C=x.transform(v,e);f.push(C)}var B=f[f.length-1],E=d[d.length-1],F=B.concat(E);return[...p,...f,F]}case"remove_node":{var{path:w}=e,P=x.ancestors(w);return[...P]}case"split_node":{var{path:_}=e,T=x.levels(_),m=x.next(_);return[...T,m]}default:return[]}};function Lh(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Jt(e,t){if(e==null)return{};var r=Lh(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}var Ga=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,o=r?Uh(t):t,a=ne.None,s=ne.None,i=0,u=null,l=null;for(var d of o){var p=d.codePointAt(0);if(!p)break;var f=nv(d,p);if([a,s]=n?[s,f]:[f,a],Rr(a,ne.ZWJ)&&Rr(s,ne.ExtPict)&&(n?u=pi(t.substring(0,i)):u=pi(t.substring(0,t.length-i)),!u)||Rr(a,ne.RI)&&Rr(s,ne.RI)&&(l!==null?l=!l:n?l=!0:l=uv(t.substring(0,t.length-i)),!l)||a!==ne.None&&s!==ne.None&&av(a,s))break;i+=d.length}return i||1},jh=/\s/,zh=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Wh=/['\u2018\u2019]/,Vh=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,o=!1;t.length>0;){var a=Ga(t,r),[s,i]=Ja(t,a,r);if(Hh(s,i,r))o=!0,n+=a;else if(!o)n+=a;else break;t=i}return n},Ja=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},Hh=function e(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(jh.test(t))return!1;if(Wh.test(t)){var o=Ga(r,n),[a,s]=Ja(r,o,n);if(e(a,s,n))return!0}return!zh.test(t)},Uh=function*(t){for(var r=t.length-1,n=0;n<t.length;n++){var o=t.charAt(r-n);if(Kh(o.charCodeAt(0))){var a=t.charAt(r-n-1);if(qh(a.charCodeAt(0))){yield a+o,n++;continue}}yield o}},qh=e=>e>=55296&&e<=56319,Kh=e=>e>=56320&&e<=57343,ne;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(ne||(ne={}));var Gh=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Jh=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Yh=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Xh=/^[\u1100-\u115F\uA960-\uA97C]$/,Zh=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Qh=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,ev=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,tv=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,rv=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,nv=(e,t)=>{var r=ne.Any;return e.search(Gh)!==-1&&(r|=ne.Extend),t===8205&&(r|=ne.ZWJ),t>=127462&&t<=127487&&(r|=ne.RI),e.search(Jh)!==-1&&(r|=ne.Prepend),e.search(Yh)!==-1&&(r|=ne.SpacingMark),e.search(Xh)!==-1&&(r|=ne.L),e.search(Zh)!==-1&&(r|=ne.V),e.search(Qh)!==-1&&(r|=ne.T),e.search(ev)!==-1&&(r|=ne.LV),e.search(tv)!==-1&&(r|=ne.LVT),e.search(rv)!==-1&&(r|=ne.ExtPict),r};function Rr(e,t){return(e&t)!==0}var ov=[[ne.L,ne.L|ne.V|ne.LV|ne.LVT],[ne.LV|ne.V,ne.V|ne.T],[ne.LVT|ne.T,ne.T],[ne.Any,ne.Extend|ne.ZWJ],[ne.Any,ne.SpacingMark],[ne.Prepend,ne.Any],[ne.ZWJ,ne.ExtPict],[ne.RI,ne.RI]];function av(e,t){return ov.findIndex(r=>Rr(e,r[0])&&Rr(t,r[1]))===-1}var sv=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,pi=e=>e.search(sv)!==-1,iv=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,uv=e=>{var t=e.match(iv);if(t===null)return!1;var r=t[0].length/2;return r%2===1},hi=e=>Ne(e)&&H.isNodeList(e.children)&&!h.isEditor(e),ce={isAncestor(e){return Ne(e)&&H.isNodeList(e.children)},isElement:hi,isElementList(e){return Array.isArray(e)&&e.every(t=>ce.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return hi(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},lv=["text"],cv=["text"];function vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vi(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gi=new WeakMap,h={above(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:a}=t;if(!!o){var s=h.path(e,o),i=n==="lowest";for(var[u,l]of h.levels(e,{at:s,voids:r,match:a,reverse:i}))if(!Z.isText(u)&&!x.equals(s,l))return[u,l]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.point(e,t,{edge:"end"}),o=h.end(e,[]),a={anchor:n,focus:o},{distance:s=1}=r,i=0,u;for(var l of h.positions(e,Or(Or({},r),{},{at:a}))){if(i>s)break;i!==0&&(u=l),i++}return u},before(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.start(e,[]),o=h.point(e,t,{edge:"start"}),a={anchor:n,focus:o},{distance:s=1}=r,i=0,u;for(var l of h.positions(e,Or(Or({},r),{},{at:a,reverse:!0}))){if(i>s)break;i!==0&&(u=l),i++}return u},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:r="forward"}=t;e.deleteFragment(r)},edges(e,t){return[h.start(e,t),h.end(e,t)]},end(e,t){return h.point(e,t,{edge:"end"})},first(e,t){var r=h.path(e,t,{edge:"start"});return h.node(e,r)},fragment(e,t){var r=h.range(e,t),n=H.fragment(e,r);return n},hasBlocks(e,t){return t.children.some(r=>h.isBlock(e,r))},hasInlines(e,t){return t.children.some(r=>Z.isText(r)||h.isInline(e,r))},hasTexts(e,t){return t.children.every(r=>Z.isText(r))},insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return ce.isElement(t)&&!e.isInline(t)},isEditor(e){if(!Ne(e))return!1;var t=gi.get(e);if(t!==void 0)return t;var r=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||Ne(e.marks))&&(e.selection===null||N.isRange(e.selection))&&H.isNodeList(e.children)&&ar.isOperationList(e.operations);return gi.set(e,r),r},isEnd(e,t,r){var n=h.end(e,r);return ie.equals(t,n)},isEdge(e,t,r){return h.isStart(e,t,r)||h.isEnd(e,t,r)},isEmpty(e,t){var{children:r}=t,[n]=r;return r.length===0||r.length===1&&Z.isText(n)&&n.text===""&&!e.isVoid(t)},isInline(e,t){return ce.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=ui.get(e);return t===void 0?!0:t},isStart(e,t,r){if(t.offset!==0)return!1;var n=h.start(e,r);return ie.equals(t,n)},isVoid(e,t){return ce.isElement(t)&&e.isVoid(t)},last(e,t){var r=h.path(e,t,{edge:"end"});return h.node(e,r)},leaf(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.path(e,t,r),o=H.leaf(e,n);return[o,n]},*levels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!r){var s=[],i=h.path(e,r);for(var[u,l]of H.levels(e,i))if(!!a(u,l)&&(s.push([u,l]),!o&&h.isVoid(e,u)))break;n&&s.reverse(),yield*s}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(N.isExpanded(r)){var[n]=h.nodes(e,{match:Z.isText});if(n){var[o]=n,a=Jt(o,lv);return a}else return{}}var{anchor:s}=r,{path:i}=s,[u]=h.leaf(e,i);if(s.offset===0){var l=h.previous(e,{at:i,match:Z.isText}),d=h.above(e,{match:v=>h.isBlock(e,v)});if(l&&d){var[p,f]=l,[,c]=d;x.isAncestor(c,f)&&(u=p)}}var g=Jt(u,cv);return g},next(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(!!a){var s=h.after(e,a,{voids:n});if(!!s){var[,i]=h.last(e,[]),u=[s.path,i];if(x.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(x.isPath(a)){var[l]=h.parent(e,a);o=p=>l.children.includes(p)}else o=()=>!0;var[d]=h.nodes(e,{at:u,match:o,mode:r,voids:n});return d}}},node(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.path(e,t,r),o=H.get(e,n);return[o,n]},*nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:a=!1,voids:s=!1}=t,{match:i}=t;if(i||(i=()=>!0),!!r){var u,l;if(fv.isSpan(r))u=r[0],l=r[1];else{var d=h.path(e,r,{edge:"start"}),p=h.path(e,r,{edge:"end"});u=a?p:d,l=a?d:p}var f=H.nodes(e,{reverse:a,from:u,to:l,pass:F=>{var[w]=F;return s?!1:h.isVoid(e,w)}}),c=[],g;for(var[v,C]of f){var B=g&&x.compare(C,g[1])===0;if(!(n==="highest"&&B)){if(!i(v,C)){if(o&&!B&&Z.isText(v))return;continue}if(n==="lowest"&&B){g=[v,C];continue}var E=n==="lowest"?g:[v,C];E&&(o?c.push(E):yield E),g=[v,C]}}n==="lowest"&&g&&(o?c.push(g):yield g),o&&(yield*c)}},normalize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1}=t,n=u=>oo.get(u)||[],o=u=>ao.get(u)||new Set,a=u=>{var l=n(u).pop(),d=l.join(",");return o(u).delete(d),l};if(!!h.isNormalizing(e)){if(r){var s=Array.from(H.nodes(e),u=>{var[,l]=u;return l}),i=new Set(s.map(u=>u.join(",")));oo.set(e,s),ao.set(e,i)}n(e).length!==0&&h.withoutNormalizing(e,()=>{for(var u of n(e))if(H.has(e,u)){var l=h.node(e,u),[d,p]=l;ce.isElement(d)&&d.children.length===0&&e.normalizeNode(l)}for(var f=n(e).length*42,c=0;n(e).length!==0;){if(c>f)throw new Error(`
            Could not completely normalize the editor after `.concat(f,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var g=a(e);if(H.has(e,g)){var v=h.node(e,g);e.normalizeNode(v)}c++}})}},parent(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.path(e,t,r),o=x.parent(n),a=h.node(e,o);return a},path(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:n,edge:o}=r;if(x.isPath(t)){if(o==="start"){var[,a]=H.first(e,t);t=a}else if(o==="end"){var[,s]=H.last(e,t);t=s}}return N.isRange(t)&&(o==="start"?t=N.start(t):o==="end"?t=N.end(t):t=x.common(t.anchor.path,t.focus.path)),ie.isPoint(t)&&(t=t.path),n!=null&&(t=t.slice(0,n)),t},hasPath(e,t){return H.has(e,t)},pathRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:s}=o,i=h.pathRefs(e);return i.delete(o),o.current=null,s}},a=h.pathRefs(e);return a.add(o),o},pathRefs(e){var t=li.get(e);return t||(t=new Set,li.set(e,t)),t},point(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:n="start"}=r;if(x.isPath(t)){var o;if(n==="end"){var[,a]=H.last(e,t);o=a}else{var[,s]=H.first(e,t);o=s}var i=H.get(e,o);if(!Z.isText(i))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:n==="end"?i.text.length:0}}if(N.isRange(t)){var[u,l]=N.edges(t);return n==="start"?u:l}return t},pointRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:s}=o,i=h.pointRefs(e);return i.delete(o),o.current=null,s}},a=h.pointRefs(e);return a.add(o),o},pointRefs(e){var t=ci.get(e);return t||(t=new Set,ci.set(e,t)),t},*positions(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1,voids:a=!1}=t;if(!r)return;var s=h.range(e,r),[i,u]=N.edges(s),l=o?u:i,d=!1,p="",f=0,c=0,g=0;for(var[v,C]of h.nodes(e,{at:r,reverse:o,voids:a})){if(ce.isElement(v)){if(!a&&e.isVoid(v)){yield h.start(e,C);continue}if(e.isInline(v))continue;if(h.hasInlines(e,v)){var B=x.isAncestor(C,u.path)?u:h.end(e,C),E=x.isAncestor(C,i.path)?i:h.start(e,C);p=h.string(e,{anchor:E,focus:B},{voids:a}),d=!0}}if(Z.isText(v)){var F=x.equals(C,l.path);for(F?(c=o?l.offset:v.text.length-l.offset,g=l.offset):(c=v.text.length,g=o?c:0),(F||d||n==="offset")&&(yield{path:C,offset:g},d=!1);;){if(f===0){if(p==="")break;f=w(p,n,o),p=Ja(p,f,o)[1]}if(g=o?g-f:g+f,c=c-f,c<0){f=-c;break}f=0,yield{path:C,offset:g}}}}function w(P,_,T){return _==="character"?Ga(P,T):_==="word"?Vh(P,T):_==="line"||_==="block"?P.length:1}},previous(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(!!a){var s=h.before(e,a,{voids:n});if(!!s){var[,i]=h.first(e,[]),u=[s.path,i];if(x.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(x.isPath(a)){var[l]=h.parent(e,a);o=p=>l.children.includes(p)}else o=()=>!0;var[d]=h.nodes(e,{reverse:!0,at:u,match:o,mode:r,voids:n});return d}}},range(e,t,r){if(N.isRange(t)&&!r)return t;var n=h.start(e,t),o=h.end(e,r||t);return{anchor:n,focus:o}},rangeRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:s}=o,i=h.rangeRefs(e);return i.delete(o),o.current=null,s}},a=h.rangeRefs(e);return a.add(o),o},rangeRefs(e){var t=fi.get(e);return t||(t=new Set,fi.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){ui.set(e,t)},start(e,t){return h.point(e,t,{edge:"start"})},string(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,o=h.range(e,t),[a,s]=N.edges(o),i="";for(var[u,l]of h.nodes(e,{at:o,match:Z.isText,voids:n})){var d=u.text;x.equals(l,s.path)&&(d=d.slice(0,s.offset)),x.equals(l,a.path)&&(d=d.slice(a.offset)),i+=d}return i},unhangRange(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,[o,a]=N.edges(t);if(o.offset!==0||a.offset!==0||N.isCollapsed(t))return t;var s=h.above(e,{at:a,match:c=>h.isBlock(e,c)}),i=s?s[1]:[],u=h.start(e,o),l={anchor:u,focus:a},d=!0;for(var[p,f]of h.nodes(e,{at:l,match:Z.isText,reverse:!0,voids:n})){if(d){d=!1;continue}if(p.text!==""||x.isBefore(f,i)){a={path:f,offset:p.text.length};break}}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return h.above(e,Or(Or({},t),{},{match:r=>h.isVoid(e,r)}))},withoutNormalizing(e,t){var r=h.isNormalizing(e);h.setNormalizing(e,!1);try{t()}finally{h.setNormalizing(e,r)}h.normalize(e)}},fv={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(x.isPath)}},dv=["children"],pv=["text"],mi=new WeakMap,H={ancestor(e,t){var r=H.get(e,t);if(Z.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of x.ancestors(t,r)){var o=H.ancestor(e,n),a=[o,n];yield a}},child(e,t){if(Z.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=r,o=H.ancestor(e,t),{children:a}=o,s=n?a.length-1:0;n?s>=0:s<a.length;){var i=H.child(o,s),u=t.concat(s);yield[i,u],s=n?s-1:s+1}},common(e,t,r){var n=x.common(t,r),o=H.get(e,n);return[o,n]},descendant(e,t){var r=H.get(e,t);if(h.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of H.nodes(e,t))n.length!==0&&(yield[r,n])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of H.nodes(e,t))ce.isElement(r)&&(yield[r,n])},extractProps(e){if(ce.isAncestor(e)){var t=Jt(e,dv);return t}else{var t=Jt(e,pv);return t}},first(e,t){for(var r=t.slice(),n=H.get(e,r);n&&!(Z.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(Z.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var r=Bn({children:e.children},n=>{var[o,a]=N.edges(t),s=H.nodes(n,{reverse:!0,pass:f=>{var[,c]=f;return!N.includes(t,c)}});for(var[,i]of s){if(!N.includes(t,i)){var u=H.parent(n,i),l=i[i.length-1];u.children.splice(l,1)}if(x.equals(i,a.path)){var d=H.leaf(n,i);d.text=d.text.slice(0,a.offset)}if(x.equals(i,o.path)){var p=H.leaf(n,i);p.text=p.text.slice(o.offset)}}h.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(Z.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(Z.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode(e){return Z.isText(e)||ce.isElement(e)||h.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=mi.get(e);if(t!==void 0)return t;var r=e.every(n=>H.isNode(n));return mi.set(e,r),r},last(e,t){for(var r=t.slice(),n=H.get(e,r);n&&!(Z.isText(n)||n.children.length===0);){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=H.get(e,t);if(!Z.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of x.levels(t,r)){var o=H.get(e,n);yield[o,n]}},matches(e,t){return ce.isElement(e)&&ce.isElementProps(t)&&ce.matches(e,t)||Z.isText(e)&&Z.isTextProps(t)&&Z.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,s=new Set,i=[],u=e;!(a&&(n?x.isBefore(i,a):x.isAfter(i,a)));){if(s.has(u)||(yield[u,i]),!s.has(u)&&!Z.isText(u)&&u.children.length!==0&&(r==null||r([u,i])===!1)){s.add(u);var l=n?u.children.length-1:0;x.isAncestor(i,o)&&(l=o[i.length]),i=i.concat(l),u=H.get(e,i);continue}if(i.length===0)break;if(!n){var d=x.next(i);if(H.has(e,d)){i=d,u=H.get(e,i);continue}}if(n&&i[i.length-1]!==0){var p=x.previous(i);i=p,u=H.get(e,i);continue}i=x.parent(i),u=H.get(e,i),s.add(u)}},parent(e,t){var r=x.parent(t),n=H.get(e,r);if(Z.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return Z.isText(e)?e.text:e.children.map(H.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of H.nodes(e,t))Z.isText(r)&&(yield[r,n])}};function Di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Di(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ar={isNodeOperation(e){return ar.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Ne(e))return!1;switch(e.type){case"insert_node":return x.isPath(e.path)&&H.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&x.isPath(e.path);case"merge_node":return typeof e.position=="number"&&x.isPath(e.path)&&Ne(e.properties);case"move_node":return x.isPath(e.path)&&x.isPath(e.newPath);case"remove_node":return x.isPath(e.path)&&H.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&x.isPath(e.path);case"set_node":return x.isPath(e.path)&&Ne(e.properties)&&Ne(e.newProperties);case"set_selection":return e.properties===null&&N.isRange(e.newProperties)||e.newProperties===null&&N.isRange(e.properties)||Ne(e.properties)&&Ne(e.newProperties);case"split_node":return x.isPath(e.path)&&typeof e.position=="number"&&Ne(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>ar.isOperation(t))},isSelectionOperation(e){return ar.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return ar.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return me(me({},e),{},{type:"remove_node"});case"insert_text":return me(me({},e),{},{type:"remove_text"});case"merge_node":return me(me({},e),{},{type:"split_node",path:x.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(x.equals(t,r))return e;if(x.isSibling(r,t))return me(me({},e),{},{path:t,newPath:r});var n=x.transform(r,e),o=x.transform(x.next(r),e);return me(me({},e),{},{path:n,newPath:o})}case"remove_node":return me(me({},e),{},{type:"insert_node"});case"remove_text":return me(me({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:s}=e;return me(me({},e),{},{properties:s,newProperties:a})}case"set_selection":{var{properties:i,newProperties:u}=e;return i==null?me(me({},e),{},{properties:u,newProperties:null}):u==null?me(me({},e),{},{properties:null,newProperties:i}):me(me({},e),{},{properties:u,newProperties:i})}case"split_node":return me(me({},e),{},{type:"merge_node",path:x.next(e.path)})}}},x={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=x.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n],a=t[n];if(o!==a)break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return x.equals(n,o)&&a>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return x.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return x.equals(n,o)&&a<s},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return x.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&x.compare(e,t)===0},isBefore(e,t){return x.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&x.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&x.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&x.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&x.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),o=e[e.length-1],a=t[t.length-1];return o!==a&&x.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!x.isAncestor(t,e)&&!x.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Bn(e,n=>{var{affinity:o="forward"}=r;if(!(!e||(e==null?void 0:e.length)===0)){if(n===null)return null;switch(t.type){case"insert_node":{var{path:a}=t;(x.equals(a,n)||x.endsBefore(a,n)||x.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(x.equals(s,n)||x.isAncestor(s,n))return null;x.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:i,position:u}=t;x.equals(i,n)||x.endsBefore(i,n)?n[i.length-1]-=1:x.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=u);break}case"split_node":{var{path:l,position:d}=t;if(x.equals(l,n)){if(o==="forward")n[n.length-1]+=1;else if(o!=="backward")return null}else x.endsBefore(l,n)?n[l.length-1]+=1:x.isAncestor(l,n)&&e[l.length]>=d&&(n[l.length-1]+=1,n[l.length]-=d);break}case"move_node":{var{path:p,newPath:f}=t;if(x.equals(p,f))return;if(x.isAncestor(p,n)||x.equals(p,n)){var c=f.slice();return x.endsBefore(p,f)&&p.length<f.length&&(c[p.length-1]-=1),c.concat(n.slice(p.length))}else x.isSibling(p,f)&&(x.isAncestor(f,n)||x.equals(f,n))?x.endsBefore(p,n)?n[p.length-1]-=1:n[p.length-1]+=1:x.endsBefore(f,n)||x.equals(f,n)||x.isAncestor(f,n)?(x.endsBefore(p,n)&&(n[p.length-1]-=1),n[f.length-1]+=1):x.endsBefore(p,n)&&(x.equals(f,n)&&(n[f.length-1]+=1),n[p.length-1]-=1);break}}}})}},hv={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=x.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}};function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ci(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ie={compare(e,t){var r=x.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return ie.compare(e,t)===1},isBefore(e,t){return ie.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&x.equals(e.path,t.path)},isPoint(e){return Ne(e)&&typeof e.offset=="number"&&x.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Bn(e,n=>{if(n===null)return null;var{affinity:o="forward"}=r,{path:a,offset:s}=n;switch(t.type){case"insert_node":case"move_node":{n.path=x.transform(a,t,r);break}case"insert_text":{x.equals(t.path,a)&&t.offset<=s&&(n.offset+=t.text.length);break}case"merge_node":{x.equals(t.path,a)&&(n.offset+=t.position),n.path=x.transform(a,t,r);break}case"remove_text":{x.equals(t.path,a)&&t.offset<=s&&(n.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(x.equals(t.path,a)||x.isAncestor(t.path,a))return null;n.path=x.transform(a,t,r);break}case"split_node":{if(x.equals(t.path,a)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(n.offset-=t.position,n.path=x.transform(a,t,bi(bi({},r),{},{affinity:"forward"})))}else n.path=x.transform(a,t,r);break}}})}},vv={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=ie.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}},gv=["anchor","focus"];function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bi(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var N={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return N.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=N.edges(e);return t},equals(e,t){return ie.equals(e.anchor,t.anchor)&&ie.equals(e.focus,t.focus)},includes(e,t){if(N.isRange(t)){if(N.includes(e,t.anchor)||N.includes(e,t.focus))return!0;var[r,n]=N.edges(e),[o,a]=N.edges(t);return ie.isBefore(r,o)&&ie.isAfter(n,a)}var[s,i]=N.edges(e),u=!1,l=!1;return ie.isPoint(t)?(u=ie.compare(t,s)>=0,l=ie.compare(t,i)<=0):(u=x.compare(t,s.path)>=0,l=x.compare(t,i.path)<=0),u&&l},intersection(e,t){var r=Jt(e,gv),[n,o]=N.edges(e),[a,s]=N.edges(t),i=ie.isBefore(n,a)?a:n,u=ie.isBefore(o,s)?o:s;return ie.isBefore(u,i)?null:mv({anchor:i,focus:u},r)},isBackward(e){var{anchor:t,focus:r}=e;return ie.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return ie.equals(t,r)},isExpanded(e){return!N.isCollapsed(e)},isForward(e){return!N.isBackward(e)},isRange(e){return Ne(e)&&ie.isPoint(e.anchor)&&ie.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=N.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Bn(e,n=>{if(n===null)return null;var{affinity:o="inward"}=r,a,s;if(o==="inward"){var i=N.isCollapsed(n);N.isForward(n)?(a="forward",s=i?a:"backward"):(a="backward",s=i?a:"forward")}else o==="outward"?N.isForward(n)?(a="backward",s="forward"):(a="forward",s="backward"):(a=o,s=o);var u=ie.transform(n.anchor,t,{affinity:a}),l=ie.transform(n.focus,t,{affinity:s});if(!u||!l)return null;n.anchor=u,n.focus=l})}},Dv={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=N.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}},Ju=(e,t)=>{for(var r in e){var n=e[r],o=t[r];if(Ne(n)&&Ne(o)){if(!Ju(n,o))return!1}else if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==o[a])return!1}else if(n!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0},Cv=["text"],bv=["anchor","focus"];function yi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yi(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Z={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function o(a){var s=Jt(a,Cv);return s}return Ju(n?o(e):e,n?o(t):t)},isText(e){return Ne(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>Z.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[Ht({},e)];for(var n of t){var o=Jt(n,bv),[a,s]=N.edges(n),i=[],u=0;for(var l of r){var{length:d}=l.text,p=u;if(u+=d,a.offset<=p&&s.offset>=u){Object.assign(l,o),i.push(l);continue}if(a.offset!==s.offset&&(a.offset===u||s.offset===p)||a.offset>u||s.offset<p||s.offset===p&&p!==0){i.push(l);continue}var f=l,c=void 0,g=void 0;if(s.offset<u){var v=s.offset-p;g=Ht(Ht({},f),{},{text:f.text.slice(v)}),f=Ht(Ht({},f),{},{text:f.text.slice(0,v)})}if(a.offset>p){var C=a.offset-p;c=Ht(Ht({},f),{},{text:f.text.slice(0,C)}),f=Ht(Ht({},f),{},{text:f.text.slice(C)})}Object.assign(f,o),c&&i.push(c),i.push(f),g&&i.push(g)}r=i}return r}};function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ei(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Bv=(e,t,r)=>{switch(r.type){case"insert_node":{var{path:n,node:o}=r,a=H.parent(e,n),s=n[n.length-1];if(s>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(s,0,o),t)for(var[i,u]of N.points(t))t[u]=ie.transform(i,r);break}case"insert_text":{var{path:l,offset:d,text:p}=r;if(p.length===0)break;var f=H.leaf(e,l),c=f.text.slice(0,d),g=f.text.slice(d);if(f.text=c+p+g,t)for(var[v,C]of N.points(t))t[C]=ie.transform(v,r);break}case"merge_node":{var{path:B}=r,E=H.get(e,B),F=x.previous(B),w=H.get(e,F),P=H.parent(e,B),_=B[B.length-1];if(Z.isText(E)&&Z.isText(w))w.text+=E.text;else if(!Z.isText(E)&&!Z.isText(w))w.children.push(...E.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(B,"] to nodes of different interfaces: ").concat(E," ").concat(w));if(P.children.splice(_,1),t)for(var[T,m]of N.points(t))t[m]=ie.transform(T,r);break}case"move_node":{var{path:b,newPath:y}=r;if(x.isAncestor(b,y))throw new Error("Cannot move a path [".concat(b,"] to new path [").concat(y,"] because the destination is inside itself."));var A=H.get(e,b),$=H.parent(e,b),k=b[b.length-1];$.children.splice(k,1);var L=x.transform(b,r),R=H.get(e,x.parent(L)),S=L[L.length-1];if(R.children.splice(S,0,A),t)for(var[j,M]of N.points(t))t[M]=ie.transform(j,r);break}case"remove_node":{var{path:W}=r,q=W[W.length-1],K=H.parent(e,W);if(K.children.splice(q,1),t)for(var[J,re]of N.points(t)){var U=ie.transform(J,r);if(t!=null&&U!=null)t[re]=U;else{var Y=void 0,X=void 0;for(var[ee,Q]of H.texts(e))if(x.compare(Q,W)===-1)Y=[ee,Q];else{X=[ee,Q];break}var te=!1;Y&&X&&(x.equals(X[1],W)?te=!x.hasPrevious(X[1]):te=x.common(Y[1],W).length<x.common(X[1],W).length),Y&&!te?(J.path=Y[1],J.offset=Y[0].text.length):X?(J.path=X[1],J.offset=0):t=null}}break}case"remove_text":{var{path:oe,offset:fe,text:Me}=r;if(Me.length===0)break;var le=H.leaf(e,oe),ve=le.text.slice(0,fe),Re=le.text.slice(fe+Me.length);if(le.text=ve+Re,t)for(var[Oe,We]of N.points(t))t[We]=ie.transform(Oe,r);break}case"set_node":{var{path:Ge,properties:et,newProperties:xe}=r;if(Ge.length===0)throw new Error("Cannot set properties on the root node!");var Ie=H.get(e,Ge);for(var Ae in xe){if(Ae==="children"||Ae==="text")throw new Error('Cannot set the "'.concat(Ae,'" property of nodes!'));var ct=xe[Ae];ct==null?delete Ie[Ae]:Ie[Ae]=ct}for(var tt in et)xe.hasOwnProperty(tt)||delete Ie[tt];break}case"set_selection":{var{newProperties:Fe}=r;if(Fe==null)t=Fe;else{if(t==null){if(!N.isRange(Fe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Fe)," when there is no current selection."));t=Qr({},Fe)}for(var Te in Fe){var ft=Fe[Te];if(ft==null){if(Te==="anchor"||Te==="focus")throw new Error('Cannot remove the "'.concat(Te,'" selection property'));delete t[Te]}else t[Te]=ft}}break}case"split_node":{var{path:Le,position:yt,properties:Lt}=r;if(Le.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Le,"] because the root node cannot be split."));var ye=H.get(e,Le),St=H.parent(e,Le),jt=Le[Le.length-1],Et;if(Z.isText(ye)){var Ve=ye.text.slice(0,yt),dt=ye.text.slice(yt);ye.text=Ve,Et=Qr(Qr({},Lt),{},{text:dt})}else{var pt=ye.children.slice(0,yt),zt=ye.children.slice(yt);ye.children=pt,Et=Qr(Qr({},Lt),{},{children:zt})}if(St.children.splice(jt+1,0,Et),t)for(var[ht,He]of N.points(t))t[He]=ie.transform(ht,r);break}}return t},yv={transform(e,t){e.children=si(e.children);var r=e.selection&&si(e.selection);try{r=Bv(e,r,t)}finally{e.children=ii(e.children),r?e.selection=Br(r)?ii(r):r:e.selection=null}}},Ev=["text"],wv=["children"];function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wi(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var xv={insertNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:a="lowest"}=r,{at:s,match:i,select:u}=r;if(H.isNode(t)&&(t=[t]),t.length!==0){var[l]=t;if(s||(e.selection?s=e.selection:e.children.length>0?s=h.end(e,[]):s=[0],u=!0),u==null&&(u=!1),N.isRange(s))if(n||(s=h.unhangRange(e,s)),N.isCollapsed(s))s=s.anchor;else{var[,d]=N.edges(s),p=h.pointRef(e,d);I.delete(e,{at:s}),s=p.unref()}if(ie.isPoint(s)){i==null&&(Z.isText(l)?i=_=>Z.isText(_):e.isInline(l)?i=_=>Z.isText(_)||h.isInline(e,_):i=_=>h.isBlock(e,_));var[f]=h.nodes(e,{at:s.path,match:i,mode:a,voids:o});if(f){var[,c]=f,g=h.pathRef(e,c),v=h.isEnd(e,s,c);I.splitNodes(e,{at:s,match:i,mode:a,voids:o});var C=g.unref();s=v?x.next(C):C}else return}var B=x.parent(s),E=s[s.length-1];if(!(!o&&h.void(e,{at:B}))){for(var F of t){var w=B.concat(E);E++,e.apply({type:"insert_node",path:w,node:F}),s=x.next(s)}if(s=x.previous(s),u){var P=h.end(e,s);P&&I.select(e,P)}}}})},liftNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:a}=t;if(a==null&&(a=x.isPath(r)?Pr(e,r):F=>h.isBlock(e,F)),!!r){var s=h.nodes(e,{at:r,match:a,mode:n,voids:o}),i=Array.from(s,F=>{var[,w]=F;return h.pathRef(e,w)});for(var u of i){var l=u.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var d=h.node(e,x.parent(l)),[p,f]=d,c=l[l.length-1],{length:g}=p.children;if(g===1){var v=x.next(f);I.moveNodes(e,{at:l,to:v,voids:o}),I.removeNodes(e,{at:f,voids:o})}else if(c===0)I.moveNodes(e,{at:l,to:f,voids:o});else if(c===g-1){var C=x.next(f);I.moveNodes(e,{at:l,to:C,voids:o})}else{var B=x.next(l),E=x.next(f);I.splitNodes(e,{at:B,voids:o}),I.moveNodes(e,{at:l,to:E,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:a=!1,mode:s="lowest"}=t;if(!!n){if(r==null)if(x.isPath(n)){var[i]=h.parent(e,n);r=b=>i.children.includes(b)}else r=b=>h.isBlock(e,b);if(!o&&N.isRange(n)&&(n=h.unhangRange(e,n)),N.isRange(n))if(N.isCollapsed(n))n=n.anchor;else{var[,u]=N.edges(n),l=h.pointRef(e,u);I.delete(e,{at:n}),n=l.unref(),t.at==null&&I.select(e,n)}var[d]=h.nodes(e,{at:n,match:r,voids:a,mode:s}),p=h.previous(e,{at:n,match:r,voids:a,mode:s});if(!(!d||!p)){var[f,c]=d,[g,v]=p;if(!(c.length===0||v.length===0)){var C=x.next(v),B=x.common(c,v),E=x.isSibling(c,v),F=Array.from(h.levels(e,{at:c}),b=>{var[y]=b;return y}).slice(B.length).slice(0,-1),w=h.above(e,{at:c,mode:"highest",match:b=>F.includes(b)&&Yu(e,b)}),P=w&&h.pathRef(e,w[1]),_,T;if(Z.isText(f)&&Z.isText(g)){var m=Jt(f,Ev);T=g.text.length,_=m}else if(ce.isElement(f)&&ce.isElement(g)){var m=Jt(f,wv);T=g.children.length,_=m}else throw new Error("Cannot merge the node at path [".concat(c,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(f)," ").concat(JSON.stringify(g)));E||I.moveNodes(e,{at:c,to:C,voids:a}),P&&I.removeNodes(e,{at:P.current,voids:a}),ce.isElement(g)&&h.isEmpty(e,g)||Z.isText(g)&&g.text===""&&v[v.length-1]!==0?I.removeNodes(e,{at:v,voids:a}):e.apply({type:"merge_node",path:C,position:T,properties:_}),P&&P.unref()}}}})},moveNodes(e,t){h.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:a=!1}=t,{match:s}=t;if(!!n){s==null&&(s=x.isPath(n)?Pr(e,n):c=>h.isBlock(e,c));var i=h.pathRef(e,r),u=h.nodes(e,{at:n,match:s,mode:o,voids:a}),l=Array.from(u,c=>{var[,g]=c;return h.pathRef(e,g)});for(var d of l){var p=d.unref(),f=i.current;p.length!==0&&e.apply({type:"move_node",path:p,newPath:f}),i.current&&x.isSibling(f,p)&&x.isAfter(f,p)&&(i.current=x.next(i.current))}i.unref()}})},removeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:a=e.selection,match:s}=t;if(!!a){s==null&&(s=x.isPath(a)?Pr(e,a):f=>h.isBlock(e,f)),!r&&N.isRange(a)&&(a=h.unhangRange(e,a));var i=h.nodes(e,{at:a,match:s,mode:o,voids:n}),u=Array.from(i,f=>{var[,c]=f;return h.pathRef(e,c)});for(var l of u){var d=l.unref();if(d){var[p]=h.node(e,d);e.apply({type:"remove_node",path:d,node:p})}}}})},setNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:a=!1,mode:s="lowest",split:i=!1,voids:u=!1}=r;if(!!o){if(n==null&&(n=x.isPath(o)?Pr(e,o):P=>h.isBlock(e,P)),!a&&N.isRange(o)&&(o=h.unhangRange(e,o)),i&&N.isRange(o)){if(N.isCollapsed(o)&&h.leaf(e,o.anchor)[0].text.length>0)return;var l=h.rangeRef(e,o,{affinity:"inward"}),[d,p]=N.edges(o),f=s==="lowest"?"lowest":"highest",c=h.isEnd(e,p,p.path);I.splitNodes(e,{at:p,match:n,mode:f,voids:u,always:!c});var g=h.isStart(e,d,d.path);I.splitNodes(e,{at:d,match:n,mode:f,voids:u,always:!g}),o=l.unref(),r.at==null&&I.select(e,o)}for(var[v,C]of h.nodes(e,{at:o,match:n,mode:s,voids:u})){var B={},E={};if(C.length!==0){var F=!1;for(var w in t)w==="children"||w==="text"||t[w]!==v[w]&&(F=!0,v.hasOwnProperty(w)&&(B[w]=v[w]),t[w]!=null&&(E[w]=t[w]));F&&e.apply({type:"set_node",path:C,properties:B,newProperties:E})}}}})},splitNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection,height:s=0,always:i=!1}=t;if(o==null&&(o=j=>h.isBlock(e,j)),N.isRange(a)&&(a=Av(e,a)),x.isPath(a)){var u=a,l=h.point(e,u),[d]=h.parent(e,u);o=j=>j===d,s=l.path.length-u.length+1,a=l,i=!0}if(!!a){var p=h.pointRef(e,a,{affinity:"backward"}),[f]=h.nodes(e,{at:a,match:o,mode:r,voids:n});if(!!f){var c=h.void(e,{at:a,mode:"highest"}),g=0;if(!n&&c){var[v,C]=c;if(ce.isElement(v)&&e.isInline(v)){var B=h.after(e,C);if(!B){var E={text:""},F=x.next(C);I.insertNodes(e,E,{at:F,voids:n}),B=h.point(e,F)}a=B,i=!0}var w=a.path.length-C.length;s=w+1,i=!0}var P=h.pointRef(e,a),_=a.path.length-s,[,T]=f,m=a.path.slice(0,_),b=s===0?a.offset:a.path[_]+g;for(var[y,A]of h.levels(e,{at:m,reverse:!0,voids:n})){var $=!1;if(A.length<T.length||A.length===0||!n&&h.isVoid(e,y))break;var k=p.current,L=h.isEnd(e,k,A);if(i||!p||!h.isEdge(e,k,A)){$=!0;var R=H.extractProps(y);e.apply({type:"split_node",path:A,position:b,properties:R})}b=A[A.length-1]+($||L?1:0)}if(t.at==null){var S=P.current||h.end(e,[]);I.select(e,S)}p.unref(),P.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;I.setNodes(e,n,r)},unwrapNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:a=e.selection,match:s}=t;if(!!a){s==null&&(s=x.isPath(a)?Pr(e,a):f=>h.isBlock(e,f)),x.isPath(a)&&(a=h.range(e,a));var i=N.isRange(a)?h.rangeRef(e,a):null,u=h.nodes(e,{at:a,match:s,mode:r,voids:o}),l=Array.from(u,f=>{var[,c]=f;return h.pathRef(e,c)}).reverse(),d=function(c){var g=c.unref(),[v]=h.node(e,g),C=h.range(e,g);n&&i&&(C=N.intersection(i.current,C)),I.liftNodes(e,{at:C,match:B=>ce.isAncestor(v)&&v.children.includes(B),voids:o})};for(var p of l)d(p);i&&i.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:a=!1}=r,{match:s,at:i=e.selection}=r;if(!!i){if(s==null&&(x.isPath(i)?s=Pr(e,i):e.isInline(t)?s=C=>h.isInline(e,C)||Z.isText(C):s=C=>h.isBlock(e,C)),o&&N.isRange(i)){var[u,l]=N.edges(i),d=h.rangeRef(e,i,{affinity:"inward"});I.splitNodes(e,{at:l,match:s,voids:a}),I.splitNodes(e,{at:u,match:s,voids:a}),i=d.unref(),r.at==null&&I.select(e,i)}var p=Array.from(h.nodes(e,{at:i,match:e.isInline(t)?C=>h.isBlock(e,C):C=>h.isEditor(C),mode:"lowest",voids:a}));for(var[,f]of p){var c=N.isRange(i)?N.intersection(i,h.range(e,f)):i;if(!!c){var g=Array.from(h.nodes(e,{at:c,match:s,mode:n,voids:a}));if(g.length>0){var v=function(){var[C]=g,B=g[g.length-1],[,E]=C,[,F]=B;if(E.length===0&&F.length===0)return"continue";var w=x.equals(E,F)?x.parent(E):x.common(E,F),P=h.range(e,E,F),_=h.node(e,w),[T]=_,m=w.length+1,b=x.next(F.slice(0,m)),y=xi(xi({},t),{},{children:[]});I.insertNodes(e,y,{at:b,voids:a}),I.moveNodes(e,{at:P,match:A=>ce.isAncestor(T)&&T.children.includes(A),to:b.concat(0),voids:a})}();if(v==="continue")continue}}}}})}},Yu=(e,t)=>{if(ce.isElement(t)){var r=t;return h.isVoid(e,t)?!0:r.children.length===1?Yu(e,r.children[0]):!1}else return!h.isEditor(t)},Av=(e,t)=>{if(N.isCollapsed(t))return t.anchor;var[,r]=N.edges(t),n=h.pointRef(e,r);return I.delete(e,{at:t}),n.unref()},Pr=(e,t)=>{var[r]=h.node(e,t);return n=>n===r};function Ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ai(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Fv={collapse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n){if(r==="anchor")I.select(e,n.anchor);else if(r==="focus")I.select(e,n.focus);else if(r==="start"){var[o]=N.edges(n);I.select(e,o)}else if(r==="end"){var[,a]=N.edges(n);I.select(e,a)}}else return},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:a=!1}=t,{edge:s=null}=t;if(!!r){s==="start"&&(s=N.isBackward(r)?"focus":"anchor"),s==="end"&&(s=N.isBackward(r)?"anchor":"focus");var{anchor:i,focus:u}=r,l={distance:n,unit:o},d={};if(s==null||s==="anchor"){var p=a?h.before(e,i,l):h.after(e,i,l);p&&(d.anchor=p)}if(s==null||s==="focus"){var f=a?h.before(e,u,l):h.after(e,u,l);f&&(d.focus=f)}I.setSelection(e,d)}},select(e,t){var{selection:r}=e;if(t=h.range(e,t),r){I.setSelection(e,t);return}if(!N.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})},setPoint(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:n}=e,{edge:o="both"}=r;if(!!n){o==="start"&&(o=N.isBackward(n)?"focus":"anchor"),o==="end"&&(o=N.isBackward(n)?"anchor":"focus");var{anchor:a,focus:s}=n,i=o==="anchor"?a:s;I.setSelection(e,{[o==="anchor"?"anchor":"focus"]:Fi(Fi({},i),t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(!!r){for(var a in t)(a==="anchor"&&t.anchor!=null&&!ie.equals(t.anchor,r.anchor)||a==="focus"&&t.focus!=null&&!ie.equals(t.focus,r.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},_v={delete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:a=!1}=t,{at:s=e.selection,hanging:i=!1}=t;if(!!s){if(N.isRange(s)&&N.isCollapsed(s)&&(s=s.anchor),ie.isPoint(s)){var u=h.void(e,{at:s,mode:"highest"});if(!a&&u){var[,l]=u;s=l}else{var d={unit:n,distance:o},p=r?h.before(e,s,d)||h.start(e,[]):h.after(e,s,d)||h.end(e,[]);s={anchor:s,focus:p},i=!0}}if(x.isPath(s)){I.removeNodes(e,{at:s,voids:a});return}if(!N.isCollapsed(s)){if(!i){var[,f]=N.edges(s),c=h.end(e,[]);ie.equals(f,c)||(s=h.unhangRange(e,s,{voids:a}))}var[g,v]=N.edges(s),C=h.above(e,{match:te=>h.isBlock(e,te),at:g,voids:a}),B=h.above(e,{match:te=>h.isBlock(e,te),at:v,voids:a}),E=C&&B&&!x.equals(C[1],B[1]),F=x.equals(g.path,v.path),w=a?null:h.void(e,{at:g,mode:"highest"}),P=a?null:h.void(e,{at:v,mode:"highest"});if(w){var _=h.before(e,g);_&&C&&x.isAncestor(C[1],_.path)&&(g=_)}if(P){var T=h.after(e,v);T&&B&&x.isAncestor(B[1],T.path)&&(v=T)}var m=[],b;for(var y of h.nodes(e,{at:s,voids:a})){var[A,$]=y;b&&x.compare($,b)===0||(!a&&h.isVoid(e,A)||!x.isCommon($,g.path)&&!x.isCommon($,v.path))&&(m.push(y),b=$)}var k=Array.from(m,te=>{var[,oe]=te;return h.pathRef(e,oe)}),L=h.pointRef(e,g),R=h.pointRef(e,v);if(!F&&!w){var S=L.current,[j]=h.leaf(e,S),{path:M}=S,{offset:W}=g,q=j.text.slice(W);q.length>0&&e.apply({type:"remove_text",path:M,offset:W,text:q})}for(var K of k){var J=K.unref();I.removeNodes(e,{at:J,voids:a})}if(!P){var re=R.current,[U]=h.leaf(e,re),{path:Y}=re,X=F?g.offset:0,ee=U.text.slice(X,v.offset);ee.length>0&&e.apply({type:"remove_text",path:Y,offset:X,text:ee})}!F&&E&&R.current&&L.current&&I.mergeNodes(e,{at:R.current,hanging:!0,voids:a});var Q=r?L.unref()||R.unref():R.unref()||L.unref();t.at==null&&Q&&I.select(e,Q)}}})},insertFragment(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:a=e.selection}=r;if(!!t.length){if(a)if(N.isRange(a))if(n||(a=h.unhangRange(e,a)),N.isCollapsed(a))a=a.anchor;else{var[,s]=N.edges(a);if(!o&&h.void(e,{at:s}))return;var i=h.pointRef(e,s);I.delete(e,{at:a}),a=i.unref()}else x.isPath(a)&&(a=h.start(e,a));else return;if(!(!o&&h.void(e,{at:a}))){var u=h.above(e,{at:a,match:U=>h.isInline(e,U),mode:"highest",voids:o});if(u){var[,l]=u;if(h.isEnd(e,a,l)){var d=h.after(e,l);a=d}else if(h.isStart(e,a,l)){var p=h.before(e,l);a=p}}var f=h.above(e,{match:U=>h.isBlock(e,U),at:a,voids:o}),[,c]=f,g=h.isStart(e,a,c),v=h.isEnd(e,a,c),C=g&&v,B=!g||g&&v,E=!v,[,F]=H.first({children:t},[]),[,w]=H.last({children:t},[]),P=[],_=U=>{var[Y,X]=U,ee=X.length===0;return ee?!1:C?!0:!(B&&x.isAncestor(X,F)&&ce.isElement(Y)&&!e.isVoid(Y)&&!e.isInline(Y)||E&&x.isAncestor(X,w)&&ce.isElement(Y)&&!e.isVoid(Y)&&!e.isInline(Y))};for(var T of H.nodes({children:t},{pass:_}))_(T)&&P.push(T);var m=[],b=[],y=[],A=!0,$=!1;for(var[k]of P)ce.isElement(k)&&!e.isInline(k)?(A=!1,$=!0,b.push(k)):A?m.push(k):y.push(k);var[L]=h.nodes(e,{at:a,match:U=>Z.isText(U)||h.isInline(e,U),mode:"highest",voids:o}),[,R]=L,S=h.isStart(e,a,R),j=h.isEnd(e,a,R),M=h.pathRef(e,v?x.next(c):c),W=h.pathRef(e,j?x.next(R):R),q=h.pathRef(e,c);I.splitNodes(e,{at:a,match:U=>$?h.isBlock(e,U):Z.isText(U)||h.isInline(e,U),mode:$?"lowest":"highest",voids:o});var K=h.pathRef(e,!S||S&&j?x.next(R):R);if(I.insertNodes(e,m,{at:K.current,match:U=>Z.isText(U)||h.isInline(e,U),mode:"highest",voids:o}),C&&b.length&&I.delete(e,{at:q.unref(),voids:o}),I.insertNodes(e,b,{at:M.current,match:U=>h.isBlock(e,U),mode:"lowest",voids:o}),I.insertNodes(e,y,{at:W.current,match:U=>Z.isText(U)||h.isInline(e,U),mode:"highest",voids:o}),!r.at){var J;y.length>0?J=x.previous(W.current):b.length>0?J=x.previous(M.current):J=x.previous(K.current);var re=h.end(e,J);I.select(e,re)}K.unref(),M.unref(),W.unref()}}})},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(!!o){if(x.isPath(o)&&(o=h.range(e,o)),N.isRange(o))if(N.isCollapsed(o))o=o.anchor;else{var a=N.end(o);if(!n&&h.void(e,{at:a}))return;var s=N.start(o),i=h.pointRef(e,s);I.delete(e,{at:o,voids:n}),o=i.unref(),I.setSelection(e,{anchor:o,focus:o})}if(!(!n&&h.void(e,{at:o}))){var{path:u,offset:l}=o;t.length>0&&e.apply({type:"insert_text",path:u,offset:l,text:t})}}})}};function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_i(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var I=kn(kn(kn(kn({},yv),xv),Fv),_v),Xu=Sv,Zu="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",Qu="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",Ov=new RegExp("^[^"+Qu+"]*["+Zu+"]"),Pv=new RegExp("^[^"+Zu+"]*["+Qu+"]");function Sv(e){return e=String(e||""),Ov.test(e)?"rtl":Pv.test(e)?"ltr":"neutral"}function kv(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ya=kv,Rv=typeof wn=="object"&&wn&&wn.Object===Object&&wn,Tv=Rv,$v=Tv,Nv=typeof self=="object"&&self&&self.Object===Object&&self,Mv=$v||Nv||Function("return this")(),el=Mv,Iv=el,Lv=function(){return Iv.Date.now()},jv=Lv,zv=/\s/;function Wv(e){for(var t=e.length;t--&&zv.test(e.charAt(t)););return t}var Vv=Wv,Hv=Vv,Uv=/^\s+/;function qv(e){return e&&e.slice(0,Hv(e)+1).replace(Uv,"")}var Kv=qv,Gv=el,Jv=Gv.Symbol,tl=Jv,Oi=tl,rl=Object.prototype,Yv=rl.hasOwnProperty,Xv=rl.toString,en=Oi?Oi.toStringTag:void 0;function Zv(e){var t=Yv.call(e,en),r=e[en];try{e[en]=void 0;var n=!0}catch{}var o=Xv.call(e);return n&&(t?e[en]=r:delete e[en]),o}var Qv=Zv,eg=Object.prototype,tg=eg.toString;function rg(e){return tg.call(e)}var ng=rg,Pi=tl,og=Qv,ag=ng,sg="[object Null]",ig="[object Undefined]",Si=Pi?Pi.toStringTag:void 0;function ug(e){return e==null?e===void 0?ig:sg:Si&&Si in Object(e)?og(e):ag(e)}var lg=ug;function cg(e){return e!=null&&typeof e=="object"}var fg=cg,dg=lg,pg=fg,hg="[object Symbol]";function vg(e){return typeof e=="symbol"||pg(e)&&dg(e)==hg}var gg=vg,mg=Kv,ki=Ya,Dg=gg,Ri=0/0,Cg=/^[-+]0x[0-9a-f]+$/i,bg=/^0b[01]+$/i,Bg=/^0o[0-7]+$/i,yg=parseInt;function Eg(e){if(typeof e=="number")return e;if(Dg(e))return Ri;if(ki(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ki(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mg(e);var r=bg.test(e);return r||Bg.test(e)?yg(e.slice(2),r?2:8):Cg.test(e)?Ri:+e}var wg=Eg,xg=Ya,$o=jv,Ti=wg,Ag="Expected a function",Fg=Math.max,_g=Math.min;function Og(e,t,r){var n,o,a,s,i,u,l=0,d=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError(Ag);t=Ti(t)||0,xg(r)&&(d=!!r.leading,p="maxWait"in r,a=p?Fg(Ti(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function c(_){var T=n,m=o;return n=o=void 0,l=_,s=e.apply(m,T),s}function g(_){return l=_,i=setTimeout(B,t),d?c(_):s}function v(_){var T=_-u,m=_-l,b=t-T;return p?_g(b,a-m):b}function C(_){var T=_-u,m=_-l;return u===void 0||T>=t||T<0||p&&m>=a}function B(){var _=$o();if(C(_))return E(_);i=setTimeout(B,v(_))}function E(_){return i=void 0,f&&n?c(_):(n=o=void 0,s)}function F(){i!==void 0&&clearTimeout(i),l=0,n=u=o=i=void 0}function w(){return i===void 0?s:E($o())}function P(){var _=$o(),T=C(_);if(n=arguments,o=this,u=_,T){if(i===void 0)return g(u);if(p)return clearTimeout(i),i=setTimeout(B,t),c(u)}return i===void 0&&(i=setTimeout(B,t)),s}return P.cancel=F,P.flush=w,P}var Xa=Og,Pg=Xa,Sg=Ya,kg="Expected a function";function Rg(e,t,r){var n=!0,o=!0;if(typeof e!="function")throw new TypeError(kg);return Sg(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Pg(e,t,{leading:n,maxWait:t,trailing:o})}var nl=Rg;function $i(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Ni(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function No(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return Ni(r.overflowY,t)||Ni(r.overflowX,t)||function(n){var o=function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!o&&(o.clientHeight<n.scrollHeight||o.clientWidth<n.scrollWidth)}(e)}return!1}function Rn(e,t,r,n,o,a,s,i){return a<e&&s>t||a>e&&s<t?0:a<=e&&i<=r||s>=t&&i>=r?a-e-n:s>t&&i<r||a<e&&i>r?s-t+o:0}function Mi(e,t){var r=window,n=t.scrollMode,o=t.block,a=t.inline,s=t.boundary,i=t.skipOverflowHiddenElements,u=typeof s=="function"?s:function(oe){return oe!==s};if(!$i(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,d=[],p=e;$i(p)&&u(p);){if((p=p.parentElement)===l){d.push(p);break}p!=null&&p===document.body&&No(p)&&!No(document.documentElement)||p!=null&&No(p,i)&&d.push(p)}for(var f=r.visualViewport?r.visualViewport.width:innerWidth,c=r.visualViewport?r.visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,C=e.getBoundingClientRect(),B=C.height,E=C.width,F=C.top,w=C.right,P=C.bottom,_=C.left,T=o==="start"||o==="nearest"?F:o==="end"?P:F+B/2,m=a==="center"?_+E/2:a==="end"?w:_,b=[],y=0;y<d.length;y++){var A=d[y],$=A.getBoundingClientRect(),k=$.height,L=$.width,R=$.top,S=$.right,j=$.bottom,M=$.left;if(n==="if-needed"&&F>=0&&_>=0&&P<=c&&w<=f&&F>=R&&P<=j&&_>=M&&w<=S)return b;var W=getComputedStyle(A),q=parseInt(W.borderLeftWidth,10),K=parseInt(W.borderTopWidth,10),J=parseInt(W.borderRightWidth,10),re=parseInt(W.borderBottomWidth,10),U=0,Y=0,X="offsetWidth"in A?A.offsetWidth-A.clientWidth-q-J:0,ee="offsetHeight"in A?A.offsetHeight-A.clientHeight-K-re:0;if(l===A)U=o==="start"?T:o==="end"?T-c:o==="nearest"?Rn(v,v+c,c,K,re,v+T,v+T+B,B):T-c/2,Y=a==="start"?m:a==="center"?m-f/2:a==="end"?m-f:Rn(g,g+f,f,q,J,g+m,g+m+E,E),U=Math.max(0,U+v),Y=Math.max(0,Y+g);else{U=o==="start"?T-R-K:o==="end"?T-j+re+ee:o==="nearest"?Rn(R,j,k,K,re+ee,T,T+B,B):T-(R+k/2)+ee/2,Y=a==="start"?m-M-q:a==="center"?m-(M+L/2)+X/2:a==="end"?m-S+J+X:Rn(M,S,L,q,J+X,m,m+E,E);var Q=A.scrollLeft,te=A.scrollTop;T+=te-(U=Math.max(0,Math.min(te+U,A.scrollHeight-k+ee))),m+=Q-(Y=Math.max(0,Math.min(Q+Y,A.scrollWidth-L+X)))}b.push({el:A,top:U,left:Y})}return b}function ol(e){return e===Object(e)&&Object.keys(e).length!==0}function Tg(e,t){t===void 0&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach(function(n){var o=n.el,a=n.top,s=n.left;o.scroll&&r?o.scroll({top:a,left:s,behavior:t}):(o.scrollTop=a,o.scrollLeft=s)})}function $g(e){return e===!1?{block:"end",inline:"nearest"}:ol(e)?e:{block:"start",inline:"nearest"}}function al(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(ol(t)&&typeof t.behavior=="function")return t.behavior(r?Mi(e,t):[]);if(!!r){var n=$g(t);return Tg(Mi(e,n),n.behavior)}}var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});var Ng=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Mo={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Mg={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Ng?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},sl={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Tn=1;Tn<20;Tn++)sl["f"+Tn]=111+Tn;function Co(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return il(s,t)}),o=function(i){return n.some(function(u){return ul(u,i)})},a=r==null?o:o(r);return a}function Ig(e,t){return Co(e,t)}function Lg(e,t){return Co(e,{byKey:!0},t)}function il(e,t){var r=t&&t.byKey,n={};e=e.replace("++","+add");var o=e.split("+"),a=o.length;for(var s in Mo)n[Mo[s]]=!1;var i=!0,u=!1,l=void 0;try{for(var d=o[Symbol.iterator](),p;!(i=(p=d.next()).done);i=!0){var f=p.value,c=f.endsWith("?")&&f.length>1;c&&(f=f.slice(0,-1));var g=Za(f),v=Mo[g];(a===1||!v)&&(r?n.key=g:n.which=ll(f)),v&&(n[v]=c?null:!0)}}catch(C){u=!0,l=C}finally{try{!i&&d.return&&d.return()}finally{if(u)throw l}}return n}function ul(e,t){for(var r in e){var n=e[r],o=void 0;if(n!=null&&(r==="key"&&t.key!=null?o=t.key.toLowerCase():r==="which"?o=n===91&&t.which===93?91:t.which:o=t[r],!(o==null&&n===!1)&&o!==n))return!1}return!0}function ll(e){e=Za(e);var t=sl[e]||e.toUpperCase().charCodeAt(0);return t}function Za(e){return e=e.toLowerCase(),e=Mg[e]||e,e}Zt.default=Co;Zt.isHotkey=Co;Zt.isCodeHotkey=Ig;var Io=Zt.isKeyHotkey=Lg;Zt.parseHotkey=il;Zt.compareHotkey=ul;Zt.toKeyCode=ll;Zt.toKeyName=Za;function cl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jg(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function dn(e,t){if(e==null)return{};var r=jg(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}var zg=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ii=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent),Qa=typeof navigator!="undefined"&&/Android/.test(navigator.userAgent),la=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Lo=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Wg=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),fl=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),Vg=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Hg=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Ug=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),qg=typeof navigator!="undefined"&&/.*UCBrowser/.test(navigator.userAgent),Kg=typeof navigator!="undefined"&&/.*Wechat/.test(navigator.userAgent),qn=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",tr=!Vg&&!Wg&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Ft=qn?O.exports.useLayoutEffect:O.exports.useEffect,Gg=e=>{var{isLast:t,leaf:r,parent:n,text:o}=e,a=dr(),s=z.findPath(a,o),i=x.parent(s);return a.isVoid(n)?D(jo,{length:H.string(n).length}):r.text===""&&n.children[n.children.length-1]===o&&!a.isInline(n)&&h.string(a,i)===""?D(jo,{isLineBreak:!0}):r.text===""?D(jo,{}):t&&r.text.slice(-1)===`
`?D(Li,{isTrailing:!0,text:r.text}):D(Li,{text:r.text})},Li=e=>{var{text:t,isTrailing:r=!1}=e,n=O.exports.useRef(null),o=()=>"".concat(t!=null?t:"").concat(r?`
`:"");return Ft(()=>{var a=o();n.current&&n.current.textContent!==a&&(n.current.textContent=a)}),n.current?D("span",{"data-slate-string":!0,ref:n}):D("span",{"data-slate-string":!0,ref:n,children:o()})},jo=e=>{var{length:t=0,isLineBreak:r=!1}=e;return pe("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t,children:["\uFEFF",r?D("br",{}):null]})},es=new WeakMap,ts=new WeakMap,rs=new WeakMap,pn=new WeakMap,qr=new WeakMap,lr=new WeakMap,ca=new WeakMap,bo=new WeakMap,Bo=new WeakMap,At=new WeakMap,Kn=new WeakMap,fa=new WeakMap,da=new WeakMap,pa=new WeakMap,ha=new WeakMap,Er=Symbol("placeholder"),Jg=e=>{var{leaf:t,isLast:r,text:n,parent:o,renderPlaceholder:a,renderLeaf:s=p=>D(Xg,{...Object.assign({},p)})}=e,i=O.exports.useRef(null);O.exports.useEffect(()=>{var p=i==null?void 0:i.current,f=document.querySelector('[data-slate-editor="true"]');if(!(!p||!f))return f.style.minHeight="".concat(p.clientHeight,"px"),()=>{f.style.minHeight="auto"}},[i,t]);var u=D(Gg,{isLast:r,leaf:t,parent:o,text:n});if(t[Er]){var l={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:i}};u=pe(cr,{children:[a(l),u]})}var d={"data-slate-leaf":!0};return s({attributes:d,children:u,leaf:t,text:n})},Yg=G.memo(Jg,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Z.equals(t.leaf,e.leaf)&&t.leaf[Er]===e.leaf[Er]),Xg=e=>{var{attributes:t,children:r}=e;return D("span",{...Object.assign({},t),children:r})},Zg=["anchor","focus"],Qg=["anchor","focus"],e0=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>t.hasOwnProperty(r)&&e[r]===t[r]),dl=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r],a=dn(n,Zg),s=dn(o,Qg);if(!N.equals(n,o)||n[Er]!==o[Er]||!e0(a,s))return!1}return!0};function ns(e){var t=O.exports.useRef(0),r=O.exports.useRef(null),[,n]=O.exports.useState(0);return O.exports.useEffect(()=>(ha.set(e,()=>{r.current||(r.current=requestAnimationFrame(()=>{n(o=>o+1),r.current=null}),t.current++)}),()=>{ha.delete(e)}),[e]),r.current&&(cancelAnimationFrame(r.current),r.current=null),t.current}var t0=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:o,renderLeaf:a,text:s}=e,i=dr(),u=O.exports.useRef(null),l=Z.decorations(s,t),d=z.findKey(i,s),p=[],f=0;f<l.length;f++){var c=l[f];p.push(D(Yg,{isLast:r&&f===l.length-1,renderPlaceholder:o,leaf:c,text:s,parent:n,renderLeaf:a},"".concat(d.id,"-").concat(f)))}Ft(()=>{var v=bo.get(i);u.current?(v==null||v.set(d,u.current),lr.set(s,u.current),qr.set(u.current,s)):(v==null||v.delete(d),lr.delete(s))});var g=Qa?ns(s):void 0;return D("span",{"data-slate-node":"text",ref:u,children:p},g)},pl=G.memo(t0,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&dl(t.decorations,e.decorations)),r0=e=>{var{decorations:t,element:r,renderElement:n=F=>D(o0,{...Object.assign({},F)}),renderPlaceholder:o,renderLeaf:a,selection:s}=e,i=O.exports.useRef(null),u=dr(),l=c0(),d=u.isInline(r),p=z.findKey(u,r),f=as({decorations:t,node:r,renderElement:n,renderPlaceholder:o,renderLeaf:a,selection:s}),c={"data-slate-node":"element",ref:i};if(d&&(c["data-slate-inline"]=!0),!d&&h.hasInlines(u,r)){var g=H.string(r),v=Xu(g);v==="rtl"&&(c.dir=v)}if(h.isVoid(u,r)){c["data-slate-void"]=!0,!l&&d&&(c.contentEditable=!1);var C=d?"span":"div",[[B]]=H.texts(r);f=l?null:D(C,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"},children:D(pl,{renderPlaceholder:o,decorations:[],isLast:!1,parent:r,text:B})}),es.set(B,0),ts.set(B,r)}Ft(()=>{var F=bo.get(u);i.current?(F==null||F.set(p,i.current),lr.set(r,i.current),qr.set(i.current,r)):(F==null||F.delete(p),lr.delete(r))});var E=n({attributes:c,children:f,element:r});return Qa?(ns(r),D(cr,{children:E})):E},n0=G.memo(r0,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&dl(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&N.equals(e.selection,t.selection))),o0=e=>{var{attributes:t,children:r,element:n}=e,o=dr(),a=o.isInline(n)?"span":"div";return D(a,{...Object.assign({},t,{style:{position:"relative"}}),children:r})},hl=O.exports.createContext(null),dr=()=>{var e=O.exports.useContext(hl);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},os=O.exports.createContext(()=>[]),a0=()=>O.exports.useContext(os),s0=O.exports.createContext(!1),as=e=>{for(var{decorations:t,node:r,renderElement:n,renderPlaceholder:o,renderLeaf:a,selection:s}=e,i=a0(),u=dr(),l=z.findPath(u,r),d=[],p=ce.isElement(r)&&!u.isInline(r)&&h.hasInlines(u,r),f=0;f<r.children.length;f++){var c=l.concat(f),g=r.children[f],v=z.findKey(u,g),C=h.range(u,c),B=s&&N.intersection(C,s),E=i([g,c]);for(var F of t){var w=N.intersection(F,C);w&&E.push(w)}ce.isElement(g)?d.push(D(s0.Provider,{value:!!B,children:D(n0,{decorations:E,element:g,renderElement:n,renderPlaceholder:o,renderLeaf:a,selection:B},v.id)},"provider-".concat(v.id))):d.push(D(pl,{decorations:E,isLast:p&&f===r.children.length-1,parent:r,renderPlaceholder:o,renderLeaf:a,text:g},v.id)),es.set(g,f),ts.set(g,r)}return d},i0={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},u0={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},l0={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Ce=e=>{var t=i0[e],r=u0[e],n=l0[e],o=t&&Io(t),a=r&&Io(r),s=n&&Io(n);return i=>!!(o&&o(i)||Ii&&a&&a(i)||!Ii&&s&&s(i))},Ee={isBold:Ce("bold"),isCompose:Ce("compose"),isMoveBackward:Ce("moveBackward"),isMoveForward:Ce("moveForward"),isDeleteBackward:Ce("deleteBackward"),isDeleteForward:Ce("deleteForward"),isDeleteLineBackward:Ce("deleteLineBackward"),isDeleteLineForward:Ce("deleteLineForward"),isDeleteWordBackward:Ce("deleteWordBackward"),isDeleteWordForward:Ce("deleteWordForward"),isExtendBackward:Ce("extendBackward"),isExtendForward:Ce("extendForward"),isExtendLineBackward:Ce("extendLineBackward"),isExtendLineForward:Ce("extendLineForward"),isItalic:Ce("italic"),isMoveLineBackward:Ce("moveLineBackward"),isMoveLineForward:Ce("moveLineForward"),isMoveWordBackward:Ce("moveWordBackward"),isMoveWordForward:Ce("moveWordForward"),isRedo:Ce("redo"),isSplitBlock:Ce("splitBlock"),isTransposeCharacter:Ce("transposeCharacter"),isUndo:Ce("undo")},ss=O.exports.createContext(!1),c0=()=>O.exports.useContext(ss),vl=O.exports.createContext(null),gl=()=>{var e=O.exports.useContext(vl);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var[t]=e;return t},yo=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,f0=e=>Yt(e)&&e.nodeType===8,rt=e=>Yt(e)&&e.nodeType===1,Yt=e=>{var t=yo(e);return!!t&&e instanceof t.Node},ji=e=>{var t=e&&e.anchorNode&&yo(e.anchorNode);return!!t&&e instanceof t.Selection},ml=e=>Yt(e)&&e.nodeType===3,d0=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,p0=e=>{var[t,r]=e;if(rt(t)&&t.childNodes.length){var n=r===t.childNodes.length,o=n?r-1:r;for([t,o]=Dl(t,o,n?"backward":"forward"),n=o<r;rt(t)&&t.childNodes.length;){var a=n?t.childNodes.length-1:0;t=v0(t,a,n?"backward":"forward")}r=n&&t.textContent!=null?t.textContent.length:0}return[t,r]},h0=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),Dl=(e,t,r)=>{for(var{childNodes:n}=e,o=n[t],a=t,s=!1,i=!1;(f0(o)||rt(o)&&o.childNodes.length===0||rt(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&i);){if(a>=n.length){s=!0,a=t-1,r="backward";continue}if(a<0){i=!0,a=t+1,r="forward";continue}o=n[a],t=a,a+=r==="forward"?1:-1}return[o,t]},v0=(e,t,r)=>{var[n]=Dl(e,t,r);return n},Cl=e=>{var t="";if(ml(e)&&e.nodeValue)return e.nodeValue;if(rt(e)){for(var r of Array.from(e.childNodes))t+=Cl(r);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t},g0=/data-slate-fragment="(.+?)"/m,bl=e=>{var t=e.getData("text/html"),[,r]=t.match(g0)||[];return r},m0=e=>{if(!e.getData("application/x-slate-fragment")){var t=bl(e);if(t){var r=new DataTransfer;return e.types.forEach(n=>{r.setData(n,e.getData(n))}),r.setData("application/x-slate-fragment",t),r}}return e},D0=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zi(Object(r),!0).forEach(function(n){cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var C0=e=>D(cr,{children:as(e)}),b0=e=>{var{autoFocus:t,decorate:r=yl,onDOMBeforeInput:n,placeholder:o,readOnly:a=!1,renderElement:s,renderLeaf:i,renderPlaceholder:u=m=>D(Bl,{...Object.assign({},m)}),scrollSelectionIntoView:l=B0,style:d={},as:p="div"}=e,f=dn(e,D0),c=gl(),[g,v]=O.exports.useState(!1),C=O.exports.useRef(null),B=O.exports.useRef([]);Bo.set(c,a);var E=O.exports.useMemo(()=>({isComposing:!1,hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}),[]);Ft(()=>{var m;C.current&&(m=yo(C.current))?(rs.set(c,m),pn.set(c,C.current),lr.set(c,C.current),qr.set(C.current,c)):lr.delete(c);var{selection:b}=c,y=z.findDocumentOrShadowRoot(c),A=y.getSelection();if(!(E.isComposing||!A||!z.isFocused(c))){var $=A.type!=="None";if(!(!b&&!$)){var k=pn.get(c),L=!1;if(k.contains(A.anchorNode)&&k.contains(A.focusNode)&&(L=!0),$&&L&&b){var R=z.toSlateRange(c,A,{exactMatch:!0,suppressThrow:!0});if(R&&N.equals(R,b))return}if(b&&!z.hasRange(c,b)){c.selection=z.toSlateRange(c,A,{exactMatch:!1,suppressThrow:!1});return}E.isUpdatingSelection=!0;var S=b&&z.toDOMRange(c,b);S?(N.isBackward(b)?A.setBaseAndExtent(S.endContainer,S.endOffset,S.startContainer,S.startOffset):A.setBaseAndExtent(S.startContainer,S.startOffset,S.endContainer,S.endOffset),l(c,S)):A.removeAllRanges(),setTimeout(()=>{if(S&&la){var j=z.toDOMNode(c,c);j.focus()}E.isUpdatingSelection=!1})}}}),O.exports.useEffect(()=>{C.current&&t&&C.current.focus()},[t]);var F=O.exports.useCallback(nl(()=>{if(!E.isComposing&&!E.isUpdatingSelection&&!E.isDraggingInternally){var m=z.findDocumentOrShadowRoot(c),{activeElement:b}=m,y=z.toDOMNode(c,c),A=m.getSelection();if(b===y?(E.latestElement=b,At.set(c,!0)):At.delete(c),!A)return I.deselect(c);var{anchorNode:$,focusNode:k}=A,L=De(c,$)||so(c,$),R=De(c,k)||so(c,k);if(L&&R){var S=z.toSlateRange(c,A,{exactMatch:!1,suppressThrow:!1});I.select(c,S)}}},100),[a]),w=O.exports.useMemo(()=>Xa(F,0),[F]),P=O.exports.useCallback(m=>{if(!a&&De(c,m.target)&&!El(m,n)){w.flush(),F.flush();var{selection:b}=c,{inputType:y}=m,A=m.dataTransfer||m.data||void 0;if(y==="insertCompositionText"||y==="deleteCompositionText")return;var $=!1;if(y==="insertText"&&b&&N.isCollapsed(b)&&m.data&&m.data.length===1&&/[a-z ]/i.test(m.data)&&b.anchor.offset!==0){$=!0,c.marks&&($=!1);var{anchor:k}=b,L=h.above(c,{at:k,match:W=>h.isInline(c,W),mode:"highest"});if(L){var[,R]=L;h.isEnd(c,b.anchor,R)&&($=!1)}}if($||m.preventDefault(),!y.startsWith("delete")||y.startsWith("deleteBy")){var[S]=m.getTargetRanges();if(S){var j=z.toSlateRange(c,S,{exactMatch:!1,suppressThrow:!1});(!b||!N.equals(b,j))&&I.select(c,j)}}if(b&&N.isExpanded(b)&&y.startsWith("delete")){var M=y.endsWith("Backward")?"backward":"forward";h.deleteFragment(c,{direction:M});return}switch(y){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{h.deleteFragment(c);break}case"deleteContent":case"deleteContentForward":{h.deleteForward(c);break}case"deleteContentBackward":{h.deleteBackward(c);break}case"deleteEntireSoftLine":{h.deleteBackward(c,{unit:"line"}),h.deleteForward(c,{unit:"line"});break}case"deleteHardLineBackward":{h.deleteBackward(c,{unit:"block"});break}case"deleteSoftLineBackward":{h.deleteBackward(c,{unit:"line"});break}case"deleteHardLineForward":{h.deleteForward(c,{unit:"block"});break}case"deleteSoftLineForward":{h.deleteForward(c,{unit:"line"});break}case"deleteWordBackward":{h.deleteBackward(c,{unit:"word"});break}case"deleteWordForward":{h.deleteForward(c,{unit:"word"});break}case"insertLineBreak":case"insertParagraph":{h.insertBreak(c);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{y==="insertFromComposition"&&(E.isComposing&&v(!1),E.isComposing=!1),(A==null?void 0:A.constructor.name)==="DataTransfer"?z.insertData(c,A):typeof A=="string"&&($?B.current.push(()=>h.insertText(c,A)):h.insertText(c,A));break}}}},[a,n]);Ft(()=>(C.current&&tr&&C.current.addEventListener("beforeinput",P),()=>{C.current&&tr&&C.current.removeEventListener("beforeinput",P)}),[P]),Ft(()=>{var m=z.getWindow(c);return m.document.addEventListener("selectionchange",w),()=>{m.document.removeEventListener("selectionchange",w)}},[w]);var _=r([c,[]]);if(o&&c.children.length===1&&Array.from(H.texts(c)).length===1&&H.string(c)===""&&!g){var T=h.start(c,[]);_.push({[Er]:!0,placeholder:o,anchor:T,focus:T})}return D(ss.Provider,{value:a,children:D(os.Provider,{value:r,children:D(p,{...Object.assign({role:a?void 0:"textbox"},f,{spellCheck:tr||!qn?f.spellCheck:!1,autoCorrect:tr||!qn?f.autoCorrect:"false",autoCapitalize:tr||!qn?f.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:C,style:Wi({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},d),onBeforeInput:O.exports.useCallback(m=>{if(!tr&&!a&&!be(m,f.onBeforeInput)&&De(c,m.target)&&(m.preventDefault(),!E.isComposing)){var b=m.data;h.insertText(c,b)}},[a]),onInput:O.exports.useCallback(m=>{for(var b of B.current)b();B.current=[]},[]),onBlur:O.exports.useCallback(m=>{if(!(a||E.isUpdatingSelection||!De(c,m.target)||be(m,f.onBlur))){var b=z.findDocumentOrShadowRoot(c);if(E.latestElement!==b.activeElement){var{relatedTarget:y}=m,A=z.toDOMNode(c,c);if(y!==A&&!(rt(y)&&y.hasAttribute("data-slate-spacer"))){if(y!=null&&Yt(y)&&z.hasDOMNode(c,y)){var $=z.toSlateNode(c,y);if(ce.isElement($)&&!c.isVoid($))return}if(Lo){var k=b.getSelection();k==null||k.removeAllRanges()}At.delete(c)}}}},[a,f.onBlur]),onClick:O.exports.useCallback(m=>{if(!a&&vr(c,m.target)&&!be(m,f.onClick)&&Yt(m.target)){var b=z.toSlateNode(c,m.target),y=z.findPath(c,b);if(h.hasPath(c,y)){var A=H.get(c,y);if(A===b){var $=h.start(c,y),k=h.end(c,y),L=h.void(c,{at:$}),R=h.void(c,{at:k});if(L&&R&&x.equals(L[1],R[1])){var S=h.range(c,$);I.select(c,S)}}}}},[a,f.onClick]),onCompositionEnd:O.exports.useCallback(m=>{if(De(c,m.target)&&!be(m,f.onCompositionEnd)&&(E.isComposing&&v(!1),E.isComposing=!1,!Lo&&!Hg&&!zg&&!Ug&&!Kg&&!qg&&m.data&&h.insertText(c,m.data),c.selection&&N.isCollapsed(c.selection))){var b=c.selection.anchor.path,y=H.leaf(c,b);E.hasInsertPrefixInCompositon&&(E.hasInsertPrefixInCompositon=!1,h.withoutNormalizing(c,()=>{var A=y.text.replace(/^\uFEFF/,"");I.delete(c,{distance:y.text.length,reverse:!0}),h.insertText(c,A)}))}},[f.onCompositionEnd]),onCompositionUpdate:O.exports.useCallback(m=>{De(c,m.target)&&!be(m,f.onCompositionUpdate)&&(!E.isComposing&&v(!0),E.isComposing=!0)},[f.onCompositionUpdate]),onCompositionStart:O.exports.useCallback(m=>{if(De(c,m.target)&&!be(m,f.onCompositionStart)){var{selection:b,marks:y}=c;if(b){if(N.isExpanded(b)){h.deleteFragment(c);return}var A=h.above(c,{match:L=>h.isInline(c,L),mode:"highest"});if(A){var[,$]=A;if(h.isEnd(c,b.anchor,$)){var k=h.after(c,$);I.setSelection(c,{anchor:k,focus:k})}}y&&(E.hasInsertPrefixInCompositon=!0,I.insertNodes(c,Wi({text:"\uFEFF"},y),{select:!0}))}}},[f.onCompositionStart]),onCopy:O.exports.useCallback(m=>{De(c,m.target)&&!be(m,f.onCopy)&&(m.preventDefault(),z.setFragmentData(c,m.clipboardData,"copy"))},[f.onCopy]),onCut:O.exports.useCallback(m=>{if(!a&&De(c,m.target)&&!be(m,f.onCut)){m.preventDefault(),z.setFragmentData(c,m.clipboardData,"cut");var{selection:b}=c;if(b)if(N.isExpanded(b))h.deleteFragment(c);else{var y=H.parent(c,b.anchor.path);h.isVoid(c,y)&&I.delete(c)}}},[a,f.onCut]),onDragOver:O.exports.useCallback(m=>{if(vr(c,m.target)&&!be(m,f.onDragOver)){var b=z.toSlateNode(c,m.target);h.isVoid(c,b)&&m.preventDefault()}},[f.onDragOver]),onDragStart:O.exports.useCallback(m=>{if(!a&&vr(c,m.target)&&!be(m,f.onDragStart)){var b=z.toSlateNode(c,m.target),y=z.findPath(c,b),A=h.isVoid(c,b)||h.void(c,{at:y,voids:!0});if(A){var $=h.range(c,y);I.select(c,$)}E.isDraggingInternally=!0,z.setFragmentData(c,m.dataTransfer,"drag")}},[a,f.onDragStart]),onDrop:O.exports.useCallback(m=>{if(!a&&vr(c,m.target)&&!be(m,f.onDrop)){m.preventDefault();var b=c.selection,y=z.findEventRange(c,m),A=m.dataTransfer;I.select(c,y),E.isDraggingInternally&&b&&!N.equals(b,y)&&!h.void(c,{at:y,voids:!0})&&I.delete(c,{at:b}),z.insertData(c,A),z.isFocused(c)||z.focus(c)}E.isDraggingInternally=!1},[a,f.onDrop]),onDragEnd:O.exports.useCallback(m=>{!a&&E.isDraggingInternally&&f.onDragEnd&&vr(c,m.target)&&f.onDragEnd(m),E.isDraggingInternally=!1},[a,f.onDragEnd]),onFocus:O.exports.useCallback(m=>{if(!a&&!E.isUpdatingSelection&&De(c,m.target)&&!be(m,f.onFocus)){var b=z.toDOMNode(c,c),y=z.findDocumentOrShadowRoot(c);if(E.latestElement=y.activeElement,la&&m.target!==b){b.focus();return}At.set(c,!0)}},[a,f.onFocus]),onKeyDown:O.exports.useCallback(m=>{if(!a&&!E.isComposing&&De(c,m.target)&&!be(m,f.onKeyDown)){var{nativeEvent:b}=m,{selection:y}=c,A=c.children[y!==null?y.focus.path[0]:0],$=Xu(H.string(A))==="rtl";if(Ee.isRedo(b)){m.preventDefault();var k=c;typeof k.redo=="function"&&k.redo();return}if(Ee.isUndo(b)){m.preventDefault();var L=c;typeof L.undo=="function"&&L.undo();return}if(Ee.isMoveLineBackward(b)){m.preventDefault(),I.move(c,{unit:"line",reverse:!0});return}if(Ee.isMoveLineForward(b)){m.preventDefault(),I.move(c,{unit:"line"});return}if(Ee.isExtendLineBackward(b)){m.preventDefault(),I.move(c,{unit:"line",edge:"focus",reverse:!0});return}if(Ee.isExtendLineForward(b)){m.preventDefault(),I.move(c,{unit:"line",edge:"focus"});return}if(Ee.isMoveBackward(b)){m.preventDefault(),y&&N.isCollapsed(y)?I.move(c,{reverse:!$}):I.collapse(c,{edge:"start"});return}if(Ee.isMoveForward(b)){m.preventDefault(),y&&N.isCollapsed(y)?I.move(c,{reverse:$}):I.collapse(c,{edge:"end"});return}if(Ee.isMoveWordBackward(b)){m.preventDefault(),y&&N.isExpanded(y)&&I.collapse(c,{edge:"focus"}),I.move(c,{unit:"word",reverse:!$});return}if(Ee.isMoveWordForward(b)){m.preventDefault(),y&&N.isExpanded(y)&&I.collapse(c,{edge:"focus"}),I.move(c,{unit:"word",reverse:$});return}if(tr){if((fl||Lo)&&y&&(Ee.isDeleteBackward(b)||Ee.isDeleteForward(b))&&N.isCollapsed(y)){var R=H.parent(c,y.anchor.path);if(ce.isElement(R)&&h.isVoid(c,R)&&h.isInline(c,R)){m.preventDefault(),h.deleteBackward(c,{unit:"block"});return}}}else{if(Ee.isBold(b)||Ee.isItalic(b)||Ee.isTransposeCharacter(b)){m.preventDefault();return}if(Ee.isSplitBlock(b)){m.preventDefault(),h.insertBreak(c);return}if(Ee.isDeleteBackward(b)){m.preventDefault(),y&&N.isExpanded(y)?h.deleteFragment(c,{direction:"backward"}):h.deleteBackward(c);return}if(Ee.isDeleteForward(b)){m.preventDefault(),y&&N.isExpanded(y)?h.deleteFragment(c,{direction:"forward"}):h.deleteForward(c);return}if(Ee.isDeleteLineBackward(b)){m.preventDefault(),y&&N.isExpanded(y)?h.deleteFragment(c,{direction:"backward"}):h.deleteBackward(c,{unit:"line"});return}if(Ee.isDeleteLineForward(b)){m.preventDefault(),y&&N.isExpanded(y)?h.deleteFragment(c,{direction:"forward"}):h.deleteForward(c,{unit:"line"});return}if(Ee.isDeleteWordBackward(b)){m.preventDefault(),y&&N.isExpanded(y)?h.deleteFragment(c,{direction:"backward"}):h.deleteBackward(c,{unit:"word"});return}if(Ee.isDeleteWordForward(b)){m.preventDefault(),y&&N.isExpanded(y)?h.deleteFragment(c,{direction:"forward"}):h.deleteForward(c,{unit:"word"});return}}}},[a,f.onKeyDown]),onPaste:O.exports.useCallback(m=>{!a&&De(c,m.target)&&!be(m,f.onPaste)&&(!tr||d0(m.nativeEvent))&&(m.preventDefault(),z.insertData(c,m.clipboardData))},[a,f.onPaste])}),children:D(C0,{decorations:_,node:c,renderElement:s,renderPlaceholder:u,renderLeaf:i,selection:c.selection})})})})},Bl=e=>{var{attributes:t,children:r}=e;return D("span",{...Object.assign({},t),children:r})},yl=()=>[],B0=(e,t)=>{if(!e.selection||e.selection&&N.isCollapsed(e.selection)){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),al(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},vr=(e,t)=>Yt(t)&&z.hasDOMNode(e,t),De=(e,t)=>Yt(t)&&z.hasDOMNode(e,t,{editable:!0}),so=(e,t)=>{if(Bo.get(e))return!1;var r=vr(e,t)&&z.toSlateNode(e,t);return h.isVoid(e,r)},be=(e,t)=>{if(!t)return!1;var r=t(e);return r!=null?r:e.isDefaultPrevented()||e.isPropagationStopped()},El=(e,t)=>{if(!t)return!1;var r=t(e);return r!=null?r:e.defaultPrevented};function y0(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length!==t.length?r:null}function E0(e,t,r){for(var n=e.length,o=t.length,a=Math.min(n,o,r),s=0;s<a;s++){var i=e.charAt(n-s-1),u=t.charAt(o-s-1);if(i!==u)return s}return e.length!==t.length?a:null}function w0(e,t){if(e===t)return null;var r=y0(e,t);if(r===null)return null;var n=Math.min(e.length-r,t.length-r),o=E0(e,t,n);return o===null?null:{start:r,end:o}}function Vi(e,t){return e.slice(t.start,e.length-t.end)}function x0(e,t){if(e===void 0||t===void 0)return null;var r=w0(e,t);if(r==null)return null;var n=Vi(t,r),o=Vi(e,r);return{start:r.start,end:e.length-r.end,insertText:n,removeText:o}}function A0(e){return e.reduce((t,r)=>{var{text:n}=r;return"".concat(t).concat(n.insertText)},"")}function F0(e,t){var r=z.toSlateNode(e,t);if(!!Z.isText(r)){var n=r.text,o=t.textContent;if(o.endsWith(`
`)&&(o=o.slice(0,o.length-1)),o!==n){var a=x0(n,o);if(a!==null){var s=z.findPath(e,r);return{text:a,path:s}}}}}function wl(e,t,r){var{path:n,text:o}=r,a={anchor:{path:n,offset:o.start},focus:{path:n,offset:o.end}};if(!t||!N.isCollapsed(t))return a;var{insertText:s,removeText:i}=o,u=s.length===1||i.length===1;if(u&&x.equals(t.anchor.path,n)){var[l]=Array.from(h.nodes(e,{at:t,match:Z.isText}));if(l){var[d]=l,{anchor:p}=t,f=d.text[p.offset-1],c=d.text[p.offset];if(s.length===1&&s===c)return t;if(i.length===1&&i===f)return{anchor:{path:n,offset:p.offset-1},focus:{path:n,offset:p.offset}}}}return a}var _0=0;class O0{constructor(){this.id="".concat(_0++)}}var z={getWindow(e){var t=rs.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey(e,t){var r=ca.get(t);return r||(r=new O0,ca.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var o=ts.get(n);if(o==null){if(h.isEditor(n))return r;break}var a=es.get(n);if(a==null)break;r.unshift(a),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot(e){var t=z.toDOMNode(e,e),r=t.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&r.getSelection!=null?r:t.ownerDocument},isFocused(e){return!!At.get(e)},isReadOnly(e){return!!Bo.get(e)},blur(e){var t=z.toDOMNode(e,e),r=z.findDocumentOrShadowRoot(e);At.set(e,!1),r.activeElement===t&&t.blur()},focus(e){var t=z.toDOMNode(e,e),r=z.findDocumentOrShadowRoot(e);At.set(e,!0),r.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){z.toDOMNode(e,e);var{selection:t}=e,r=z.findDocumentOrShadowRoot(e),n=r.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&I.deselect(e)},hasDOMNode(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:n=!1}=r,o=z.toDOMNode(e,e),a;try{a=rt(t)?t:t.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-slate-editor]")===o&&(!n||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===o||!!a.getAttribute("data-slate-zero-width")):!1},insertData(e,t){e.insertData(t)},insertFragmentData(e,t){return e.insertFragmentData(t)},insertTextData(e,t){return e.insertTextData(t)},setFragmentData(e,t,r){e.setFragmentData(t,r)},toDOMNode(e,t){var r=bo.get(e),n=h.isEditor(t)?pn.get(e):r==null?void 0:r.get(z.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return n},toDOMPoint(e,t){var[r]=h.node(e,t.path),n=z.toDOMNode(e,r),o;h.void(e,{at:t})&&(t={path:t.path,offset:0});var a="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(a)),i=0;for(var u of s){var l=u.childNodes[0];if(!(l==null||l.textContent==null)){var{length:d}=l.textContent,p=u.getAttribute("data-slate-length"),f=p==null?d:parseInt(p,10),c=i+f;if(t.offset<=c){var g=Math.min(d,Math.max(0,t.offset-i));o=[l,g];break}i=c}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return o},toDOMRange(e,t){var{anchor:r,focus:n}=t,o=N.isBackward(t),a=z.toDOMPoint(e,r),s=N.isCollapsed(t)?a:z.toDOMPoint(e,n),i=z.getWindow(e),u=i.document.createRange(),[l,d]=o?s:a,[p,f]=o?a:s,c=rt(l)?l:l.parentElement,g=!!c.getAttribute("data-slate-zero-width"),v=rt(p)?p:p.parentElement,C=!!v.getAttribute("data-slate-zero-width");return u.setStart(l,g?1:d),u.setEnd(p,C?1:f),u},toSlateNode(e,t){var r=rt(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?qr.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:o}=t;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=z.toSlateNode(e,t.target),s=z.findPath(e,a);if(h.isVoid(e,a)){var i=o.getBoundingClientRect(),u=e.isInline(a)?r-i.left<i.left+i.width-r:n-i.top<i.top+i.height-n,l=h.point(e,s,{edge:u?"start":"end"}),d=u?h.before(e,l):h.after(e,l);if(d){var p=h.range(e,d);return p}}var f,{document:c}=z.getWindow(e);if(c.caretRangeFromPoint)f=c.caretRangeFromPoint(r,n);else{var g=c.caretPositionFromPoint(r,n);g&&(f=c.createRange(),f.setStart(g.offsetNode,g.offset),f.setEnd(g.offsetNode,g.offset))}if(!f)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var v=z.toSlateRange(e,f,{exactMatch:!1,suppressThrow:!1});return v},toSlatePoint(e,t,r){var{exactMatch:n,suppressThrow:o}=r,[a,s]=n?t:p0(t),i=a.parentNode,u=null,l=0;if(i){var d,p=i.closest('[data-slate-void="true"]'),f=i.closest("[data-slate-leaf]"),c=null;if(f){if(u=f.closest('[data-slate-node="text"]'),u){var g=z.getWindow(e),v=g.document.createRange();v.setStart(u,0),v.setEnd(a,s);var C=v.cloneContents(),B=[...Array.prototype.slice.call(C.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(C.querySelectorAll("[contenteditable=false]"))];B.forEach(w=>{w.parentNode.removeChild(w)}),l=C.textContent.length,c=u}}else p&&(f=p.querySelector("[data-slate-leaf]"),f?(u=f.closest('[data-slate-node="text"]'),c=f,l=c.textContent.length,c.querySelectorAll("[data-slate-zero-width]").forEach(w=>{l-=w.textContent.length})):l=1);c&&l===c.textContent.length&&(i.hasAttribute("data-slate-zero-width")||la&&(d=c.textContent)!==null&&d!==void 0&&d.endsWith(`

`))&&l--}if(!u){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var E=z.toSlateNode(e,u),F=z.findPath(e,E);return{path:F,offset:l}},toSlateRange(e,t,r){var{exactMatch:n,suppressThrow:o}=r,a=ji(t)?t.anchorNode:t.startContainer,s,i,u,l,d;if(a&&(ji(t)?(s=t.anchorNode,i=t.anchorOffset,u=t.focusNode,l=t.focusOffset,fl&&h0()?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed):(s=t.startContainer,i=t.startOffset,u=t.endContainer,l=t.endOffset,d=t.collapsed)),s==null||u==null||i==null||l==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var p=z.toSlatePoint(e,[s,i],{exactMatch:n,suppressThrow:o});if(!p)return null;var f=d?p:z.toSlatePoint(e,[u,l],{exactMatch:n,suppressThrow:o});if(!f)return null;var c={anchor:p,focus:f};return N.isExpanded(c)&&N.isForward(c)&&rt(u)&&h.void(e,{at:c.focus,mode:"highest"})&&(c=h.unhangRange(e,c,{voids:!0})),c},hasRange(e,t){var{anchor:r,focus:n}=t;return h.hasPath(e,r.path)&&h.hasPath(e,n.path)}};function P0(e,t){var r=[],n=[],o=[],a=[];return t.forEach(s=>{switch(s.type){case"childList":{s.addedNodes.length&&s.addedNodes.forEach(l=>{r.push(l)}),s.removedNodes.forEach(l=>{n.push(l)});break}case"characterData":{a.push(s);var{parentNode:i}=s.target;if(!i)return;var u=F0(e,i);if(!u||o.some(l=>{var{path:d}=l;return x.equals(d,u.path)}))return;o.push(u)}}}),{addedNodes:r,removedNodes:n,insertedText:o,characterDataMutations:a}}var S0=(e,t)=>{var{addedNodes:r}=t,{selection:n}=e,o=n?H.parent(e,n.anchor.path):null,a=o?z.toDOMNode(e,o):null;return a?r.some(s=>s instanceof HTMLElement&&s.tagName===(a==null?void 0:a.tagName)):!1},k0=(e,t)=>{var{removedNodes:r}=t;return r.length>0},R0=(e,t)=>{var{selection:r}=e,{removedNodes:n}=t;return r?N.isExpanded(r)&&n.length>0:!1},T0=(e,t)=>{var{insertedText:r}=t;return r.length>0},$0=(e,t)=>{var{addedNodes:r,characterDataMutations:n,removedNodes:o}=t;return o.length>0&&r.length===0&&n.length>0};class N0{constructor(t,r){this.editor=t,this.restoreDOM=r,this.flush=n=>{try{this.reconcileMutations(n)}catch(o){console.error(o),this.restoreDOM()}},this.reconcileMutations=n=>{var o=P0(this.editor,n),{insertedText:a,removedNodes:s}=o;if(R0(this.editor,o)){var i=A0(a);this.replaceExpandedSelection(i)}else S0(this.editor,o)?this.insertBreak():$0(this.editor,o)?this.removeLeafNodes(s):k0(this.editor,o)?this.deleteBackward():T0(this.editor,o)&&this.insertText(a)},this.insertText=n=>{var{selection:o}=this.editor;if(Kn.get(this.editor)||fa.get(this.editor)){da.set(this.editor,n),fa.set(this.editor,!1);return}n.forEach(a=>{var s=a.text.insertText,i=wl(this.editor,o,a);I.setSelection(this.editor,i),h.insertText(this.editor,s)})},this.insertBreak=()=>{var{selection:n}=this.editor;h.insertBreak(this.editor),this.restoreDOM(),n&&setTimeout(()=>{this.editor.selection&&N.equals(n,this.editor.selection)&&I.move(this.editor)},100)},this.replaceExpandedSelection=n=>{h.deleteFragment(this.editor),n.length&&h.insertText(this.editor,n),this.restoreDOM()},this.deleteBackward=()=>{h.deleteBackward(this.editor),z.focus(this.editor),this.restoreDOM()},this.removeLeafNodes=n=>{for(var o of n){var a=z.toSlateNode(this.editor,o);if(a){var s=z.findPath(this.editor,a);I.delete(this.editor,{at:s}),this.restoreDOM()}}},this.editor=t,this.restoreDOM=r}}function xl(e,t,r){var[n]=O.exports.useState(()=>new MutationObserver(t));Ft(()=>{n.disconnect()}),O.exports.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),n.disconnect.bind(n)})}var M0={childList:!0,characterData:!0,subtree:!0};function Al(e){var t,r=rt(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r&&qr.get(r);return n||((t=r)!==null&&t!==void 0&&t.parentElement?Al(r.parentElement):null)}function I0(e,t){var r=dr(),n=O.exports.useRef(new Set),o=O.exports.useCallback(s=>{!t.current||s.forEach(i=>{var{target:u}=i,l=Al(u);if(!!l)return n.current.add(l)})},[]);xl(e,o,M0),n.current.clear();var a=O.exports.useCallback(()=>{var s=Array.from(n.current.values()),i=s.filter(u=>!s.some(l=>x.isParent(z.findPath(r,l),z.findPath(r,u))));i.forEach(u=>{var l;(l=ha.get(u))===null||l===void 0||l()}),n.current.clear()},[]);return a}function L0(){var e=dr(),t=O.exports.useRef(!1),r=O.exports.useRef(null),n=O.exports.useCallback(()=>{if(t.current===!1){var o=z.getWindow(e);t.current=!0,r.current&&o.cancelAnimationFrame(r.current),r.current=o.requestAnimationFrame(()=>{t.current=!1,r.current=null})}},[]);return O.exports.useEffect(()=>{t.current&&(t.current=!1)}),{receivedUserInput:t,onUserInput:n}}var j0={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function z0(e){var t=dr(),{receivedUserInput:r,onUserInput:n}=L0(),o=I0(e,r),a=O.exports.useMemo(()=>new N0(t,o),[o,t]),s=O.exports.useRef(null),i=O.exports.useRef(!1),u=O.exports.useCallback(l=>{!r.current||(i.current=!0,a.flush(l),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{i.current=!1,s.current=null},250))},[]);return xl(e,u,j0),{isReconciling:i,onUserInput:n}}var W0=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function V0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hi(Object(r),!0).forEach(function(n){cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var H0=20,U0=e=>{var{autoFocus:t,decorate:r=yl,onDOMBeforeInput:n,placeholder:o,readOnly:a=!1,renderElement:s,renderLeaf:i,renderPlaceholder:u=m=>D(Bl,{...Object.assign({},m)}),style:l={},as:d="div"}=e,p=dn(e,W0),f=gl(),[c,g]=O.exports.useState(!1),v=O.exports.useRef(null),C=z0(v);Bo.set(f,a);var B=O.exports.useMemo(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]),E=ns(f);Ft(()=>{var m;v.current&&(m=yo(v.current))?(rs.set(f,m),pn.set(f,v.current),lr.set(f,v.current),qr.set(v.current,f)):lr.delete(f);try{var{selection:b}=f,y=z.findDocumentOrShadowRoot(f),A=y.getSelection();if(B.isComposing||!A||!z.isFocused(f))return;var $=A.type!=="None";if(!b&&!$)return;var k=pn.get(f),L=!1;if(k.contains(A.anchorNode)&&k.contains(A.focusNode)&&(L=!0),$&&L&&b){var R=z.toSlateRange(f,A,{exactMatch:!0,suppressThrow:!0});if(R&&N.equals(R,b))return}if(b&&!z.hasRange(f,b)){f.selection=z.toSlateRange(f,A,{exactMatch:!1,suppressThrow:!1});return}var S=z.toDOMNode(f,f);B.isUpdatingSelection=!0;var j=b&&z.toDOMRange(f,b);if(j){N.isBackward(b)?A.setBaseAndExtent(j.endContainer,j.endOffset,j.startContainer,j.startOffset):A.setBaseAndExtent(j.startContainer,j.startOffset,j.endContainer,j.endOffset);var M=j.startContainer.parentElement;M.getBoundingClientRect=j.getBoundingClientRect.bind(j),al(M,{scrollMode:"if-needed",boundary:S}),delete M.getBoundingClientRect}else A.removeAllRanges();setTimeout(()=>{B.isUpdatingSelection=!1})}catch{B.isUpdatingSelection=!1}}),O.exports.useEffect(()=>{v.current&&t&&v.current.focus()},[t]);var F=O.exports.useCallback(nl(()=>{try{if(!B.isComposing&&!B.isUpdatingSelection&&!C.isReconciling.current){var m=z.findDocumentOrShadowRoot(f),{activeElement:b}=m,y=z.toDOMNode(f,f),A=m.getSelection();if(b===y?(B.latestElement=b,At.set(f,!0)):At.delete(f),!A)return I.deselect(f);var{anchorNode:$,focusNode:k}=A,L=De(f,$)||so(f,$),R=De(f,k)||so(f,k);if(L&&R){var S=z.toSlateRange(f,A,{exactMatch:!1,suppressThrow:!1});I.select(f,S)}else I.deselect(f)}}catch{}},100),[a]),w=O.exports.useMemo(()=>Xa(F,0),[F]),P=O.exports.useCallback(m=>{!a&&De(f,m.target)&&!El(m,n)&&(w.flush(),C.onUserInput())},[a,n]);Ft(()=>{var m=v.current;return m==null||m.addEventListener("beforeinput",P),()=>m==null?void 0:m.removeEventListener("beforeinput",P)},[E,n]),Ft(()=>{var m=z.getWindow(f);return m.document.addEventListener("selectionchange",w),()=>{m.document.removeEventListener("selectionchange",w)}},[w]);var _=r([f,[]]);if(o&&f.children.length===1&&Array.from(H.texts(f)).length===1&&H.string(f)===""&&!c){var T=h.start(f,[]);_.push({[Er]:!0,placeholder:o,anchor:T,focus:T})}return D(ss.Provider,{value:a,children:D(os.Provider,{value:r,children:D(d,{...Object.assign({key:E,role:a?void 0:"textbox"},p,{spellCheck:p.spellCheck,autoCorrect:p.autoCorrect,autoCapitalize:p.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:a?void 0:!0,suppressContentEditableWarning:!0,ref:v,style:V0({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},l),onCopy:O.exports.useCallback(m=>{De(f,m.target)&&!be(m,p.onCopy)&&(m.preventDefault(),z.setFragmentData(f,m.clipboardData,"copy"))},[p.onCopy]),onCut:O.exports.useCallback(m=>{if(!a&&De(f,m.target)&&!be(m,p.onCut)){m.preventDefault(),z.setFragmentData(f,m.clipboardData,"cut");var{selection:b}=f;if(b)if(N.isExpanded(b))h.deleteFragment(f);else{var y=H.parent(f,b.anchor.path);h.isVoid(f,y)&&I.delete(f)}}},[a,p.onCut]),onFocus:O.exports.useCallback(m=>{if(!a&&!B.isUpdatingSelection&&De(f,m.target)&&!be(m,p.onFocus)){var b=z.findDocumentOrShadowRoot(f);B.latestElement=b.activeElement,At.set(f,!0)}},[a,p.onFocus]),onBlur:O.exports.useCallback(m=>{if(!(a||B.isUpdatingSelection||!De(f,m.target)||be(m,p.onBlur))){var b=z.findDocumentOrShadowRoot(f);if(B.latestElement!==b.activeElement){var{relatedTarget:y}=m,A=z.toDOMNode(f,f);if(y!==A&&!(rt(y)&&y.hasAttribute("data-slate-spacer"))){if(y!=null&&Yt(y)&&z.hasDOMNode(f,y)){var $=z.toSlateNode(f,y);if(ce.isElement($)&&!f.isVoid($))return}At.delete(f)}}}},[a,p.onBlur]),onClick:O.exports.useCallback(m=>{if(!a&&vr(f,m.target)&&!be(m,p.onClick)&&Yt(m.target)){var b=z.toSlateNode(f,m.target),y=z.findPath(f,b);if(h.hasPath(f,y)){var A=H.get(f,y);if(A===b){var $=h.start(f,y),k=h.end(f,y),L=h.void(f,{at:$}),R=h.void(f,{at:k});if(L&&R&&x.equals(L[1],R[1])){var S=h.range(f,$);I.select(f,S)}}}}},[a,p.onClick]),onCompositionEnd:O.exports.useCallback(m=>{De(f,m.target)&&!be(m,p.onCompositionEnd)&&(w.flush(),setTimeout(()=>{B.isComposing&&g(!1),B.isComposing=!1,Kn.set(f,!1),fa.set(f,!0);var b=da.get(f)||[];if(!!b.length){da.set(f,[]);var{selection:y}=f;b.forEach(A=>{var $=A.text.insertText,k=wl(f,y,A);I.setSelection(f,k),h.insertText(f,$)})}},H0))},[p.onCompositionEnd]),onCompositionUpdate:O.exports.useCallback(m=>{De(f,m.target)&&!be(m,p.onCompositionUpdate)&&(!B.isComposing&&g(!0),B.isComposing=!0,Kn.set(f,!0))},[p.onCompositionUpdate]),onCompositionStart:O.exports.useCallback(m=>{De(f,m.target)&&!be(m,p.onCompositionStart)&&(!B.isComposing&&g(!0),B.isComposing=!0,Kn.set(f,!0))},[p.onCompositionStart]),onPaste:O.exports.useCallback(m=>{m.clipboardData=m0(m.clipboardData),De(f,m.target)&&!be(m,p.onPaste)&&!a&&(m.preventDefault(),z.insertData(f,m.clipboardData))},[a,p.onPaste])}),children:as({decorations:_,node:f,renderElement:s,renderPlaceholder:u,renderLeaf:i,selection:f.selection})})})})},q0=O.exports.createContext(!1),K0=["editor","children","onChange","value"],G0=e=>{var{editor:t,children:r,onChange:n,value:o}=e,a=dn(e,K0),s=O.exports.useRef(!1),[i,u]=G.useState(()=>{if(!H.isNodeList(o))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(JSON.stringify(o)));if(!h.isEditor(t))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(JSON.stringify(t)));return t.children=o,Object.assign(t,a),[t]}),l=O.exports.useCallback(()=>{n(t.children),u([t])},[n]);pa.set(t,l),O.exports.useEffect(()=>()=>{pa.set(t,()=>{}),s.current=!0},[]);var[d,p]=O.exports.useState(z.isFocused(t));return O.exports.useEffect(()=>{p(z.isFocused(t))}),Ft(()=>{var f=()=>{setTimeout(()=>{s.current||p(z.isFocused(t))},0)};return document.addEventListener("focus",f,!0),document.addEventListener("blur",f,!0),()=>{document.removeEventListener("focus",f,!0),document.removeEventListener("blur",f,!0)}},[]),D(vl.Provider,{value:i,children:D(hl.Provider,{value:t,children:D(q0.Provider,{value:d,children:r})})})},Ui=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},qi=(e,t,r)=>{var n=z.toDOMRange(e,t).getBoundingClientRect(),o=z.toDOMRange(e,r).getBoundingClientRect();return Ui(n,o)&&Ui(o,n)},J0=(e,t)=>{var r=h.range(e,N.end(t)),n=Array.from(h.positions(e,{at:t})),o=0,a=n.length,s=Math.floor(a/2);if(qi(e,h.range(e,n[o]),r))return h.range(e,n[o],r);if(n.length<2)return h.range(e,n[n.length-1],r);for(;s!==n.length&&s!==o;)qi(e,h.range(e,n[s]),r)?a=s:o=s,s=Math.floor((o+a)/2);return h.range(e,n[a],r)},Y0=e=>{var t=e,{apply:r,onChange:n,deleteBackward:o}=t;return bo.set(t,new WeakMap),t.deleteBackward=a=>{if(a!=="line")return o(a);if(e.selection&&N.isCollapsed(e.selection)){var s=h.above(e,{match:d=>h.isBlock(e,d),at:e.selection});if(s){var[,i]=s,u=h.range(e,i,e.selection.anchor),l=J0(t,u);N.isCollapsed(l)||I.delete(e,{at:l})}}},t.apply=a=>{var s=[];switch(a.type){case"insert_text":case"remove_text":case"set_node":{for(var[i,u]of h.levels(t,{at:a.path})){var l=z.findKey(t,i);s.push([u,l])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(var[d,p]of h.levels(t,{at:x.parent(a.path)})){var f=z.findKey(t,d);s.push([p,f])}break}case"move_node":{for(var[c,g]of h.levels(t,{at:x.common(x.parent(a.path),x.parent(a.newPath))})){var v=z.findKey(t,c);s.push([g,v])}break}}r(a);for(var[C,B]of s){var[E]=h.node(t,C);ca.set(E,B)}},t.setFragmentData=a=>{var{selection:s}=t;if(!!s){var[i,u]=N.edges(s),l=h.void(t,{at:i.path}),d=h.void(t,{at:u.path});if(!(N.isCollapsed(s)&&!l)){var p=z.toDOMRange(t,s),f=p.cloneContents(),c=f.childNodes[0];if(f.childNodes.forEach(_=>{_.textContent&&_.textContent.trim()!==""&&(c=_)}),d){var[g]=d,v=p.cloneRange(),C=z.toDOMNode(t,g);v.setEndAfter(C),f=v.cloneContents()}if(l&&(c=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(_=>{var T=_.getAttribute("data-slate-zero-width")==="n";_.textContent=T?`
`:""}),ml(c)){var B=c.ownerDocument.createElement("span");B.style.whiteSpace="pre",B.appendChild(c),f.appendChild(B),c=B}var E=t.getFragment(),F=JSON.stringify(E),w=window.btoa(encodeURIComponent(F));c.setAttribute("data-slate-fragment",w),a.setData("application/x-slate-fragment",w);var P=f.ownerDocument.createElement("div");return P.appendChild(f),P.setAttribute("hidden","true"),f.ownerDocument.body.appendChild(P),a.setData("text/html",P.innerHTML),a.setData("text/plain",Cl(P)),f.ownerDocument.body.removeChild(P),a}}},t.insertData=a=>{t.insertFragmentData(a)||t.insertTextData(a)},t.insertFragmentData=a=>{var s=a.getData("application/x-slate-fragment")||bl(a);if(s){var i=decodeURIComponent(window.atob(s)),u=JSON.parse(i);return t.insertFragment(u),!0}return!1},t.insertTextData=a=>{var s=a.getData("text/plain");if(s){var i=s.split(/\r\n|\r|\n/),u=!1;for(var l of i)u&&I.splitNodes(t,{always:!0}),t.insertText(l),u=!0;return!0}return!1},t.onChange=()=>{Dc.unstable_batchedUpdates(()=>{var a=pa.get(t);a&&a(),n()})},t},X0=Qa?U0:b0,Z0={isHistory(e){return Ne(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||ar.isOperationList(e.redos[0]))&&(e.undos.length===0||ar.isOperationList(e.undos[0]))}},zo=new WeakMap,Wo=new WeakMap,Tr={isHistoryEditor(e){return Z0.isHistory(e.history)&&h.isEditor(e)},isMerging(e){return Wo.get(e)},isSaving(e){return zo.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=Tr.isMerging(e);Wo.set(e,!1),t(),Wo.set(e,r)},withoutSaving(e,t){var r=Tr.isSaving(e);zo.set(e,!1),t(),zo.set(e,r)}},Q0=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:n}=t,{redos:o}=n;if(o.length>0){var a=o[o.length-1];Tr.withoutSaving(t,()=>{h.withoutNormalizing(t,()=>{for(var s of a)t.apply(s)})}),n.redos.pop(),n.undos.push(a)}},t.undo=()=>{var{history:n}=t,{undos:o}=n;if(o.length>0){var a=o[o.length-1];Tr.withoutSaving(t,()=>{h.withoutNormalizing(t,()=>{var s=a.map(ar.inverse).reverse();for(var i of s)t.apply(i)})}),n.redos.push(a),n.undos.pop()}},t.apply=n=>{var{operations:o,history:a}=t,{undos:s}=a,i=s[s.length-1],u=i&&i[i.length-1],l=rm(n,u),d=Tr.isSaving(t),p=Tr.isMerging(t);if(d==null&&(d=tm(n)),d){if(p==null&&(i==null?p=!1:o.length!==0?p=!0:p=em(n,u)||l),i&&p)l&&i.pop(),i.push(n);else{var f=[n];s.push(f)}for(;s.length>100;)s.shift();nm(n)&&(a.redos=[])}r(n)},t},em=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&x.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&x.equals(e.path,t.path)),tm=(e,t)=>!(e.type==="set_selection"&&(e.properties==null||e.newProperties==null)),rm=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),nm=e=>e.type!=="set_selection";function he(e,t){return t?e.idx!=null&&e.type==t:e.idx!=null}function Fl(e){return!he(e)&&e.children!=null&&!h.isEditor(e)}function is(e){if(he(e)||Fl(e)||h.isEditor(e))return!1;if(e.text==null)throw new Ma("can not determine know node type.");return!0}function om(e,t){return!he(e)||!he(t)?!1:e.idx==t.idx}function Ut(e,t){for(let[r,n]of H.descendants(e))if(om(r,t))return n}function Ki(e,t){let r;for(let[n,o]of H.ancestors(e,Ut(e,t)))he(n)&&(r=n);return r}function am(e,t){let r=Array.from(h.nodes(e,{match:n=>n.idx==t}));if(r.length!=0)return r[0][0]}function sm(e,t){const r=t.isInline;return t.isInline=n=>{if(he(n)){let o={},a=e.get_core().get_printer().get_node_first_concept(n);if(a&&(o=a.meta_parameters),o.force_inline||n.type=="inline")return!0;if(o.force_block)return!1}return r(n)},t}function im(e,t){const r=t.isVoid;return t.isVoid=n=>{if(he(n)){let o={},a=e.get_core().get_printer().get_node_first_concept(n);if(a&&(o=a.meta_parameters),o.force_void||n.type=="support")return!0}return r(n)},t}var va={initializing:!1,pasting:!1};function io(e){va={...va,...e}}function pr(e){return va[e]}function um(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(pr("initializing")){r(n);return}if(he(o,"group")||he(o,"abstract")){if(o.children.length==0){e.add_nodes(e.get_core().create_paragraph(""),[...a,0]);return}if(he(o.children[0],"inline")||is(o.children[0])){e.delete_node_by_path([...a,0]);return}if(!Do(o.children[0])){e.add_nodes(e.get_core().create_paragraph(""),[...a,0]);return}}r(n)},t}function lm(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(pr("initializing")){r(n);return}if(he(o,"inline")){if(o.children.length==0){e.add_nodes(e.get_core().create_text(""),[...a,0]);return}if(!(he(o.children[0],"inline")||is(o.children[0])||he(o.children[0],"support"))){e.delete_node_by_path([...a,0]);return}}r(n)},t}function cm(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(pr("initializing")){r(n);return}if(he(o,"structure")&&o.children.length>0&&!he(o.children[0],"group")){e.delete_node_by_path([...a,0]);return}r(n)},t}function fm(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{let[o,a]=n;if(pr("initializing")){r(n);return}if(Fl(o)){if(o.children.length==0){e.add_nodes(e.get_core().create_text(""),[...a,0]);return}if(!(he(o.children[0],"inline")||is(o.children[0])||he(o.children[0],"support"))){e.move_node_by_path([...a,0],a);return}}r(n)},t}function dm(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{if(!pr("pasting")){r(n);return}let o={};for(let[a,s]of H.descendants(t))if(!!he(a)){if(o[a.idx]){e.set_node(a,{idx:e.get_core().gene_idx()});return}o[a.idx]=!0}io({pasting:!1}),r(n)},t}function pm(e,t){const r=t.normalizeNode;let n=o=>he(o)&&(o.type=="group"||o.type=="structure");return t.normalizeNode=o=>{const[a,s]=o;if(pr("initializing")){r(o);return}if(he(a)&&a.type!="structure"&&a.type!="inline"||h.isEditor(a)){let i=!1;for(let[u,l]of a.children.entries()){if(!n(l))continue;if(!i){i=!0;continue}if(i=!0,u==0)continue;let d=a.children[u-1];if(n(d)&&l.relation=="separating"){e.add_nodes(e.get_core().create_paragraph(),[...s,u]);return}if(!n(d)&&l.relation=="chaining"){e.move_node_by_path([...s,u-1],[...s,u]);return}}}r(o)},t}function hm(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{const[o,a]=n;if(pr("initializing")){r(n);return}if(he(o)){for(let[s,i]of o.abstract.entries())if(!he(i,"abstract")){e.set_node_by_path(a,{abstract:[...o.abstract.slice(0,s),...o.abstract.slice(s+1)]});return}}r(n)},t}function vm(e,t){const r=t.normalizeNode;return t.normalizeNode=n=>{const[o,a]=n;if(pr("initializing")){r(n);return}if(he(o)){let s=e.get_core().get_printer().get_node_second_concept(o);if(!s){r(n);return}for(let i in s.default_override)if(o.parameters[i]==null){e.auto_set_parameter(o,{[i]:{...s.default_override[i]}});return}for(let i in o.parameters)if(s.default_override[i]==null){let u={...o.parameters};delete u[i],e.set_node(o,{parameters:u});return}}r(n)},t}let gm=[sm,im,um,lm,cm,fm,dm,pm,hm,vm];function mm(e,t){for(let r of gm)t=r(e,t);return t}let $e={set_node(e,t,r){let n=Ut(e.get_root(),t);if(n.length==0){console.log(t);let o=r;o.children!=null&&e.set_root_children(o.children),delete o.children,e.set_root(o);return}I.setNodes(e.get_slate(),r,{at:n})},set_node_by_path(e,t,r){if(t.length==0){let n=r;n.children!=null&&e.set_root_children(n.children),delete n.children,e.set_root(n);return}I.setNodes(e.get_slate(),r,{at:t})},auto_set_parameter(e,t,r){let n={parameters:{...t.parameters,...r}};$e.set_node(e,t,n)},delete_concept_node(e,t){let r=Ut(e.get_root(),t);if(r.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.removeNodes(e.get_slate(),{at:r})},delete_node_by_path(e,t){if(t.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.removeNodes(e.get_slate(),{at:t})},delete_nodes_by_paths(e,t){if(t.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");let r=t.reduce((n,o)=>[...n,JSON.stringify(o)],[]);I.removeNodes(e.get_slate(),{match:(n,o)=>r.indexOf(JSON.stringify(o))>=0})},move_concept_node(e,t,r){let n=Ut(e.get_root(),t);if(n.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.moveNodes(e.get_slate(),{at:n,to:r})},unwrap_node(e,t){let r=Ut(e.get_root(),t);if(r.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.unwrapNodes(e.get_slate(),{at:r})},move_node_by_path(e,t,r){if(t.length==0||r.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.moveNodes(e.get_slate(),{at:t,to:r})},add_nodes(e,t,r){if(r.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.insertNodes(e.get_slate(),t,{at:r})},add_nodes_before(e,t,r){let n=Ut(e.get_root(),r);if(n.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");I.insertNodes(e.get_slate(),t,{at:n})},add_nodes_after(e,t,r){let n=Ut(e.get_root(),r);if(n.length==0)throw new qe("\u8FD9\u8FD9\u4E0D\u80FD");n[n.length-1]++,I.insertNodes(e.get_slate(),t,{at:n})},add_nodes_here(e,t){I.insertNodes(e.get_slate(),t)},wrap_selected_nodes(e,t,r){r.split&&io({pasting:!0}),I.wrapNodes(e.get_slate(),t,{match:r.match,split:r.split})},wrap_nodes(e,t,r,n,o){o.split&&io({pasting:!0}),I.wrapNodes(e.get_slate(),t,{at:{anchor:r,focus:n},match:o.match,split:o.split})},replace_nodes(e,t,r){let n=Ut(e.get_root(),t),o=t.children.length;o>0&&I.removeNodes(e.get_slate(),{at:{anchor:{path:[...n,0],offset:0},focus:{path:[...n,o-1],offset:0}}}),I.insertNodes(e.get_slate(),r,{at:[...n,0]})}};class Dm extends G.Component{constructor(t){super(t),this.onUpdate=t.onUpdate||(()=>{}),this.onKeyDown=t.onKeyDown||(()=>{}),this.onKeyUp=t.onKeyUp||(()=>{}),this.onKeyPress=t.onKeyPress||(()=>{}),this.onFocusChange=t.onFocusChange||(()=>{}),this.use_tree_op_mixin();let r=this,n=t.plugin||((i,u)=>u),o=this.get_core().create_abstract("root"),[a,s]=(()=>{let{children:i,...u}=o;return[i,u]})();this.state={slate:n(r,mm(r,Q0(Y0(Mh())))),root_children:t.init_rootchildren||a,root_property:t.init_rootproperty||s}}get_core(){return this.props.editorcore}get_root(){return{...this.state.root_property,children:this.state.root_children}}set_root_children(t){this.setState({root_children:t})}set_root(t){this.setState({root_property:{...this.state.root_property,...t}})}get_editorcore(){return this.get_core()}get_slate(){return this.state.slate}use_tree_op_mixin(){let t=this;this.set_node=(r,n)=>$e.set_node(t,r,n),this.set_node_by_path=(r,n)=>$e.set_node_by_path(t,r,n),this.auto_set_parameter=(r,n)=>$e.auto_set_parameter(t,r,n),this.delete_concept_node=r=>$e.delete_concept_node(t,r),this.delete_node_by_path=r=>$e.delete_node_by_path(t,r),this.move_concept_node=(r,n)=>$e.move_concept_node(t,r,n),this.unwrap_node=r=>$e.unwrap_node(t,r),this.move_node_by_path=(r,n)=>$e.move_node_by_path(t,r,n),this.add_nodes=(r,n)=>$e.add_nodes(t,r,n),this.add_nodes_before=(r,n)=>$e.add_nodes_before(t,r,n),this.add_nodes_after=(r,n)=>$e.add_nodes_after(t,r,n),this.add_nodes_here=r=>$e.add_nodes_here(t,r),this.wrap_selected_nodes=(r,n)=>$e.wrap_selected_nodes(t,r,n),this.wrap_nodes=(r,n,o,a)=>$e.wrap_nodes(t,r,n,o,a),this.replace_nodes=(r,n)=>$e.replace_nodes(t,r,n),this.delete_nodes_by_paths=r=>$e.delete_nodes_by_paths(t,r)}update_value(t){this.setState({root_children:t}),this.onUpdate(t)}renderElement(t){let r=this,n=t.element,o=r.get_core().get_node_renderer(n),a=t.attributes,s={editor:r,node:n,children:t.children},i=!1;if(he(n)){let u=this.get_core().get_meta_param(n);u&&u.force_inline&&(i=!0),n.type=="inline"&&(i=!0)}return i?D("span",{...a,children:D(o,{...s})}):D("div",{...a,children:D(o,{...s})})}renderLeaf(t){let r=this,n=r.get_core().get_first_renderer("text"),o=t.attributes,a={editor:r,node:t.leaf,children:t.children};return D("span",{...o,children:D(n,{...a})})}render(){let t=this,r=t.state.slate,n={editor:t,slate:t.state.slate,core:t.get_core()},o=this.state.root_children;return D(Cn,{value:n,children:D(G0,{editor:r,value:o,onChange:a=>{JSON.stringify(a)!=JSON.stringify(this.state.root_children)&&(t.update_value(a),t.onFocusChange())},children:D(X0,{renderElement:t.renderElement.bind(t),renderLeaf:t.renderLeaf.bind(t),onClick:a=>{t.onFocusChange()},onCopy:a=>!0,onPaste:()=>(io({pasting:!0}),!1),onKeyDown:a=>t.onKeyDown(a),onKeyUp:a=>t.onKeyUp(a),onKeyPress:a=>t.onKeyPress(a)})})})}new_concept_node(t,r){let n=this;if(t=="support"){let o=n.get_editorcore().create_support(r);n.add_nodes_here(o);return}if(t=="structure"){let o=n.get_editorcore().create_structure(r);n.add_nodes_here(o);return}if(t=="group"){let o=n.get_slate().selection,a=!0;o!=null&&(a=JSON.stringify(o.anchor)==JSON.stringify(o.focus));let s=n.get_editorcore().create_group(r);a?n.add_nodes_here(s):n.wrap_selected_nodes(s,{split:!1});return}if(t=="inline"){let o=n.get_slate().selection,a=!0;o!=null&&(a=JSON.stringify(o.anchor)==JSON.stringify(o.focus));let s=n.get_editorcore().create_inline(r,"");a?n.add_nodes_here(s):n.wrap_selected_nodes(s,{split:!0});return}throw new qe("\u8FD9\u8FD9\u4E0D\u80FD")}}const _l=e=>{let t=G.useContext(mr);return D(ea,{component:Se,...e,sx:[{...t.editor.fonts.structure,marginY:"auto",height:t.editor.fonts.structure.lineHeight,whiteSpace:"nowrap"},...Array.isArray(e.sx)?e.sx:[e.sx]]})},Cm=e=>{let t=G.useContext(mr);return D(Se,{...e,autogrow:void 0,sx:[{paddingX:t.editor.margins.background,...e.autogrow?{flex:1,minWidth:0}:{}},...Array.isArray(e.sx)?e.sx:[e.sx]]})};G.createContext(1);const bm=e=>D(Zn,{elevation:0,variant:"outlined",square:!0,...e,sx:[{width:"100%",height:"100%",overflow:"hidden"},...Array.isArray(e.sx)?e.sx:[e.sx]]});/*!
 * OverlayScrollbars
 * Version: 2.0.0-beta.3
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */function ue(e,t){if(wo(e))for(let r=0;r<e.length&&t(e[r],r,e)!==!1;r++);else e&&ue(Object.keys(e),r=>t(e[r],r,e));return e}function ze(e,t){const r=Fr(t);if(Ot(t)||r){let o=r?"":{};if(e){const a=window.getComputedStyle(e,null);o=r?Xi(e,a,t):t.reduce((s,i)=>(s[i]=Xi(e,a,i),s),o)}return o}e&&ue(it(t),o=>Mm(e,o,t[o]))}const xt=(e,t)=>{const{o:r,u:n,_:o}=e;let a=r,s;const i=(d,p)=>{const f=a,c=d,g=p||(n?!n(f,c):f!==c);return(g||o)&&(a=c,s=f),[a,g,s]};return[t?d=>i(t(a,s),d):i,d=>[a,!!d,s]]},yn=()=>typeof window!="undefined",Ol=yn()&&Node.ELEMENT_NODE,{toString:Bm,hasOwnProperty:Vo}=Object.prototype,Qt=e=>e===void 0,Eo=e=>e===null,ym=e=>Qt(e)||Eo(e)?`${e}`:Bm.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase(),ir=e=>typeof e=="number",Fr=e=>typeof e=="string",Pl=e=>typeof e=="boolean",$t=e=>typeof e=="function",Ot=e=>Array.isArray(e),hn=e=>typeof e=="object"&&!Ot(e)&&!Eo(e),wo=e=>{const t=!!e&&e.length,r=ir(t)&&t>-1&&t%1==0;return Ot(e)||!$t(e)&&r?t>0&&hn(e)?t-1 in e:!0:!1},ga=e=>{if(!e||!hn(e)||ym(e)!=="object")return!1;let t;const r="constructor",n=e[r],o=n&&n.prototype,a=Vo.call(e,r),s=o&&Vo.call(o,"isPrototypeOf");if(n&&!a&&!s)return!1;for(t in e);return Qt(t)||Vo.call(e,t)},us=e=>{const t=HTMLElement;return e?t?e instanceof t:e.nodeType===Ol:!1},xo=e=>{const t=Element;return e?t?e instanceof t:e.nodeType===Ol:!1},ls=(e,t,r)=>e.indexOf(t,r),ge=(e,t,r)=>(!r&&!Fr(t)&&wo(t)?Array.prototype.push.apply(e,t):e.push(t),e),wr=e=>{const t=Array.from,r=[];return t&&e?t(e):(e instanceof Set?e.forEach(n=>{ge(r,n)}):ue(e,n=>{ge(r,n)}),r)},cs=e=>!!e&&e.length===0,er=(e,t,r)=>{ue(e,o=>o&&o.apply(void 0,t||[])),!r&&(e.length=0)},Ao=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),it=e=>e?Object.keys(e):[],we=(e,t,r,n,o,a,s)=>{const i=[t,r,n,o,a,s];return(typeof e!="object"||Eo(e))&&!$t(e)&&(e={}),ue(i,u=>{ue(it(u),l=>{const d=u[l];if(e===d)return!0;const p=Ot(d);if(d&&(ga(d)||p)){const f=e[l];let c=f;p&&!Ot(f)?c=[]:!p&&!ga(f)&&(c={}),e[l]=we(c,d)}else e[l]=d})}),e},fs=e=>{for(const t in e)return!1;return!0},Sl=(e,t,r,n)=>{if(Qt(n))return r?r[e]:t;r&&(Fr(n)||ir(n))&&(r[e]=n)},ot=(e,t,r)=>{if(Qt(r))return e?e.getAttribute(t):null;e&&e.setAttribute(t,r)},kl=(e,t,r,n)=>{if(r){const o=ot(e,t)||"",a=new Set(o.split(" "));a[n?"add":"delete"](r),ot(e,t,wr(a).join(" ").trim())}},Em=(e,t,r)=>{const n=ot(e,t)||"";return new Set(n.split(" ")).has(r)},gr=(e,t)=>{e&&e.removeAttribute(t)},_t=(e,t)=>Sl("scrollLeft",0,e,t),Kt=(e,t)=>Sl("scrollTop",0,e,t),ma=yn()&&Element.prototype,Rl=(e,t)=>{const r=[],n=t?xo(t)?t:null:document;return n?ge(r,n.querySelectorAll(e)):r},wm=(e,t)=>{const r=t?xo(t)?t:null:document;return r?r.querySelector(e):null},uo=(e,t)=>xo(e)?(ma.matches||ma.msMatchesSelector).call(e,t):!1,ds=e=>e?wr(e.childNodes):[],Xt=e=>e?e.parentElement:null,$r=(e,t)=>{if(xo(e)){const r=ma.closest;if(r)return r.call(e,t);do{if(uo(e,t))return e;e=Xt(e)}while(e)}return null},xm=(e,t,r)=>{const n=e&&$r(e,t),o=e&&wm(r,n),a=$r(o,t)===n;return n&&o?n===e||o===e||a&&$r($r(e,r),t)!==n:!1},ps=(e,t,r)=>{if(r&&e){let n=t,o;wo(r)?(o=document.createDocumentFragment(),ue(r,a=>{a===n&&(n=a.previousSibling),o.appendChild(a)})):o=r,t&&(n?n!==t&&(n=n.nextSibling):n=e.firstChild),e.insertBefore(o,n||null)}},gt=(e,t)=>{ps(e,null,t)},Am=(e,t)=>{ps(Xt(e),e,t)},Gi=(e,t)=>{ps(Xt(e),e&&e.nextSibling,t)},Nt=e=>{if(wo(e))ue(wr(e),t=>Nt(t));else if(e){const t=Xt(e);t&&t.removeChild(e)}},Cr=e=>{const t=document.createElement("div");return e&&ot(t,"class",e),t},Tl=e=>{const t=Cr();return t.innerHTML=e.trim(),ue(ds(t),r=>Nt(r))},Da=e=>e.charAt(0).toUpperCase()+e.slice(1),Fm=()=>Cr().style,_m=["-webkit-","-moz-","-o-","-ms-"],Om=["WebKit","Moz","O","MS","webkit","moz","o","ms"],Ho={},Uo={},Pm=e=>{let t=Uo[e];if(Ao(Uo,e))return t;const r=Da(e),n=Fm();return ue(_m,o=>{const a=o.replace(/-/g,"");return!(t=[e,o+e,a+r,Da(a)+r].find(i=>n[i]!==void 0))}),Uo[e]=t||""},En=e=>{if(yn()){let t=Ho[e]||window[e];return Ao(Ho,e)||(ue(Om,r=>(t=t||window[r+Da(e)],!t)),Ho[e]=t),t}},Sm=En("MutationObserver"),Ji=En("IntersectionObserver"),Nr=En("ResizeObserver"),$l=En("cancelAnimationFrame"),Nl=En("requestAnimationFrame"),lo=yn()&&window.setTimeout,Ca=yn()&&window.clearTimeout,Fo=(e,t,r,n)=>{if(e&&t){let o=!0;return ue(r,a=>{const s=n?n(e[a]):e[a],i=n?n(t[a]):t[a];s!==i&&(o=!1)}),o}return!1},Ml=(e,t)=>Fo(e,t,["w","h"]),Il=(e,t)=>Fo(e,t,["x","y"]),km=(e,t)=>Fo(e,t,["t","r","b","l"]),Yi=(e,t,r)=>Fo(e,t,["width","height"],r&&(n=>Math.round(n))),vt=()=>{},kr=e=>{let t;const r=e?lo:Nl,n=e?Ca:$l;return[o=>{n(t),t=r(o,$t(e)?e():e)},()=>n(t)]},Ll=(e,t)=>{let r,n,o,a=vt;const{g:s,v:i,p:u}=t||{},l=function(g){a(),Ca(r),r=n=void 0,a=vt,e.apply(this,g)},d=c=>u&&n?u(n,c):c,p=()=>{a!==vt&&l(d(o)||o)},f=function(){const g=wr(arguments),v=$t(s)?s():s;if(ir(v)&&v>=0){const B=$t(i)?i():i,E=ir(B)&&B>=0,F=v>0?lo:Nl,w=v>0?Ca:$l,_=d(g)||g,T=l.bind(0,_);a();const m=F(T,v);a=()=>w(m),E&&!r&&(r=lo(p,B)),n=o=_}else l(g)};return f.m=p,f},Rm=/[^\x20\t\r\n\f]+/g,hs=(e,t,r)=>{const n=e&&e.classList;let o,a=0,s=!1;if(n&&t&&Fr(t)){const i=t.match(Rm)||[];for(s=i.length>0;o=i[a++];)s=!!r(n,o)&&s}return s},Tm=(e,t)=>hs(e,t,(r,n)=>r.contains(n)),Hr=(e,t)=>{hs(e,t,(r,n)=>r.remove(n))},nt=(e,t)=>(hs(e,t,(r,n)=>r.add(n)),Hr.bind(0,e,t)),$m={opacity:1,zindex:1},$n=(e,t)=>{const r=t?parseFloat(e):parseInt(e,10);return r===r?r:0},Nm=(e,t)=>!$m[e.toLowerCase()]&&ir(t)?`${t}px`:t,Xi=(e,t,r)=>t!=null?t[r]||t.getPropertyValue(r):e.style[r],Mm=(e,t,r)=>{try{const{style:n}=e;Qt(n[t])?n.setProperty(t,r):n[t]=Nm(t,r)}catch{}},co=e=>ze(e,"direction")==="rtl",Zi=(e,t,r)=>{const n=t?`${t}-`:"",o=r?`-${r}`:"",a=`${n}top${o}`,s=`${n}right${o}`,i=`${n}bottom${o}`,u=`${n}left${o}`,l=ze(e,[a,s,i,u]);return{t:$n(l[a],!0),r:$n(l[s],!0),b:$n(l[i],!0),l:$n(l[u],!0)}},{round:Qi}=Math,vs={w:0,h:0},xr=e=>e?{w:e.offsetWidth,h:e.offsetHeight}:vs,Gn=e=>e?{w:e.clientWidth,h:e.clientHeight}:vs,fo=e=>e?{w:e.scrollWidth,h:e.scrollHeight}:vs,po=e=>{const t=parseFloat(ze(e,"height"))||0,r=parseFloat(ze(e,"width"))||0;return{w:r-Qi(r),h:t-Qi(t)}},sr=e=>e.getBoundingClientRect();let Nn;const Im=()=>{if(Qt(Nn)){Nn=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){Nn=!0}}))}catch{}}return Nn},jl=e=>e.split(" "),Lm=(e,t,r,n)=>{ue(jl(t),o=>{e.removeEventListener(o,r,n)})},Pe=(e,t,r,n)=>{var o;const a=Im(),s=(o=a&&n&&n.S)!=null?o:a,i=n&&n.$||!1,u=n&&n.C||!1,l=[],d=a?{passive:s,capture:i}:i;return ue(jl(t),p=>{const f=u?c=>{e.removeEventListener(p,f,i),r&&r(c)}:r;ge(l,Lm.bind(null,e,p,f,i)),e.addEventListener(p,f,d)}),er.bind(0,l)},zl=e=>e.stopPropagation(),Wl=e=>e.preventDefault(),jm={x:0,y:0},qo=e=>{const t=e?sr(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:jm},eu=(e,t)=>{ue(Ot(t)?t:[t],e)},gs=e=>{const t=new Map,r=(s,i)=>{if(s){const u=t.get(s);eu(l=>{u&&u[l?"delete":"clear"](l)},i)}else t.forEach(u=>{u.clear()}),t.clear()},n=(s,i)=>{const u=t.get(s)||new Set;return t.set(s,u),eu(l=>{l&&u.add(l)},i),r.bind(0,s,i)},o=(s,i)=>{const u=t.get(s);ue(wr(u),l=>{i&&!cs(i)?l.apply(0,i):l()})},a=it(e);return ue(a,s=>{n(s,e[s])}),[n,r,o]},tu=e=>JSON.stringify(e,(t,r)=>{if($t(r))throw new Error;return r}),zm={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Vl=(e,t)=>{const r={},n=it(t).concat(it(e));return ue(n,o=>{const a=e[o],s=t[o];if(hn(a)&&hn(s))we(r[o]={},Vl(a,s)),fs(r[o])&&delete r[o];else if(Ao(t,o)&&s!==a){let i=!0;if(Ot(a)||Ot(s))try{tu(a)===tu(s)&&(i=!1)}catch{}i&&(r[o]=s)}}),r},Hl="os-environment",Ul=`${Hl}-flexbox-glue`,Wm=`${Ul}-max`,qt="data-overlayscrollbars",ql=`${qt}-overflow-x`,Kl=`${qt}-overflow-y`,an="overflowVisible",Vm="scrollbarHidden",ho="updating",Hm="os-padding",_o="os-viewport",Ko=`${_o}-arrange`,Um="os-content",vo=`${_o}-scrollbar-hidden`,Ir="os-overflow-visible",ms="os-size-observer",qm=`${ms}-appear`,Km=`${ms}-listener`,Gm="os-trinsic-observer",Qe="os-scrollbar",Jm=`${Qe}-rtl`,Ym=`${Qe}-horizontal`,Xm=`${Qe}-vertical`,Gl=`${Qe}-track`,Ds=`${Qe}-handle`,Zm=`${Qe}-visible`,Qm=`${Qe}-cornerless`,ru=`${Qe}-transitionless`,nu=`${Qe}-interaction`,ou=`${Qe}-unusable`,au=`${Qe}-auto-hidden`,su=`${Qe}-wheel`,eD=`${Gl}-interactive`,tD=`${Ds}-interactive`,Jl={},Ar=()=>Jl,rD=e=>{const t=[];return ue(Ot(e)?e:[e],r=>{const n=it(r);ue(n,o=>{ge(t,Jl[o]=r[o])})}),t},nD="__osOptionsValidationPlugin",oD="__osSizeObserverPlugin",Cs="__osScrollbarsHidingPlugin",aD="__osClickScrollPlugin";let Go;const iu=(e,t,r,n)=>{gt(e,t);const o=Gn(t),a=xr(t),s=po(r);return n&&Nt(t),{x:a.h-o.h+s.h,y:a.w-o.w+s.w}},sD=e=>{let t=!1;const r=nt(e,vo);try{t=ze(e,Pm("scrollbar-width"))==="none"||window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")==="none"}catch{}return r(),t},iD=(e,t)=>{const r="hidden";ze(e,{overflowX:r,overflowY:r,direction:"rtl"}),_t(e,0);const n=qo(e),o=qo(t);_t(e,-999);const a=qo(t);return{i:n.x===o.x,n:o.x!==a.x}},uD=(e,t)=>{const r=nt(e,Ul),n=sr(e),o=sr(t),a=Yi(o,n,!0),s=nt(e,Wm),i=sr(e),u=sr(t),l=Yi(u,i,!0);return r(),s(),a&&l},lD=()=>{const{body:e}=document,r=Tl(`<div class="${Hl}"><div></div></div>`)[0],n=r.firstChild,[o,,a]=gs(),[s,i]=xt({o:iu(e,r,n),u:Il},iu.bind(0,e,r,n,!0)),[u]=i(),l=sD(r),d={x:u.x===0,y:u.y===0},p={elements:{host:null,padding:!l,viewport:g=>l&&g===g.ownerDocument.body&&g,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},f=we({},zm),c={k:u,I:d,A:l,L:ze(r,"zIndex")==="-1",V:iD(r,n),B:uD(r,n),Y:g=>o("_",g),j:we.bind(0,{},p),q(g){we(p,g)},N:we.bind(0,{},f),F(g){we(f,g)},G:we({},p),X:we({},f)};if(gr(r,"style"),Nt(r),!l&&(!d.x||!d.y)){let g;window.addEventListener("resize",()=>{const v=Ar()[Cs];g=g||v&&v.R(),g&&g(c,s,a.bind(0,"_"))})}return c},lt=()=>(Go||(Go=lD()),Go),Yl=(e,t)=>$t(e)?e.apply(0,t):e,cD=(e,t,r,n)=>{const o=Qt(n)?r:n;return Yl(o,e)||t.apply(0,e)},Xl=(e,t,r,n)=>{const o=Qt(n)?r:n,a=Yl(o,e);return!!a&&(us(a)?a:t.apply(0,e))},fD=(e,t,r)=>{const{nativeScrollbarsOverlaid:n,body:o}=r||{},{I:a,A:s}=lt(),{nativeScrollbarsOverlaid:i,body:u}=t,l=n!=null?n:i,d=Qt(o)?u:o,p=(a.x||a.y)&&l,f=e&&(Eo(d)?!s:d);return!!p||!!f},bs=new WeakMap,dD=(e,t)=>{bs.set(e,t)},pD=e=>{bs.delete(e)},Zl=e=>bs.get(e),uu=(e,t)=>e?t.split(".").reduce((r,n)=>r&&Ao(r,n)?r[n]:void 0,e):void 0,ba=(e,t,r)=>n=>[uu(e,n),r||uu(t,n)!==void 0],Ql=e=>{let t=e;return[()=>t,r=>{t=we({},t,r)}]},Mn="tabindex",In=Cr.bind(0,""),Jo=e=>{gt(Xt(e),ds(e)),Nt(e)},hD=e=>{const t=lt(),{j:r,A:n}=t,o=Ar()[Cs],a=o&&o.T,{elements:s}=r(),{host:i,viewport:u,padding:l,content:d}=s,p=us(e),f=p?{}:e,{elements:c}=f,{host:g,padding:v,viewport:C,content:B}=c||{},E=p?e:f.target,F=uo(E,"textarea"),w=E.ownerDocument,P=w.documentElement,_=E===w.body,T=w.defaultView,m=cD.bind(0,[E]),b=Xl.bind(0,[E]),y=m(In,u,C),A=y===E,$=A&&_,k=w.activeElement,L=!A&&T.top===T&&k===E,R={U:E,W:F?m(In,i,g):E,J:y,K:!A&&b(In,l,v),Z:!A&&b(In,d,B),tt:!A&&!n&&a&&a(t),nt:$?P:y,ot:$?w:y,st:T,et:w,ct:F,rt:_,it:p,lt:A,ut:(te,oe)=>A?Em(y,qt,oe):Tm(y,te),dt:(te,oe,fe)=>A?kl(y,qt,oe,fe):(fe?nt:Hr)(y,te)},S=it(R).reduce((te,oe)=>{const fe=R[oe];return ge(te,fe&&!Xt(fe)?fe:!1)},[]),j=te=>te?ls(S,te)>-1:null,{U:M,W,K:q,J:K,Z:J,tt:re}=R,U=[()=>{gr(W,qt),_&&gr(P,qt)}],Y=F&&j(W);let X=F?M:ds([J,K,q,W,M].find(te=>j(te)===!1));const ee=J||K;return[R,()=>{ot(W,qt,A?"viewport":"host");const te=nt(q,Hm),oe=nt(K,!A&&_o),fe=nt(J,Um),Me=_?nt(Xt(E),vo):vt;if(Y&&(Gi(M,W),ge(U,()=>{Gi(W,M),Nt(W)})),gt(ee,X),gt(W,q),gt(q||W,!A&&K),gt(K,J),ge(U,()=>{Me(),gr(K,ql),gr(K,Kl),j(J)&&Jo(J),j(K)&&Jo(K),j(q)&&Jo(q),te(),oe(),fe()}),n&&!A&&ge(U,Hr.bind(0,K,vo)),re&&(Am(K,re),ge(U,Nt.bind(0,re))),L){const le=ot(K,Mn);ot(K,Mn,"-1"),K.focus();const ve=Pe(w,"pointerdown keydown",()=>{le?ot(K,Mn,le):gr(K,Mn),ve()})}else k&&k.focus&&k.focus();X=0},er.bind(0,U)]},vD=(e,t)=>{const{Z:r}=e,[n]=t;return o=>{const{B:a}=lt(),{ft:s}=n(),{_t:i}=o,u=(r||!a)&&i;return u&&ze(r,{height:s?"":"100%"}),{ht:u,gt:u}}},gD=(e,t)=>{const[r,n]=t,{W:o,K:a,J:s,lt:i}=e,[u,l]=xt({u:km,o:Zi()},Zi.bind(0,o,"padding",""));return(d,p,f)=>{let[c,g]=l(f);const{A:v,B:C}=lt(),{vt:B}=r(),{ht:E,gt:F,wt:w}=d,[P,_]=p("paddingAbsolute");(E||g||!C&&F)&&([c,g]=u(f));const m=!i&&(_||w||g);if(m){const b=!P||!a&&!v,y=c.r+c.l,A=c.t+c.b,$={marginRight:b&&!B?-y:0,marginBottom:b?-A:0,marginLeft:b&&B?-y:0,top:b?-c.t:0,right:b?B?-c.r:"auto":0,left:b?B?"auto":-c.l:0,width:b?`calc(100% + ${y}px)`:""},k={paddingTop:b?c.t:0,paddingRight:b?c.r:0,paddingBottom:b?c.b:0,paddingLeft:b?c.l:0};ze(a||s,$),ze(s,k),n({K:c,bt:!b,M:a?k:we({},$,k)})}return{yt:m}}},{max:Ba}=Math,rr=Ba.bind(0,0),ec="visible",lu="hidden",mD=42,Ln={u:Ml,o:{w:0,h:0}},DD={u:Il,o:{x:lu,y:lu}},CD=(e,t)=>{const r=window.devicePixelRatio%1!==0?1:0,n={w:rr(e.w-t.w),h:rr(e.h-t.h)};return{w:n.w>r?n.w:0,h:n.h>r?n.h:0}},cu=(e,t,r)=>r?nt(e,t):Hr(e,t),jn=e=>e.indexOf(ec)===0,bD=(e,t)=>{const[r,n]=t,{W:o,K:a,J:s,tt:i,lt:u,dt:l,rt:d,st:p}=e,{k:f,B:c,A:g,I:v}=lt(),C=Ar()[Cs],B=!u&&!g&&(v.x||v.y),E=d&&u,[F,w]=xt(Ln,po.bind(0,s)),[P,_]=xt(Ln,fo.bind(0,s)),[T,m]=xt(Ln),[b,y]=xt(Ln),[A]=xt(DD),$=(M,W)=>{if(ze(s,{height:""}),W){const{bt:q,K}=r(),{St:J,P:re}=M,U=po(o),Y=Gn(o),X=ze(s,"boxSizing")==="content-box",ee=q||X?K.b+K.t:0,Q=!(v.x&&X);ze(s,{height:Y.h+U.h+(J.x&&Q?re.x:0)-ee})}},k=(M,W)=>{const q=!g&&!M?mD:0,K=(oe,fe,Me)=>{const le=ze(s,oe),Re=(W?W[oe]:le)==="scroll";return[le,Re,Re&&!g?fe?q:Me:0,fe&&!!q]},[J,re,U,Y]=K("overflowX",v.x,f.x),[X,ee,Q,te]=K("overflowY",v.y,f.y);return{xt:{x:J,y:X},St:{x:re,y:ee},P:{x:U,y:Q},D:{x:Y,y:te}}},L=(M,W,q,K)=>{const J=(ee,Q)=>{const te=jn(ee),oe=Q&&te&&ee.replace(`${ec}-`,"")||"";return[Q&&!te?ee:"",jn(oe)?"hidden":oe]},[re,U]=J(q.x,W.x),[Y,X]=J(q.y,W.y);return K.overflowX=U&&Y?U:re,K.overflowY=X&&re?X:Y,k(M,K)},R=(M,W,q,K)=>{const{P:J,D:re}=M,{x:U,y:Y}=re,{x:X,y:ee}=J,{M:Q}=r(),te=W?"marginLeft":"marginRight",oe=W?"paddingLeft":"paddingRight",fe=Q[te],Me=Q.marginBottom,le=Q[oe],ve=Q.paddingBottom;K.width=`calc(100% + ${ee+-1*fe}px)`,K[te]=-ee+fe,K.marginBottom=-X+Me,q&&(K[oe]=le+(Y?ee:0),K.paddingBottom=ve+(U?X:0))},[S,j]=C?C.H(B,c,s,i,r,k,R):[()=>B,()=>[vt]];return(M,W,q)=>{const{ht:K,$t:J,gt:re,yt:U,_t:Y,wt:X}=M,{ft:ee,vt:Q}=r(),[te,oe]=W("showNativeOverlaidScrollbars"),[fe,Me]=W("overflow"),le=te&&v.x&&v.y,ve=!u&&!c&&(K||re||J||oe||Y),Re=jn(fe.x),Oe=jn(fe.y),We=Re||Oe;let Ge=w(q),et=_(q),xe=m(q),Ie=y(q),Ae;if(oe&&g&&l(vo,Vm,!le),ve&&(Ae=k(le),$(Ae,ee)),K||U||re||X||oe){We&&l(Ir,an,!1);const[Ve,dt]=j(le,Q,Ae),[pt,zt]=Ge=F(q),[ht,He]=et=P(q),Wt=Gn(s);let Kr=ht,Vt=Wt;Ve(),(He||zt||oe)&&dt&&!le&&S(dt,ht,pt,Q)&&(Vt=Gn(s),Kr=fo(s));const Gr={w:rr(Ba(ht.w,Kr.w)+pt.w),h:rr(Ba(ht.h,Kr.h)+pt.h)},Jr={w:rr((E?p.innerWidth:Vt.w+rr(Wt.w-ht.w))+pt.w),h:rr((E?p.innerHeight+pt.h:Vt.h+rr(Wt.h-ht.h))+pt.h)};Ie=b(Jr),xe=T(CD(Gr,Jr),q)}const[ct,tt]=Ie,[Fe,Te]=xe,[ft,Le]=et,[yt,Lt]=Ge,ye={x:Fe.w>0,y:Fe.h>0},St=Re&&Oe&&(ye.x||ye.y)||Re&&ye.x&&!ye.y||Oe&&ye.y&&!ye.x;if(U||X||Lt||Le||tt||Te||Me||oe||ve){const Ve={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},dt=L(le,ye,fe,Ve),pt=S(dt,ft,yt,Q);u||R(dt,Q,pt,Ve),ve&&$(dt,ee),u?(ot(o,ql,Ve.overflowX),ot(o,Kl,Ve.overflowY)):ze(s,Ve)}kl(o,qt,an,St),cu(a,Ir,St),!u&&cu(s,Ir,We);const[jt,Et]=A(k(le).xt);return n({xt:jt,Ct:{x:ct.w,y:ct.h},Ot:{x:Fe.w,y:Fe.h},Tt:ye}),{Et,zt:tt,At:Te}}},fu=(e,t,r)=>{const n={},o=t||{},a=it(e).concat(it(o));return ue(a,s=>{const i=e[s],u=o[s];n[s]=!!(r||i||u)}),n},BD=(e,t)=>{const{U:r,J:n,dt:o,lt:a}=e,{A:s,I:i,B:u}=lt(),l=!s&&(i.x||i.y),d=[vD(e,t),gD(e,t),bD(e,t)];return(p,f,c)=>{const g=fu(we({ht:!1,yt:!1,wt:!1,_t:!1,zt:!1,At:!1,Et:!1,$t:!1,gt:!1},f),{},c),v=l||!u,C=v&&_t(n),B=v&&Kt(n);o("",ho,!0);let E=g;return ue(d,F=>{E=fu(E,F(E,p,!!c)||{},c)}),_t(n,C),Kt(n,B),o("",ho),a||(_t(r,0),Kt(r,0)),E}},yD=(e,t,r)=>{let n,o=!1;const a=()=>{o=!0},s=i=>{if(r){const u=r.reduce((l,d)=>{if(d){const[p,f]=d,c=f&&p&&(i?i(p):Rl(p,e));c&&c.length&&f&&Fr(f)&&ge(l,[c,f.trim()],!0)}return l},[]);ue(u,l=>ue(l[0],d=>{const p=l[1],f=n.get(d)||[];if(e.contains(d)){const g=Pe(d,p,v=>{o?(g(),n.delete(d)):t(v)});n.set(d,ge(f,g))}else er(f),n.delete(d)}))}};return r&&(n=new WeakMap,s()),[a,s]},du=(e,t,r,n)=>{let o=!1;const{It:a,Lt:s,Ht:i,Mt:u,Pt:l,Dt:d}=n||{},p=Ll(()=>{o&&r(!0)},{g:33,v:99}),[f,c]=yD(e,p,i),g=a||[],v=s||[],C=g.concat(v),B=(F,w)=>{const P=l||vt,_=d||vt,T=new Set,m=new Set;let b=!1,y=!1;if(ue(F,A=>{const{attributeName:$,target:k,type:L,oldValue:R,addedNodes:S,removedNodes:j}=A,M=L==="attributes",W=L==="childList",q=e===k,K=M&&Fr($)?ot(k,$):0,J=K!==0&&R!==K,re=ls(v,$)>-1&&J;if(t&&(W||!q)){const U=!M,Y=M&&J,X=Y&&u&&uo(k,u),Q=(X?!P(k,$,R,K):U||Y)&&!_(A,!!X,e,n);ue(S,te=>T.add(te)),ue(j,te=>T.add(te)),y=y||Q}!t&&q&&J&&!P(k,$,R,K)&&(m.add($),b=b||re)}),T.size>0&&c(A=>wr(T).reduce(($,k)=>(ge($,Rl(A,k)),uo(k,A)?ge($,k):$),[])),t)return!w&&y&&r(!1),[!1];if(m.size>0||b){const A=[wr(m),b];return!w&&r.apply(0,A),A}},E=new Sm(F=>B(F));return E.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:C,subtree:t,childList:t,characterData:t}),o=!0,[()=>{o&&(f(),E.disconnect(),o=!1)},()=>{if(o){p.m();const F=E.takeRecords();return!cs(F)&&B(F,!0)}}]},zn=3333333,Wn=e=>e&&(e.height||e.width),tc=(e,t,r)=>{const{Rt:n=!1,kt:o=!1}=r||{},a=Ar()[oD],{V:s}=lt(),u=Tl(`<div class="${ms}"><div class="${Km}"></div></div>`)[0],l=u.firstChild,d=co.bind(0,e),[p]=xt({o:void 0,_:!0,u:(v,C)=>!(!v||!Wn(v)&&Wn(C))}),f=v=>{const C=Ot(v)&&v.length>0&&hn(v[0]),B=!C&&Pl(v[0]);let E=!1,F=!1,w=!0;if(C){const[P,,_]=p(v.pop().contentRect),T=Wn(P),m=Wn(_);E=!_||!T,F=!m&&T,w=!E}else B?[,w]=v:F=v===!0;if(n&&w){const P=B?v[0]:co(u);_t(u,P?s.n?-zn:s.i?0:zn:zn),Kt(u,zn)}E||t({ht:!B,Vt:B?v:void 0,kt:!!F})},c=[];let g=o?f:!1;return[()=>{er(c),Nt(u)},()=>{if(Nr){const v=new Nr(f);v.observe(l),ge(c,()=>{v.disconnect()})}else if(a){const[v,C]=a.O(l,f,o);g=v,ge(c,C)}if(n){const[v]=xt({o:!d()},d);ge(c,Pe(u,"scroll",C=>{const B=v(),[E,F]=B;F&&(Hr(l,"ltr rtl"),E?nt(l,"rtl"):nt(l,"ltr"),f(B)),zl(C)}))}g&&(nt(u,qm),ge(c,Pe(u,"animationstart",g,{C:!!Nr}))),(Nr||a)&&gt(e,u)}]},ED=e=>e.h===0||e.isIntersecting||e.intersectionRatio>0,wD=(e,t)=>{let r;const n=Cr(Gm),o=[],[a]=xt({o:!1}),s=(u,l)=>{if(u){const d=a(ED(u)),[,p]=d;if(p)return!l&&t(d),[d]}},i=(u,l)=>{if(u&&u.length>0)return s(u.pop(),l)};return[()=>{er(o),Nt(n)},()=>{if(Ji)r=new Ji(u=>i(u),{root:e}),r.observe(n),ge(o,()=>{r.disconnect()});else{const u=()=>{const p=xr(n);s(p)},[l,d]=tc(n,u);ge(o,l),d(),u()}gt(e,n)},()=>{if(r)return i(r.takeRecords(),!0)}]},pu=`[${qt}]`,xD=`.${_o}`,Yo=["tabindex"],hu=["wrap","cols","rows"],Xo=["id","class","style","open"],AD=(e,t,r)=>{let n,o,a;const{W:s,J:i,Z:u,ct:l,lt:d,ut:p,dt:f}=e,{B:c}=lt(),[g]=xt({u:Ml,o:{w:0,h:0}},()=>{const L=p(Ir,an),R=p(Ko,""),S=R&&_t(i),j=R&&Kt(i);f(Ir,an),f(Ko,""),f("",ho,!0);const M=fo(u),W=fo(i),q=po(i);return f(Ir,an,L),f(Ko,"",R),f("",ho),_t(i,S),Kt(i,j),{w:W.w+M.w+q.w,h:W.h+M.h+q.h}}),v=l?hu:Xo.concat(hu),C=Ll(r,{g:()=>n,v:()=>o,p(L,R){const[S]=L,[j]=R;return[it(S).concat(it(j)).reduce((M,W)=>(M[W]=S[W]||j[W],M),{})]}}),B=L=>{ue(L||Yo,R=>{if(ls(Yo,R)>-1){const S=ot(s,R);Fr(S)?ot(i,R,S):gr(i,R)}})},E=(L,R)=>{const[S,j]=L,M={_t:j};return t({ft:S}),!R&&r(M),M},F=({ht:L,Vt:R,kt:S})=>{const j=!L||S?r:C;let M=!1;if(R){const[W,q]=R;M=q,t({vt:W})}j({ht:L,wt:M})},w=(L,R)=>{const[,S]=g(),j={gt:S};return S&&!R&&(L?r:C)(j),j},P=(L,R,S)=>{const j={$t:R};return R?!S&&C(j):d||B(L),j},[_,T,m]=u||!c?wD(s,E):[vt,vt,vt],[b,y]=d?[vt,vt]:tc(s,F,{kt:!0,Rt:!0}),[A,$]=du(s,!1,P,{Lt:Xo,It:Xo.concat(Yo)}),k=d&&Nr&&new Nr(F.bind(0,{ht:!0}));return k&&k.observe(s),B(),[()=>{_(),b(),a&&a[0](),k&&k.disconnect(),A()},()=>{y(),T()},()=>{const L={},R=$(),S=m(),j=a&&a[1]();return R&&we(L,P.apply(0,ge(R,!0))),S&&we(L,E.apply(0,ge(S,!0))),j&&we(L,w.apply(0,ge(j,!0))),L},L=>{const[R]=L("update.ignoreMutation"),[S,j]=L("update.attributes"),[M,W]=L("update.elementEvents"),[q,K]=L("update.debounce"),J=W||j,re=U=>$t(R)&&R(U);if(J&&(a&&(a[1](),a[0]()),a=du(u||i,!0,w,{It:v.concat(S||[]),Ht:M,Mt:pu,Dt:(U,Y)=>{const{target:X,attributeName:ee}=U;return(!Y&&ee&&!d?xm(X,pu,xD):!1)||!!$r(X,`.${Qe}`)||!!re(U)}})),K)if(C.m(),Ot(q)){const U=q[0],Y=q[1];n=ir(U)&&U,o=ir(Y)&&Y}else ir(q)?(n=q,o=!1):(n=!1,o=!1)}]},vu={x:0,y:0},FD={K:{t:0,r:0,b:0,l:0},bt:!1,M:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},Ct:vu,Ot:vu,xt:{x:"hidden",y:"hidden"},Tt:{x:!1,y:!1},ft:!1,vt:!1},_D=(e,t)=>{const r=ba(t,{}),n=Ql(FD),[o,a,s]=gs(),[i,u]=n,[l,d,p]=hD(e),f=BD(l,n),c=(F,w,P)=>{const T=it(F).some(m=>F[m])||!fs(w)||P;return T&&s("u",[F,w,P]),T},[g,v,C,B]=AD(l,u,F=>c(f(r,F),{},!1)),E=i.bind(0);return E.Bt=F=>o("u",F),E.Yt=()=>{const{U:F,J:w}=l,P=_t(F),_=Kt(F);v(),d(),_t(w,P),Kt(w,_)},E.jt=l,[(F,w)=>{const P=ba(t,F,w);return B(P),c(f(P,C(),w),F,!!w)},E,()=>{a(),g(),p()}]},{round:gu}=Math,OD=e=>{const{width:t,height:r}=sr(e),{w:n,h:o}=xr(e);return{x:gu(t)/n||1,y:gu(r)/o||1}},PD=(e,t,r)=>{const n=t.scrollbars,{button:o,isPrimary:a,pointerType:s}=e,{pointers:i}=n;return o===0&&a&&n[r?"dragScroll":"clickScroll"]&&(i||[]).includes(s)},SD=(e,t)=>Pe(e,"mousedown",Pe.bind(0,t,"click",zl,{C:!0,$:!0}),{$:!0}),kD=(e,t,r,n,o,a)=>{const{V:s}=lt(),{qt:i,Nt:u,Ft:l}=r,d=`scroll${a?"Left":"Top"}`,p=`client${a?"X":"Y"}`,f=a?"width":"height",c=a?"left":"top",g=a?"w":"h",v=a?"x":"y",C=(B,E)=>F=>{const{Ot:w}=o(),P=xr(u)[g]-xr(i)[g],T=E*F/P*w[v],b=co(l)&&a?s.n||s.i?1:-1:1;n[d]=B+T*b};return Pe(u,"pointerdown",B=>{const E=$r(B.target,`.${Ds}`)===i;if(PD(B,e,E)){const F=!E&&B.shiftKey,w=()=>sr(i),P=()=>sr(u),_=(S,j)=>(S||w())[c]-(j||P())[c],T=C(n[d]||0,1/OD(n)[v]),m=B[p],b=w(),y=P(),A=b[f],$=_(b,y)+A/2,k=m-y[c],L=E?0:k-$,R=[Pe(t,"selectstart",S=>Wl(S),{S:!1}),Pe(u,"pointermove",S=>{const j=S[p]-m;(E||F)&&T(L+j)})];if(F)T(L);else if(!E){const S=Ar()[aD];S&&ge(R,S.O(T,_,L,A,k))}Pe(u,"pointerup",S=>{er(R),u.releasePointerCapture(S.pointerId)},{C:!0}),u.setPointerCapture(B.pointerId)}})},RD=(e,t)=>(r,n,o,a,s,i)=>{const{Ft:u}=r,[l,d]=kr(333),p=!!s.scrollBy;let f=!0;return er.bind(0,[Pe(u,"pointerenter",()=>{n(nu,!0)}),Pe(u,"pointerleave pointercancel",()=>{n(nu)}),Pe(u,"wheel",c=>{const{deltaX:g,deltaY:v,deltaMode:C}=c;p&&f&&C===0&&Xt(u)===a&&s.scrollBy({left:g,top:v,behavior:"smooth"}),f=!1,n(su,!0),l(()=>{f=!0,n(su)}),Wl(c)},{S:!1,$:!0}),SD(u,o),kD(e,o,r,s,t,i),d])},{min:ya,max:mu,abs:TD,round:$D}=Math,rc=(e,t,r,n)=>{if(n){const i=r?"x":"y",{Ot:u,Ct:l}=n,d=l[i],p=u[i];return mu(0,ya(1,d/(d+p)))}const o=r?"w":"h",a=xr(e)[o],s=xr(t)[o];return mu(0,ya(1,a/s))},ND=(e,t,r,n,o,a)=>{const{V:s}=lt(),i=a?"x":"y",u=a?"Left":"Top",{Ot:l}=n,d=$D(l[i]),p=TD(r[`scroll${u}`]),f=a&&o,c=s.i?p:d-p,v=ya(1,(f?c:p)/d),C=rc(e,t,a);return 1/C*(1-C)*v},MD=(e,t,r)=>{const{j:n}=lt(),{scrollbars:o}=n(),{slot:a}=o,{et:s,U:i,W:u,J:l,it:d,nt:p}=t,{scrollbars:f}=d?{}:e,{slot:c}=f||{},g=Xl([i,u,l],()=>u,a,c),v=(k,L,R)=>{const S=R?nt:Hr;ue(k,j=>{S(j.Ft,L)})},C=(k,L)=>{ue(k,R=>{const[S,j]=L(R);ze(S,j)})},B=(k,L,R)=>{C(k,S=>{const{qt:j,Nt:M}=S;return[j,{[R?"width":"height"]:`${(100*rc(j,M,R,L)).toFixed(3)}%`}]})},E=(k,L,R)=>{const S=R?"X":"Y";C(k,j=>{const{qt:M,Nt:W,Ft:q}=j,K=ND(M,W,p,L,co(q),R);return[M,{transform:K===K?`translate${S}(${(100*K).toFixed(3)}%)`:""}]})},F=[],w=[],P=[],_=(k,L,R)=>{const S=Pl(R),j=S?R:!0,M=S?!R:!0;j&&v(w,k,L),M&&v(P,k,L)},T=k=>{B(w,k,!0),B(P,k)},m=k=>{E(w,k,!0),E(P,k)},b=k=>{const L=k?Ym:Xm,R=k?w:P,S=cs(R)?ru:"",j=Cr(`${Qe} ${L} ${S}`),M=Cr(Gl),W=Cr(Ds),q={Ft:j,Nt:M,qt:W};return gt(j,M),gt(M,W),ge(R,q),ge(F,[Nt.bind(0,j),r(q,_,s,u,p,k)]),q},y=b.bind(0,!0),A=b.bind(0,!1),$=()=>{gt(g,w[0].Ft),gt(g,P[0].Ft),lo(()=>{_(ru)},300)};return y(),A(),[{Gt:T,Xt:m,Ut:_,Wt:{Jt:w,Kt:y,Zt:C.bind(0,w)},Qt:{Jt:P,Kt:A,Zt:C.bind(0,P)}},$,er.bind(0,F)]},ID=(e,t,r)=>{let n,o,a,s,i,u=0;const l=Ql({}),[d]=l,[p,f]=kr(),[c,g]=kr(),[v,C]=kr(100),[B,E]=kr(100),[F,w]=kr(()=>u),[P,_,T]=MD(e,r.jt,RD(t,r)),{W:m,J:b,nt:y,ot:A,lt:$,rt:k}=r.jt,{Wt:L,Qt:R,Ut:S,Gt:j,Xt:M}=P,{Zt:W}=L,{Zt:q}=R,K=X=>{const{Ft:ee}=X,Q=$&&!k&&Xt(ee)===b&&ee;return[Q,{transform:Q?`translate(${_t(y)}px, ${Kt(y)}px)`:""}]},J=(X,ee)=>{if(w(),X)S(au);else{const Q=()=>S(au,!0);u>0&&!ee?F(Q):Q()}},re=()=>{s=o,s&&J(!0)},U=[C,w,E,g,f,T,Pe(m,"pointerover",re,{C:!0}),Pe(m,"pointerenter",re),Pe(m,"pointerleave",()=>{s=!1,o&&J(!1)}),Pe(m,"pointermove",()=>{n&&p(()=>{C(),J(!0),B(()=>{n&&J(!1)})})}),Pe(A,"scroll",()=>{c(()=>{M(r()),a&&J(!0),v(()=>{a&&!s&&J(!1)})}),$&&W(K),$&&q(K)})],Y=d.bind(0);return Y.jt=P,Y.Yt=_,[(X,ee,Q)=>{const{zt:te,At:oe,Et:fe,wt:Me}=Q,le=ba(t,X,ee),ve=r(),{Ot:Re,xt:Oe,vt:We}=ve,[Ge,et]=le("scrollbars.theme"),[xe,Ie]=le("scrollbars.visibility"),[Ae,ct]=le("scrollbars.autoHide"),[tt]=le("scrollbars.autoHideDelay"),[Fe,Te]=le("scrollbars.dragScroll"),[ft,Le]=le("scrollbars.clickScroll"),yt=te||oe||Me||ee,Lt=fe||Ie||ee,ye=(St,jt)=>{const Et=xe==="visible"||xe==="auto"&&St==="scroll";return S(Zm,Et,jt),Et};if(u=tt,et&&(S(i),S(Ge,!0),i=Ge),ct&&(n=Ae==="move",o=Ae==="leave",a=Ae!=="never",J(!a,!0)),Te&&S(tD,Fe),Le&&S(eD,ft),Lt){const St=ye(Oe.x,!0),jt=ye(Oe.y,!1);S(Qm,!(St&&jt))}yt&&(j(ve),M(ve),S(ou,!Re.x,!0),S(ou,!Re.y,!1),S(Jm,We&&!k))},Y,er.bind(0,U)]},nc=(e,t,r)=>{$t(e)&&e(t||void 0,r||void 0)},vn=(e,t,r)=>{const{N:n,j:o,Y:a}=lt(),s=Ar(),i=us(e),u=i?e:e.target,l=Zl(u);if(t&&!l){let d=!1;const p=y=>{const A=Ar()[nD],$=A&&A.O;return $?$(y,!0):y},f=we({},n(),p(t)),[c,g,v]=gs(r),[C,B,E]=_D(e,f),[F,w,P]=ID(e,f,B),_=(y,A)=>C(y,!!A),T=a(_.bind(0,{},!0)),m=y=>{pD(u),T(),P(),E(),d=!0,v("destroyed",[b,!!y]),g()},b={options(y){if(y){const A=Vl(f,p(y));fs(A)||(we(f,A),_(A))}return we({},f)},on:c,off:(y,A)=>{y&&A&&g(y,A)},state(){const{Ct:y,Ot:A,xt:$,Tt:k,K:L,bt:R,vt:S}=B();return we({},{overflowEdge:y,overflowAmount:A,overflowStyle:$,hasOverflow:k,padding:L,paddingAbsolute:R,directionRTL:S,destroyed:d})},elements(){const{U:y,W:A,K:$,J:k,Z:L,nt:R,ot:S}=B.jt,{Wt:j,Qt:M}=w.jt,W=K=>{const{qt:J,Nt:re,Ft:U}=K;return{scrollbar:U,track:re,handle:J}},q=K=>{const{Jt:J,Kt:re}=K,U=W(J[0]);return we({},U,{clone:()=>{const Y=W(re());return F({},!0,{}),Y}})};return we({},{target:y,host:A,padding:$||k,viewport:k,content:L||k,scrollOffsetElement:R,scrollEventElement:S,scrollbarHorizontal:q(j),scrollbarVertical:q(M)})},update:y=>_({},y),destroy:m.bind(0)};return B.Bt((y,A,$)=>{F(A,$,y)}),dD(u,b),ue(it(s),y=>nc(s[y],0,b)),fD(B.jt.rt,o().cancel,!i&&e.cancel)?(m(!0),b):(B.Yt(),w.Yt(),v("initialized",[b]),B.Bt((y,A,$)=>{const{ht:k,wt:L,_t:R,zt:S,At:j,Et:M,gt:W,$t:q}=y;v("updated",[b,{updateHints:{sizeChanged:k,directionChanged:L,heightIntrinsicChanged:R,overflowEdgeChanged:S,overflowAmountChanged:j,overflowStyleChanged:M,contentMutation:W,hostMutation:q},changedOptions:A,force:$}])}),b.update(!0),b)}return l};vn.plugin=e=>{ue(rD(e),t=>nc(t,vn))};vn.valid=e=>{const t=e&&e.elements,r=$t(t)&&t();return ga(r)&&!!Zl(r.target)};vn.env=()=>{const{k:e,I:t,A:r,V:n,B:o,L:a,G:s,X:i,j:u,q:l,N:d,F:p}=lt();return we({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:r,rtlScrollBehavior:n,flexboxGlue:o,cssCustomProperties:a,staticDefaultInitialization:s,staticDefaultOptions:i,getDefaultInitialization:u,setDefaultInitialization:l,getDefaultOptions:d,setDefaultOptions:p})};class oc extends G.Component{constructor(r){super(r);ae(this,"divref");ae(this,"os");this.divref=G.createRef(),this.os=void 0}componentDidMount(){for(;!(this.divref&&this.divref.current););this.os=vn(this.divref.current,{scrollbars:{autoHide:"leave",autoHideDelay:700}})}render(){let{children:r,...n}=this.props;return D(Se,{...n,"data-overlayscrollbars":"",ref:this.divref,children:r})}}class LD extends G.Component{constructor(t){super(t),this.state={val:t.parameter_item.val}}get_item(){let{val:t,type:r,...n}=this.props.parameter_item;return{val:this.state.val,type:this.props.parameter_item.type,...n}}componentDidUpdte(t){JSON.stringify(t.parameter_item.val)!=JSON.stringify(this.props.parameter_item.val)&&this.setState({val:this.props.parameter_item.val})}render(){let t=this,r=this.props.name,n=this.props.parameter_item.type,o=this.state.val,a={value:o,label:r,variant:"standard",sx:{marginLeft:"5%"}},s={marginLeft:"5%"};if(this.props.parameter_item.choices){let i=this.props.parameter_item.choices;return pe(Wc,{sx:{...s,width:"100%"},children:[D(Vc,{children:r},"form"),D($p,{value:o,onChange:u=>{t.setState({val:u.target.value})},children:i.map((u,l)=>D(Hs,{sx:{marginLeft:"5%"},value:u,label:u,control:D(kp,{})},l))},"ratio")]})}return n=="string"?D(ks,{onChange:i=>{t.setState({val:i.target.value})},...a,sx:s}):n=="number"?D(ks,{onChange:i=>{t.setState({val:Number(i.target.value)})},type:"number",...a,sx:s}):n=="boolean"?D(Hs,{label:r,control:D(Vu,{checked:o,onChange:i=>{t.setState({val:i.target.checked})}}),sx:s}):D(cr,{})}}class jD extends G.Component{constructor(r){super(r);ae(this,"item_refs");this.item_refs=Object.keys(this.props.parameters).reduce((n,o)=>(n[o]=G.createRef(),n),{})}get_parameters(){let r=this,n={};for(let o in this.props.parameters)r.item_refs[o]&&r.item_refs[o].current?n[o]=r.item_refs[o].current.get_item():n[o]=this.props.parameters[o];return n}render(){let r=this;return D(Hc,{children:Object.keys(r.props.parameters).map((n,o)=>D(up,{children:D(LD,{ref:this.item_refs[n],name:n,parameter_item:r.props.parameters[n]})},o))})}}class ac extends G.Component{constructor(r){super(r);ae(this,"container_ref");this.container_ref=G.createRef()}get_parameters(){let r=this.get_container();return r?r.get_parameters():this.props.node.parameters}get_container(){if(this.container_ref&&this.container_ref.current)return this.container_ref.current}render(){let r=this;return D(jD,{ref:r.container_ref,parameters:r.props.node.parameters})}}function zD(e){let t=e.onClose||(a=>{}),r=G.useRef(null),[n,o]=G.useState(void 0);return D(Ze.Consumer,{children:a=>{let s=a.editor;return pe(Na,{anchor:"left",open:e.open,onClose:t,ModalProps:{keepMounted:!0},SlideProps:{onEnter:()=>{o({...s.get_slate().selection})},onExited:()=>{if(r&&r.current){let i=r.current.get_parameters();s.auto_set_parameter(e.node,i)}z.focus(s.get_slate()),n&&n.anchor&&n.anchor.path&&I.select(s.get_slate(),n)}},PaperProps:{sx:{width:"40%"}},children:[D(Se,{children:pe(_l,{children:["idx: ",e.node.idx]})}),D(xa,{}),D(ac,{node:e.node,ref:r}),D(Fa,{onClick:t,children:"Close"})]})}})}function _r(e){let t=e.icon,r=e.component||"button",n=e.icon_props||{};return D(bn,{title:e.title,children:O.exports.createElement(gn,{onClick:e.onClick,size:e.size,component:r,...n,key:"button"},D(t,{}))})}class CC extends G.PureComponent{constructor(t){super(t),this.state={open:!1}}run(){this.setState({open:!0})}render(){let t=this.props,r=t.onExit||(o=>{}),n=this;return pe(Se,{sx:{marginX:"auto"},children:[D(_r,{onClick:n.run.bind(n),title:"\u8BBE\u7F6E\u53C2\u6570",icon:Hu}),D(zD,{node:t.node,open:n.state.open,onClose:o=>{r(o),n.setState({open:!1})}})]})}}class WD extends G.PureComponent{constructor(t){super(t)}run(){this.context.editor.delete_concept_node(this.props.node)}render(){return D(_r,{onClick:this.run.bind(this),title:"\u5220\u9664\u7EC4\u4EF6",icon:fh})}}ae(WD,"contextType",Ze);class VD extends G.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor;if(this.props.puretext){let n=H.string(this.props.node),o=Ut(r.get_root(),this.props.node);r.delete_node_by_path(o),r.add_nodes(r.get_core().create_paragraph(n),o)}else r.unwrap_node(this.props.node)}render(){return D(_r,{onClick:this.run.bind(this),title:"\u89E3\u9664\u7EC4\u4EF6",icon:vh})}}ae(VD,"contextType",Ze);class HD extends G.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor;r.add_nodes_before(r.get_core().create_paragraph(),this.props.node)}render(){return D(_r,{onClick:this.run.bind(this),title:"\u5411\u4E0A\u6DFB\u52A0\u6BB5\u843D",icon:gh})}}ae(HD,"contextType",Ze);class UD extends G.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor;r.add_nodes_after(r.get_core().create_paragraph(),this.props.node)}render(){return D(_r,{onClick:this.run.bind(this),title:"\u5411\u4E0B\u6DFB\u52A0\u6BB5\u843D",icon:Ch})}}ae(UD,"contextType",Ze);class qD extends G.PureComponent{constructor(t){super(t)}run(){let r=this.context.editor,n=this.props.node,o;n.type=="group"?(o=r.get_core().create_group(n.concept,"chaining"),o.parameters=JSON.parse(JSON.stringify(n.parameters))):n.type=="structure"?(o=r.get_core().create_structure(n.concept,"chaining"),o.parameters=JSON.parse(JSON.stringify(n.parameters))):n.type=="support"&&(o=r.get_core().create_support(n.concept),o.parameters=JSON.parse(JSON.stringify(n.parameters))),o&&r.add_nodes_after(o,this.props.node)}render(){return D(_r,{onClick:this.run.bind(this),title:"\u590D\u5236\u6B64\u8282\u70B9",icon:mh})}}ae(qD,"contextType",Ze);class KD extends G.PureComponent{constructor(r){super(r);ae(this,"switchref");this.state={checked:r.node.relation=="chaining"},this.switchref=G.createRef()}get_switch(){if(this.switchref&&this.switchref.current)return this.switchref.current}switch_check_change(r){let o=this.context.editor,a=this.props.node,s=this.get_switch().checked;this.setState({checked:s}),s?o.set_node(a,{relation:"chaining"}):o.set_node(a,{relation:"separating"})}update(){let r=this.props.node;r.relation=="chaining"!=this.state.checked&&this.setState({checked:r.relation=="chaining"})}componentDidMount(){this.update()}componentDidUpdate(){this.update()}run(){this.get_switch().click()}render(){return D(bn,{title:"\u8D34\u8D34",children:D(Vu,{checked:this.state.checked,onChange:this.switch_check_change.bind(this),inputRef:this.switchref},"switch")})}}ae(KD,"contextType",Ze);class Bs extends G.PureComponent{constructor(r){super(r);ae(this,"menu_anchor_ref");this.state={menu_open:!1},this.menu_anchor_ref=G.createRef()}set_menu_open(r){this.setState({menu_open:r}),r||(this.props.onExit||(()=>{}))()}get_anchor(){if(this.menu_anchor_ref&&this.menu_anchor_ref.current)return this.menu_anchor_ref.current}run(r=void 0){this.set_menu_open(!this.state.menu_open)}render(){let r=this.props,n=r.children||D(cr,{}),o=r.outer_button;this.context.editor;let s=pe(G.Fragment,{children:[D(bn,{title:r.label,children:D(o,{onClick:this.run.bind(this),ref:this.menu_anchor_ref,...r.outer_props},"b")}),D(wh,{anchorEl:this.get_anchor(),open:this.state.menu_open,...r.poper_props,children:n},"autostackpoper")]});return r.close_on_otherclick?D(Cd,{onClickAway:()=>{this.set_menu_open(!1)},children:D(Se,{children:s})}):s}}ae(Bs,"contextType",Ze);var sc=G.createContext([void 0,void 0]);function Zo(e){return e=="ArrowLeft"||e=="ArrowRight"||e=="ArrowDown"||e=="ArrowUp"}function Qo(e){return e=="Enter"}let ys=G.createContext([()=>{},()=>{}]);class GD extends G.Component{constructor(r){super(r);ae(this,"spaces");ae(this,"non_space_oprations");ae(this,"ctrl_key");ae(this,"elements");this.state={cur_positions:{}},this.update_props(),this.ctrl_key={},this.elements={}}ctrl_down(){return this.ctrl_key.Control}get_cur_activating(){for(let r in this.state.cur_positions)if(this.ctrl_key[r])return r}get_cur_position(r){return this.state.cur_positions[r]}set_cur_position(r,n){this.setState({cur_positions:{...this.state.cur_positions,[r]:n}})}get_position_list(r){let n=this.elements[r];return n==null?[]:Object.keys(n)}get_position_operation(r,n,o){let a=this.elements[r];if(a==null)return;let s=a[n];if(s!=null)return s[o]}activate_position(r,n){let o=this.get_position_operation(r,n,"activate");o!=null&&o()}unactivate_position(r,n,o){let a=this.get_position_operation(r,n,"unactivate");a!=null&&a(o)}run_position(r,n,o){let a=this.get_position_operation(n,o,"run");a!=null&&a(r)}activate_position_and_unactivate_old(r,n){this.setState(Un(this.state,o=>{o.cur_positions[r]=n}))}regester_space(r,n,o,a,s){if(this.elements[r]==null){this.elements[r]={[n]:{activate:o,unactivate:a,run:s}};return}this.elements[r][n]={activate:o,unactivate:a,run:s}}unregister_space(r,n){if(this.elements[r]==null)throw new qe("can not unregister a position that is not registered.");delete this.elements[r][n]}update_props(){if(this.spaces==null||JSON.stringify(Object.keys(this.props.spaces))!=JSON.stringify(Object.keys(this.spaces))){this.spaces={};for(let r of this.props.spaces)this.spaces[r.key]=r}if(this.non_space_oprations==null||JSON.stringify(Object.keys(this.props.non_space_oprations))!=JSON.stringify(Object.keys(this.non_space_oprations))){this.non_space_oprations={};for(let r of this.props.non_space_oprations)this.non_space_oprations[r.key]=r}}componentDidMount(){this.update_props()}componentDidUpdate(r,n){this.update_props();for(let o in this.state.cur_positions){let a=this.state.cur_positions[o],s=n.cur_positions[o];a!=s&&(s!=null&&this.unactivate_position(o,s,a),this.activate_position(o,a))}}flush_key_state(r,n){let o=this;if(n.ctrlKey){if(n.key)if(r){if(o.ctrl_key[n.key])return!1;o.ctrl_key[n.key]=!0}else delete o.ctrl_key[n.key]}else o.ctrl_key={};return!0}do_nothing(r){if(!this.ctrl_down())return!1;let n=r.key;return this.non_space_oprations[n]||this.spaces[n]||this.get_cur_activating()&&(Zo(n)||Qo(n))?(r.preventDefault(),!0):!1}keyup_proxy(r){let n=this;if(this.flush_key_state(!1,r),!this.ctrl_down())return!1;let o=r.key;if(this.non_space_oprations[o]||this.spaces[o])return r.preventDefault(),!0;let a=this.get_cur_activating();if(a){if(Zo(o)){let s=o,i=this.get_position_list(a),u=this.get_cur_position(a),l=this.spaces[a].switch_position(i,u,s,n.ctrl_key);return this.setState(Un(this.state,d=>{d.cur_positions[a]=l})),r.preventDefault(),!0}if(Qo(o)){let s=this.get_cur_position(a);return this.run_position(r,a,s),r.preventDefault(),!0}}return!1}keydown_proxy(r){if(!this.flush_key_state(!0,r))return this.do_nothing(r);if(!this.ctrl_down())return!1;let n=r.key;if(this.non_space_oprations[n])return this.non_space_oprations[n].on_activate(),r.preventDefault(),!0;if(this.spaces[n]){let a=n,s=this.get_position_list(a),i=this.get_cur_position(a),u=this.spaces[a].activate_position(s,i);return this.setState(Un(this.state,l=>{l.cur_positions[a]=u})),r.preventDefault(),!0}return this.get_cur_activating()&&(Zo(n)||Qo(n))?(r.preventDefault(),!0):!1}render(){let r=this;return D(sc.Provider,{value:[r.keydown_proxy.bind(r),r.keyup_proxy.bind(r)],children:D(ys.Provider,{value:[r.regester_space.bind(r),r.unregister_space.bind(r)],children:r.props.children})})}}function Jn(e){let{space:t,position:r,run:n,children:o,extra_activate:a,extra_unactivate:s}=e,[i,u]=G.useState(!1),[l,d]=G.useContext(ys),p=G.useRef(void 0);return G.useEffect(()=>(l(t,r,()=>{u(!0),a&&a(),p.current.scrollIntoView({block:"center",inline:"center"})},f=>{u(!1),s&&s(f)},n),()=>{d(t,r)}),[]),D("div",{ref:p,children:D(Se,{sx:{border:i?"2px solid":"none"},children:o})})}const go="e";function JD(e){return{key:go,activate_position:lc(e),switch_position:YD(e)}}function ic(e,t){let r=e.idx;return JSON.stringify([r,t])}function Ea(e,t){return t.reduce((n,o)=>{let[a,s]=JSON.parse(o);return a==e.idx?[...n,s]:n},[])}function uc(e,t,r,n){let o=t;if(n&&(o=Ki(e.get_slate(),o),o==null))return[void 0,[]];let a=Ea(o,r);for(;!(h.isEditor(o)||a.length!=0)&&(o=Ki(e.get_slate(),o),o!=null);)a=Ea(o,r);return h.isEditor(o)||a.length==0?[void 0,a]:[o,a]}function YD(e){return(t,r,n,o)=>{if(r==null)return lc(e)(t,r);let a=!1;for(let p of["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"])o[p]&&p!=n&&(a=!0);let[s,i]=JSON.parse(r);for(;a;){let p=am(e.get_slate(),s);if(!p)break;let[f,c]=uc(e,p,t,!0);if(f==null||c.length==0)break;return c.sort((g,v)=>g-v),JSON.stringify([f.idx,c[0]])}let u=t.reduce((p,f)=>{let[c,g]=JSON.parse(f);return c==s?[...p,g]:p},[]);u.sort((p,f)=>p-f);let l=u.indexOf(i);(n=="ArrowLeft"||n=="ArrowUp")&&l--,(n=="ArrowRight"||n=="ArrowDown")&&l++,l=(l%u.length+u.length)%u.length;let d=u[l];return JSON.stringify([s,d])}}function Du(e,t,r){let n=e.get_slate().selection;if(!n)return;let o=n.anchor.path,a=o[o.length-2]||0;o=o.slice(0,o.length-2);let i=h.node(e.get_slate(),o)[0].children;if(!i)return r;let u,l=[];for(let d in i){let p=parseInt(d);if(p>=a)break;let f=i[p];if(!he(f))continue;let c=Ea(f,t);c.length>0&&(u=f,l=c)}return u?(l.sort((d,p)=>d-p),JSON.stringify([u.idx,l[0]])):r}function lc(e){return(t,r)=>{let n=e.get_slate().selection;if(!n)return;let o=n.anchor.path;for(;o.length>0&&!he(h.node(e.get_slate(),o)[0]);)o=o.slice(0,o.length-1);let a=h.node(e.get_slate(),o)[0];if(o.length==0||!he(a))return Du(e,t,r);let[s,i]=uc(e,a,t,!1);if(s==null)return Du(e,t,r);let u=s.idx;if(r!=null){let[l,d]=JSON.parse(r);if(l==u)return r}return i.sort((l,d)=>l-d),JSON.stringify([u,i[0]])}}class XD extends G.Component{constructor(r){super(r);ae(this,"childref");this.childref=G.createRef()}run(r){this.childref&&this.childref.current&&this.childref.current.run(r),this.props.extra_run&&this.props.extra_run(r)}render(){let r=this.props.component,n=this.props.other_props||{};return D(Jn,{space:go,run:this.run.bind(this),position:ic(this.props.node,this.props.idx),extra_activate:this.props.extra_activate,extra_unactivate:this.props.extra_unactivate,children:D(r,{node:this.props.node,...n,ref:this.childref})})}}class ZD extends G.Component{constructor(t){super(t)}render(){let t=this.props.buttons,r=this.props.node,n=this.props.idxs||[];for(n.length==0&&(n=[0]);n.length<t.length;)n=[...n,Math.max(...n)+1];let o=Object.keys(t).map(a=>{let s={},i=t[a],u=!1;if(t[a].component){let{other_props:l,component:d,skip_mouseless:p}=t[a];s=l||{},i=d,u=p||!1}return u?D(i,{node:r,...s},a):D(XD,{node:r,idx:n[a],other_props:s,component:i,extra_run:this.props.extra_run,extra_activate:this.props.extra_activate,extra_unactivate:this.props.extra_unactivate},a)});return this.props.autostack?D(ja,{children:o}):o}}class QD extends G.Component{constructor(r){super(r);ae(this,"button_ref");this.state={menu_open:!1,active:!1},this.button_ref=G.createRef()}get_button(){if(this.button_ref&&this.button_ref.current)return this.button_ref.current}set_active(r){this.setState({active:r})}get_idxs(){let r=this.props.idxs||[];for(r.length==0&&(r=[1]);r.length<this.props.buttons.length+1;)r=[...r,Math.max(...r)+1];return r}get_position(){return ic(this.props.node,this.get_idxs()[0])}extra_unactive(r){if(r!=null){let[n,o]=JSON.parse(r);n!=this.props.node.idx&&this.get_button().set_menu_open(!1),this.get_idxs().indexOf(o)<0&&this.get_button().set_menu_open(!1)}r==null&&this.get_button().set_menu_open(!1)}componentDidMount(){let r=this,[n,o]=this.context;n(go,r.get_position(),()=>{r.get_button().set_menu_open(!0),r.set_active(!0)},a=>{r.extra_unactive(a),r.set_active(!1)},()=>{r.get_button().run()})}componentWillUnmount(){let[r,n]=this.context;n(go,this.get_position())}render(){let r=this.props,n=r.children||D(cr,{}),o=this.get_idxs().slice(1);return D(Se,{sx:{border:this.state.active?"2px solid":"none"},children:pe(Bs,{outer_button:this.props.outer_button,outer_props:this.props.outer_props,poper_props:this.props.poper_props,label:this.props.label,close_on_otherclick:this.props.close_on_otherclick,onExit:this.props.onExit,ref:this.button_ref,children:[n,D(Se,{sx:{marginX:"auto"},children:D(ZD,{node:r.node,buttons:r.buttons,idxs:o,extra_unactivate:this.extra_unactive.bind(this)})})]})})}}ae(QD,"contextType",ys);function eC(e){let t=e.onClose||(s=>{}),r=G.useRef(null),[n,o]=G.useState(void 0),a=e.editor;return D(Cn,{value:{editor:e.editor},children:pe(Na,{anchor:"left",open:e.open,onClose:t,ModalProps:{keepMounted:!0},SlideProps:{onEnter:()=>{o({...a.get_slate().selection})},onExited:()=>{if(r&&r.current){let s=r.current.get_parameters();a.set_root({parameters:{...a.get_root().parameters,...s}})}z.focus(a.get_slate()),n&&n.anchor&&n.anchor.path&&I.select(a.get_slate(),n)}},PaperProps:{sx:{width:"40%"}},children:[D(Se,{children:pe(_l,{children:["idx: ",e.root.idx," [root]"]})}),D(xa,{}),D(ac,{node:e.root,ref:r}),D(Fa,{onClick:t,children:"Close"})]})})}class tC extends G.PureComponent{constructor(t){super(t),this.state={open:!1}}run(){this.setState({open:!0})}render(){let t=this.props,r=t.onExit||(o=>{}),n=this;return pe(Se,{sx:{marginX:"auto"},children:[D(_r,{onClick:n.run.bind(n),title:"\u8BBE\u7F6E\u53C2\u6570",icon:Hu}),D(eC,{root:t.root,editor:t.editor,open:n.state.open,onClose:o=>{r(o),n.setState({open:!1})}})]})}}const Yn="q",cc=["group","inline","support","structure"];function rC(e){return{key:Yn,activate_position:fc(),switch_position:aC(e)}}function Cu(e,t){let r=cc.indexOf(e);return JSON.stringify([r,t])}function nC(e){return JSON.stringify([e+cc.length,0])}function oC(e,t,r){return()=>{let n=e.get_core().get_sec_concept_list(t)[r];e.new_concept_node(t,n)}}function fc(){return(e,t)=>{if(t!=null)return t;if(e.length==0)return;let r=e.reduce((n,o)=>[...n,JSON.parse(o)],[]);return r.sort((n,o)=>n[0]==o[0]?n[1]-o[1]:n[0]-o[0]),JSON.stringify(r[0])}}function aC(e){return e==null?()=>{}:(t,r,n)=>{if(r==null)return fc()(t,r);let[o,a]=JSON.parse(r),s=t.reduce((d,p)=>[...d,JSON.parse(p)[0]],[]);s=Array.from(new Set(s)),s.sort((d,p)=>parseInt(d)-parseInt(p));let i=s.indexOf(o);n=="ArrowUp"?i--:n=="ArrowDown"&&i++,i=(i%s.length+s.length)%s.length,o=s[i];let u=t.reduce((d,p)=>{let[f,c]=JSON.parse(p);return f==o?[...d,c]:d},[]);u.sort((d,p)=>parseInt(d)-parseInt(p));let l=u.indexOf(a);return l<0&&(l=u.length-1),n=="ArrowLeft"?l--:n=="ArrowRight"&&l++,l=(l%u.length+u.length)%u.length,a=u[l],JSON.stringify([o,a])}}class sC extends G.Component{constructor(t){super(t)}render(){return D(oc,{sx:{maxWidth:"30rem"},overflow:"auto",children:this.props.children})}}function iC(e){let t=e.editor,r=e.extra?e.extra(t):[],n={group:ch,inline:dh,support:ph,structure:Dh},o={group:G.useRef(),inline:G.useRef(),support:G.useRef(),structure:G.useRef()};return pe(G.Fragment,{children:[["group","inline","support","structure"].map(a=>{let s=n[a],i=t.get_core().get_sec_concept_list(a);return D(Se,{sx:{marginX:"auto"},children:D(Jn,{space:Yn,position:Cu(a,0),run:()=>{o[a].current&&o[a].current.run()},children:D(Bs,{poper_props:{stacker:Eh,component:sC,sx:{opacity:"80%"}},outer_button:gn,outer_props:{children:D(s,{})},label:a,ref:o[a],children:i.map((u,l)=>D(Se,{flexShrink:0,children:D(Jn,{space:Yn,position:Cu(a,l+1),run:oC(t,a,l),children:D(Fa,{onClick:d=>t.new_concept_node(a,u),variant:"text",sx:{marginX:"0.1rem"},children:u})})},l))})})},a)}),Object.keys(r).map(a=>{let s=parseInt(a),i=r[s].button,u=r[s].run;return D(Se,{sx:{marginX:"auto"},children:D(Jn,{space:Yn,position:nC(s),run:()=>{u&&u()},children:i})},s)})]})}class uC extends G.Component{constructor(r){super(r);ae(this,"onUpdate");ae(this,"onFocusChange");ae(this,"onSave");ae(this,"editor_ref");this.onUpdate=r.onUpdate||(n=>{}),this.onFocusChange=r.onFocusChange||(()=>{}),this.onSave=r.onSave||(()=>{}),this.editor_ref=G.createRef()}get_editor(){if(this.editor_ref&&this.editor_ref.current)return this.editor_ref.current}get_root(){var r;return(r=this.get_editor())==null?void 0:r.get_root()}componentDidMount(){for(;!this.get_editor(););this.forceUpdate()}render(){let r={xs:"87%",md:"90%",xl:"93%"},n={xs:"89%",md:"92%",xl:"95%"},o={xs:"10%",md:"7%",xl:"5%"},a=ln(La,this.props.theme),s=this;return D(Cn,{value:{theme:a},children:D(Uu,{value:a,children:D(bm,{children:pe(GD,{spaces:[rC(s.get_editor()),JD(s.get_editor())],non_space_oprations:[{key:"s",on_activate:()=>{s.onSave()}}],children:[D(oc,{sx:{position:"absolute",top:"1%",height:"98%",paddingRight:"1%",width:r,overflow:"auto"},children:D(Cm,{children:D(sc.Consumer,{children:([i,u])=>D(Dm,{ref:s.editor_ref,editorcore:s.props.editorcore,plugin:s.props.plugin,init_rootchildren:s.props.init_rootchildren,init_rootproperty:s.props.init_rootproperty,onUpdate:s.props.onUpdate,onKeyPress:s.props.onKeyPress,onFocusChange:s.props.onFocusChange,onKeyDown:i,onKeyUp:u})})})},"area-1"),D(Se,{sx:{position:"absolute",top:"1%",height:"99%",left:n,width:o},children:(()=>{let i=s.get_editor(),u=s.get_root();return i&&u?pe(ja,{force_direction:"column",children:[D(tC,{root:u,editor:i}),s.props.extra_buttons,D(xa,{}),D(iC,{editor:s.get_editor(),extra:s.props.sidebar_extra})]}):D(cr,{})})()},"area-2")]})})})})}}function lC(e){let t=G.useContext(Ze),r=e.node,n=t.editor,o=n.get_editorcore().get_sec_concept_list("abstract"),a=e.onClose||(i=>{});function s(i){return u=>{if(a(u),i==null||o[i]==null)return;let l=[...r.abstract,n.get_editorcore().create_abstract(o[i])];n.set_node(r,{abstract:l})}}return pe(Fu,{anchorEl:e.anchor_element,open:e.open,onClose:a,children:[o.map((i,u)=>D(eo,{onClick:s(u),children:i},i)),D(eo,{onClick:i=>a(i),children:"\u7B97\u4E86"})]})}class cC extends G.Component{constructor(r){super(r);ae(this,"subeditor_ref");this.state={drawer_open:!1,enter_selection:void 0},this.subeditor_ref=G.createRef()}get_editor(){if(!!(this.subeditor_ref&&this.subeditor_ref.current&&this.subeditor_ref.current.get_editor()))return this.subeditor_ref.current.get_editor()}render(){let r=this,n=this.props.father.abstract[this.props.sonidx];if(!n)return;let[o,a]=(()=>{let{children:s,...i}=n;return[s,i]})();return D(Ze.Consumer,{children:s=>{let i=s.editor,u=s.theme;return D(Na,{anchor:"left",open:r.props.open,onClose:r.props.onClose,ModalProps:{keepMounted:!0},PaperProps:{sx:{width:"60%"}},SlideProps:{onEnter:()=>{let l=r.get_editor();!l||(r.setState({enter_selection:{...i.get_slate().selection}}),setTimeout(()=>{z.focus(l.get_slate())},1e3))},onExited:()=>{let l=r.get_editor();if(!l)return;let d=l.get_root(),p=r.props.father,f=p.abstract,c=Un(f,v=>{v[r.props.sonidx].children=d.children});i.set_node(p,{abstract:c}),z.focus(i.get_slate());let g=r.state.enter_selection;g&&g.anchor&&g.anchor.path&&I.select(i.get_slate(),g)}},children:D(qu.Provider,{value:!0,children:D(uC,{ref:r.subeditor_ref,editorcore:i.get_editorcore(),init_rootchildren:o,init_rootproperty:a,theme:u,sidebar_extra:l=>[{button:D(gn,{onClick:d=>{r.props.onClose(d),d.preventDefault()},children:D(lh,{})}),run:()=>{r.props.onClose(void 0)}}]})})})}})}}function fC(e){let t=e.node,r=t.abstract,n=e.onClose||(s=>{}),[o,a]=O.exports.useState(void 0);return pe(G.Fragment,{children:[pe(Fu,{anchorEl:e.anchor_element,open:e.open,onClose:e.onClose,children:[Object.keys(r).map(s=>pe(eo,{onClick:i=>{a(s),n(i)},children:[r[s].concept,"-",s]},s)),D(eo,{onClick:s=>{n(s)},children:"\u7B97\u4E86"})]}),Object.keys(r).map(s=>D(cC,{father:t,sonidx:parseInt(s),open:o==s,onClose:i=>{a(void 0)}},s))]})}class bC extends G.Component{constructor(r){super(r);ae(this,"boxref");this.state={ae:void 0},this.boxref=G.createRef()}get_box(){if(this.boxref&&this.boxref.current)return this.boxref.current}open(){this.setState({ae:this.get_box()})}close(){this.setState({ae:void 0})}run(){this.open()}render(){let r=this.props.node;return D(Ze.Consumer,{children:n=>(n.editor,pe(G.Fragment,{children:[D(Se,{sx:{marginX:"auto"},ref:this.boxref,children:D(bn,{title:"\u65B0\u5EFA\u62BD\u8C61",children:D(gn,{onClick:()=>this.open(),children:D(uh,{})})})}),D(lC,{node:r,anchor_element:this.state.ae,open:this.state.ae!=null,onClose:()=>this.close()})]}))})}}class BC extends G.Component{constructor(r){super(r);ae(this,"boxref");this.state={ae:void 0},this.boxref=G.createRef()}get_box(){if(this.boxref&&this.boxref.current)return this.boxref.current}open(){this.setState({ae:this.get_box()})}close(){this.setState({ae:void 0})}run(){this.open()}render(){let r=this.props.node;return D(Ze.Consumer,{children:n=>(n.editor,pe(G.Fragment,{children:[D(Se,{sx:{marginX:"auto"},ref:this.boxref,children:D(bn,{title:"\u7F16\u8F91\u62BD\u8C61",children:D(gn,{onClick:()=>this.open(),children:D(hh,{})})})}),D(fC,{node:r,anchor_element:this.state.ae,open:this.state.ae!=null,onClose:()=>this.close()})]}))})}}export{Cd as C,Na as D,Cn as G,mC as P,wd as S,Uu as T,fh as a,oc as b,DC as c,pr as g,he as s};
